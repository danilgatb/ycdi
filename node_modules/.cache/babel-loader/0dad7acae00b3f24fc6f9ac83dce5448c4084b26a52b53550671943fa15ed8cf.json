{"ast":null,"code":"import React,{useState,useEffect}from'react';import firebase from'firebase/app';import'firebase/auth';import'firebase/firestore';import'firebase/storage';import'./App.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const firebaseConfig={apiKey:\"AIzaSyBnDuRn5UuXkqTvIqL0eKSaqe7U6DIiqZk\",authDomain:\"ycdi-fae5f.firebaseapp.com\",projectId:\"ycdi-fae5f\",storageBucket:\"ycdi-fae5f.appspot.com\",messagingSenderId:\"1018262683569\",appId:\"1:1018262683569:web:f1d17114fedb62418e4790\"};if(!firebase.apps.length){firebase.initializeApp(firebaseConfig);}const db=firebase.firestore();const storage=firebase.storage();function App(){const[user,setUser]=useState(null);const[isLogin,setIsLogin]=useState(true);const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[name,setName]=useState('');const[error,setError]=useState('');const[split,setSplit]=useState('');const[goal,setGoal]=useState('');const[photos,setPhotos]=useState([]);useEffect(()=>{firebase.auth().onAuthStateChanged(u=>{if(u){setUser(u);const userRef=db.collection('users').doc(u.uid);userRef.get().then(doc=>{if(doc.exists){const data=doc.data();setName(data.name||'');setSplit(data.split||'');setGoal(data.goal||'');}});}else{setUser(null);}});},[]);const handleSignup=e=>{e.preventDefault();setError('');firebase.auth().createUserWithEmailAndPassword(email,password).then(cred=>{cred.user.updateProfile({displayName:name});return db.collection('users').doc(cred.user.uid).set({name:name,split:'',goal:'',photos:[]});}).catch(err=>setError(err.message));};const handleLogin=e=>{e.preventDefault();setError('');firebase.auth().signInWithEmailAndPassword(email,password).catch(err=>setError(err.message));};const handleLogout=()=>{firebase.auth().signOut();};if(user){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"frosted-glass\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Happy to have you back, \",name||user.displayName||user.email,\" \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsx(\"h2\",{children:split?\"You're doing: \".concat(split,\" Split\"):'No split set yet.'}),/*#__PURE__*/_jsx(\"h3\",{children:goal?\"Weekly Goal: \".concat(goal):'No weekly goal set yet.'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Progress Photos\"}),photos.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No photos yet.\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Log Out\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"frosted-glass\",children:[/*#__PURE__*/_jsx(\"h1\",{children:isLogin?\"Log In\":\"Create Account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:isLogin?handleLogin:handleSignup,children:[!isLogin&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",value:name,onChange:e=>setName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:isLogin?\"Log In\":\"Sign Up\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"p\",{className:\"toggle\",onClick:()=>setIsLogin(!isLogin),children:isLogin?\"Donâ€™t have an account? Create one\":\"Already have an account? Log in\"})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","firebase","jsxs","_jsxs","jsx","_jsx","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","apps","length","initializeApp","db","firestore","storage","App","user","setUser","isLogin","setIsLogin","email","setEmail","password","setPassword","name","setName","error","setError","split","setSplit","goal","setGoal","photos","setPhotos","auth","onAuthStateChanged","u","userRef","collection","doc","uid","get","then","exists","data","handleSignup","e","preventDefault","createUserWithEmailAndPassword","cred","updateProfile","displayName","set","catch","err","message","handleLogin","signInWithEmailAndPassword","handleLogout","signOut","className","children","concat","onClick","onSubmit","type","placeholder","value","onChange","target","required"],"sources":["/Users/Daniella/Desktop/YCDIAPP_Final_Complete/src/App.js"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport 'firebase/storage';\nimport './App.css';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBnDuRn5UuXkqTvIqL0eKSaqe7U6DIiqZk\",\n  authDomain: \"ycdi-fae5f.firebaseapp.com\",\n  projectId: \"ycdi-fae5f\",\n  storageBucket: \"ycdi-fae5f.appspot.com\",\n  messagingSenderId: \"1018262683569\",\n  appId: \"1:1018262683569:web:f1d17114fedb62418e4790\"\n};\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig);\n}\n\nconst db = firebase.firestore();\nconst storage = firebase.storage();\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [isLogin, setIsLogin] = useState(true);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [name, setName] = useState('');\n  const [error, setError] = useState('');\n  const [split, setSplit] = useState('');\n  const [goal, setGoal] = useState('');\n  const [photos, setPhotos] = useState([]);\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((u) => {\n      if (u) {\n        setUser(u);\n        const userRef = db.collection('users').doc(u.uid);\n        userRef.get().then(doc => {\n          if (doc.exists) {\n            const data = doc.data();\n            setName(data.name || '');\n            setSplit(data.split || '');\n            setGoal(data.goal || '');\n          }\n        });\n      } else {\n        setUser(null);\n      }\n    });\n  }, []);\n\n  const handleSignup = (e) => {\n    e.preventDefault();\n    setError('');\n    firebase.auth().createUserWithEmailAndPassword(email, password)\n      .then((cred) => {\n        cred.user.updateProfile({ displayName: name });\n        return db.collection('users').doc(cred.user.uid).set({\n          name: name,\n          split: '',\n          goal: '',\n          photos: []\n        });\n      })\n      .catch(err => setError(err.message));\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    setError('');\n    firebase.auth().signInWithEmailAndPassword(email, password)\n      .catch(err => setError(err.message));\n  };\n\n  const handleLogout = () => {\n    firebase.auth().signOut();\n  };\n\n  if (user) {\n    return (\n      <div className=\"container\">\n        <div className=\"frosted-glass\">\n          <h1>Happy to have you back, {name || user.displayName || user.email} ðŸ‘‹</h1>\n          <h2>{split ? `You're doing: ${split} Split` : 'No split set yet.'}</h2>\n          <h3>{goal ? `Weekly Goal: ${goal}` : 'No weekly goal set yet.'}</h3>\n          <div>\n            <h3>Progress Photos</h3>\n            {photos.length === 0 && <p>No photos yet.</p>}\n          </div>\n          <button onClick={handleLogout}>Log Out</button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"frosted-glass\">\n        <h1>{isLogin ? \"Log In\" : \"Create Account\"}</h1>\n        <form onSubmit={isLogin ? handleLogin : handleSignup}>\n          {!isLogin && (\n            <input type=\"text\" placeholder=\"Name\" value={name} onChange={(e) => setName(e.target.value)} required />\n          )}\n          <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} required />\n          <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\n          <button type=\"submit\">{isLogin ? \"Log In\" : \"Sign Up\"}</button>\n        </form>\n        {error && <p className=\"error\">{error}</p>}\n        <p className=\"toggle\" onClick={() => setIsLogin(!isLogin)}>\n          {isLogin ? \"Donâ€™t have an account? Create one\" : \"Already have an account? Log in\"}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}