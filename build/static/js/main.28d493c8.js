/*! For license information please see main.28d493c8.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=b.prototype=new y;w.constructor=b,v(w,m.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+A(u,0):o,_(a)?(i="",null!=e&&(i=e.replace(N,"$&/")+"/"),C(a,t,i,"",function(e){return e})):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var l=o+A(s=e[c],c);u+=C(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=o+A(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function x(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:x,forEach:function(e,t,n){x(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return x(e,function(){t++}),t},toArray:function(e){return x(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function _(e){if(g=!1,w(e),!v)if(null!==r(c))v=!0,O(S);else{var t=r(l);null!==t&&P(_,t.startTime-e)}}function S(e,n){v=!1,g&&(g=!1,y(k),k=-1),p=!0;var o=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&P(_,f.startTime-n),u=!1}return u}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,I=!1,T=null,k=-1,N=5,A=-1;function C(){return!(t.unstable_now()-A<N)}function x(){if(null!==T){var e=t.unstable_now();A=e;var n=!0;try{n=T(!0,e)}finally{n?E():(I=!1,T=null)}}else I=!1}if("function"===typeof b)E=function(){b(x)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=x,E=function(){D.postMessage(null)}}else E=function(){m(x,0)};function O(e){T=e,I||(I=!0,E())}function P(e,n){k=m(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(g?(y(k),k=-1):g=!0,P(_,o-a))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(S))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(he){var r=he}Reflect.construct(e,[],t)}else{try{t.call()}catch(he){r=he}e.call(t.prototype)}else{try{throw Error()}catch(he){r=he}e()}}catch(he){if(he&&r&&"string"===typeof he.stack){for(var i=he.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function q(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case T:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case x:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,fe,de=(fe=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return fe(e,t)})}:fe);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach(function(e){ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]})});var be=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ne=null,Ae=null;function Ce(e){if(e=Ii(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ki(t),Te(e.stateNode,e.type,t))}}function xe(e){Ne?Ae?Ae.push(e):Ae=[e]:Ne=e}function Re(){if(Ne){var e=Ne,t=Ae;if(Ae=Ne=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function De(e,t){return e(t)}function Oe(){}var Pe=!1;function Le(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return De(e,t,n)}finally{Pe=!1,(null!==Ne||null!==Ae)&&(Oe(),Re())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Fe=!1;if(l)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(fe){Fe=!1}function Ve(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var je=!1,qe=null,Be=!1,ze=null,Ke={onError:function(e){je=!0,qe=e}};function He(e,t,n,r,i,o,a,s,u){je=!1,qe=null,Ve.apply(Ke,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Ge(e)!==e)throw Error(o(188))}function Xe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Qe(i),e;if(a===r)return Qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,et=i.unstable_requestPaint,tt=i.unstable_now,nt=i.unstable_getCurrentPriorityLevel,rt=i.unstable_ImmediatePriority,it=i.unstable_UserBlockingPriority,ot=i.unstable_NormalPriority,at=i.unstable_LowPriority,st=i.unstable_IdlePriority,ut=null,ct=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ft(e)/ht|0)|0},ft=Math.log,ht=Math.LN2;var dt=64,pt=4194304;function vt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=vt(s):0!==(o&=a)&&(r=vt(o))}else 0!==(a=n&~i)?r=vt(a):0!==o&&(r=vt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-lt(t)),r|=e[n],t&=~i;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function yt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function bt(){var e=dt;return 0===(4194240&(dt<<=1))&&(dt=64),e}function wt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _t(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function St(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Et=0;function It(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Tt,kt,Nt,At,Ct,xt=!1,Rt=[],Dt=null,Ot=null,Pt=null,Lt=new Map,Mt=new Map,Ft=[],Ut="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vt(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function jt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ii(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function qt(e){var t=Ei(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=en(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ii(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ee=r,n.target.dispatchEvent(r),Ee=null,t.shift()}return!0}function zt(e,t,n){Bt(e)&&n.delete(t)}function Kt(){xt=!1,null!==Dt&&Bt(Dt)&&(Dt=null),null!==Ot&&Bt(Ot)&&(Ot=null),null!==Pt&&Bt(Pt)&&(Pt=null),Lt.forEach(zt),Mt.forEach(zt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Kt)))}function Gt(e){function t(t){return Ht(t,e)}if(0<Rt.length){Ht(Rt[0],e);for(var n=1;n<Rt.length;n++){var r=Rt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Dt&&Ht(Dt,e),null!==Ot&&Ht(Ot,e),null!==Pt&&Ht(Pt,e),Lt.forEach(t),Mt.forEach(t),n=0;n<Ft.length;n++)(r=Ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&null===(n=Ft[0]).blockedOn;)qt(n),null===n.blockedOn&&Ft.shift()}var Wt=w.ReactCurrentBatchConfig,Qt=!0;function Xt(e,t,n,r){var i=Et,o=Wt.transition;Wt.transition=null;try{Et=1,Jt(e,t,n,r)}finally{Et=i,Wt.transition=o}}function Yt(e,t,n,r){var i=Et,o=Wt.transition;Wt.transition=null;try{Et=4,Jt(e,t,n,r)}finally{Et=i,Wt.transition=o}}function Jt(e,t,n,r){if(Qt){var i=en(e,t,n,r);if(null===i)Xr(e,t,r,Zt,n),Vt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Dt=jt(Dt,e,t,n,r,i),!0;case"dragenter":return Ot=jt(Ot,e,t,n,r,i),!0;case"mouseover":return Pt=jt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Lt.set(o,jt(Lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Mt.set(o,jt(Mt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Vt(e,r),4&t&&-1<Ut.indexOf(e)){for(;null!==i;){var o=Ii(i);if(null!==o&&Tt(o),null===(o=en(e,t,n,r))&&Xr(e,t,r,Zt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Xr(e,t,r,null,n)}}var Zt=null;function en(e,t,n,r){if(Zt=null,null!==(e=Ei(e=Ie(r))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function tn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nt()){case rt:return 1;case it:return 4;case ot:case at:return 16;case st:return 536870912;default:return 16}default:return 16}}var nn=null,rn=null,on=null;function an(){if(on)return on;var e,t,n=rn,r=n.length,i="value"in nn?nn.value:nn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return on=i.slice(e,1<t?1-t:void 0)}function sn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function un(){return!0}function cn(){return!1}function ln(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?un:cn,this.isPropagationStopped=cn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=un)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=un)},persist:function(){},isPersistent:un}),t}var fn,hn,dn,pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vn=ln(pn),gn=F({},pn,{view:0,detail:0}),mn=ln(gn),yn=F({},gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(fn=e.screenX-dn.screenX,hn=e.screenY-dn.screenY):hn=fn=0,dn=e),fn)},movementY:function(e){return"movementY"in e?e.movementY:hn}}),bn=ln(yn),wn=ln(F({},yn,{dataTransfer:0})),_n=ln(F({},gn,{relatedTarget:0})),Sn=ln(F({},pn,{animationName:0,elapsedTime:0,pseudoElement:0})),En=F({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),In=ln(En),Tn=ln(F({},pn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function xn(){return Cn}var Rn=F({},gn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?sn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=ln(Rn),On=ln(F({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=ln(F({},gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Ln=ln(F({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=F({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=ln(Mn),Un=[9,13,27,32],Vn=l&&"CompositionEvent"in window,jn=null;l&&"documentMode"in document&&(jn=document.documentMode);var qn=l&&"TextEvent"in window&&!jn,Bn=l&&(!Vn||jn&&8<jn&&11>=jn),zn=String.fromCharCode(32),Kn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Un.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Qn[e.type]:"textarea"===t}function $n(e,t,n,r){xe(r),0<(t=Yr(t,"onChange")).length&&(n=new vn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Jn=null;function Zn(e){zr(e,0)}function er(e){if(W(Ti(e)))return e}function tr(e,t){if("change"===e)return t}var nr=!1;if(l){var rr;if(l){var ir="oninput"in document;if(!ir){var or=document.createElement("div");or.setAttribute("oninput","return;"),ir="function"===typeof or.oninput}rr=ir}else rr=!1;nr=rr&&(!document.documentMode||9<document.documentMode)}function ar(){Yn&&(Yn.detachEvent("onpropertychange",sr),Jn=Yn=null)}function sr(e){if("value"===e.propertyName&&er(Jn)){var t=[];$n(t,Jn,e,Ie(e)),Le(Zn,t)}}function ur(e,t,n){"focusin"===e?(ar(),Jn=n,(Yn=t).attachEvent("onpropertychange",sr)):"focusout"===e&&ar()}function cr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return er(Jn)}function lr(e,t){if("click"===e)return er(t)}function fr(e,t){if("input"===e||"change"===e)return er(t)}var hr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function dr(e,t){if(hr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!hr(e[i],t[i]))return!1}return!0}function pr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vr(e,t){var n,r=pr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function br(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gr(n.ownerDocument.documentElement,n)){if(null!==r&&yr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=vr(n,o);var a=vr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wr=l&&"documentMode"in document&&11>=document.documentMode,_r=null,Sr=null,Er=null,Ir=!1;function Tr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ir||null==_r||_r!==Q(r)||("selectionStart"in(r=_r)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&dr(Er,r)||(Er=r,0<(r=Yr(Sr,"onSelect")).length&&(t=new vn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Ar={},Cr={};function xr(e){if(Ar[e])return Ar[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Ar[e]=n[t];return e}l&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Rr=xr("animationend"),Dr=xr("animationiteration"),Or=xr("animationstart"),Pr=xr("transitionend"),Lr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(e,t){Lr.set(e,t),u(t,[e])}for(var Ur=0;Ur<Mr.length;Ur++){var Vr=Mr[Ur];Fr(Vr.toLowerCase(),"on"+(Vr[0].toUpperCase()+Vr.slice(1)))}Fr(Rr,"onAnimationEnd"),Fr(Dr,"onAnimationIteration"),Fr(Or,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(He.apply(this,arguments),je){if(!je)throw Error(o(198));var l=qe;je=!1,qe=null,Be||(Be=!0,ze=l)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Br(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Br(i,s,c),o=u}}}if(Be)throw e=ze,Be=!1,ze=null,e}function Kr(e,t){var n=t[wi];void 0===n&&(n=t[wi]=new Set);var r=e+"__bubble";n.has(r)||(Qr(t,e,2,!1),n.add(r))}function Hr(e,t,n){var r=0;t&&(r|=4),Qr(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Gr]){e[Gr]=!0,a.forEach(function(t){"selectionchange"!==t&&(qr.has(t)||Hr(t,!1,e),Hr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gr]||(t[Gr]=!0,Hr("selectionchange",!1,t))}}function Qr(e,t,n,r){switch(tn(t)){case 1:var i=Xt;break;case 4:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Ei(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Le(function(){var r=o,i=Ie(n),a=[];e:{var s=Lr.get(e);if(void 0!==s){var u=vn,c=e;switch(e){case"keypress":if(0===sn(n))break e;case"keydown":case"keyup":u=Dn;break;case"focusin":c="focus",u=_n;break;case"focusout":c="blur",u=_n;break;case"beforeblur":case"afterblur":u=_n;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=wn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Rr:case Dr:case Or:u=Sn;break;case Pr:u=Ln;break;case"scroll":u=mn;break;case"wheel":u=Fn;break;case"copy":case"cut":case"paste":u=In;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Me(p,h))&&l.push($r(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ee||!(c=n.relatedTarget||n.fromElement)||!Ei(c)&&!c[bi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ei(c):null)&&(c!==(f=Ge(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=bn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:Ti(u),d=null==c?s:Ti(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,Ei(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Jr(d))p++;for(d=0,v=h;v;v=Jr(v))d++;for(;0<p-d;)l=Jr(l),p--;for(;0<d-p;)h=Jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Jr(l),h=Jr(h)}l=null}else l=null;null!==u&&Zr(a,s,u,l,!1),null!==c&&null!==f&&Zr(a,f,c,l,!0)}if("select"===(u=(s=r?Ti(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=tr;else if(Xn(s))if(nr)g=fr;else{g=cr;var m=ur}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=lr);switch(g&&(g=g(e,r))?$n(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?Ti(r):window,e){case"focusin":(Xn(m)||"true"===m.contentEditable)&&(_r=m,Sr=r,Er=null);break;case"focusout":Er=Sr=_r=null;break;case"mousedown":Ir=!0;break;case"contextmenu":case"mouseup":case"dragend":Ir=!1,Tr(a,n,i);break;case"selectionchange":if(wr)break;case"keydown":case"keyup":Tr(a,n,i)}var y;if(Vn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Hn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=an()):(rn="value"in(nn=i)?nn.value:nn.textContent,Wn=!0)),0<(m=Yr(r,b)).length&&(b=new Tn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Gn(n))&&(b.data=y))),(y=qn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Kn=!0,zn);case"textInput":return(e=t.data)===zn&&Kn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Vn&&Hn(e,t)?(e=an(),on=rn=nn=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new Tn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}zr(a,t)})}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Me(e,n))&&r.unshift($r(e,o,i)),null!=(o=Me(e,t))&&r.push($r(e,o,i))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Me(n,o))&&a.unshift($r(n,u,s)):i||null!=(u=Me(n,o))&&a.push($r(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ei=/\r\n?/g,ti=/\u0000|\uFFFD/g;function ni(e){return("string"===typeof e?e:""+e).replace(ei,"\n").replace(ti,"")}function ri(e,t,n){if(t=ni(t),ni(e)!==t&&n)throw Error(o(425))}function ii(){}var oi=null,ai=null;function si(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ui="function"===typeof setTimeout?setTimeout:void 0,ci="function"===typeof clearTimeout?clearTimeout:void 0,li="function"===typeof Promise?Promise:void 0,fi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof li?function(e){return li.resolve(null).then(e).catch(hi)}:ui;function hi(e){setTimeout(function(){throw e})}function di(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Gt(t)}function pi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function vi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),mi="__reactFiber$"+gi,yi="__reactProps$"+gi,bi="__reactContainer$"+gi,wi="__reactEvents$"+gi,_i="__reactListeners$"+gi,Si="__reactHandles$"+gi;function Ei(e){var t=e[mi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bi]||n[mi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=vi(e);null!==e;){if(n=e[mi])return n;e=vi(e)}return t}n=(e=n).parentNode}return null}function Ii(e){return!(e=e[mi]||e[bi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ki(e){return e[yi]||null}var Ni=[],Ai=-1;function Ci(e){return{current:e}}function xi(e){0>Ai||(e.current=Ni[Ai],Ni[Ai]=null,Ai--)}function Ri(e,t){Ai++,Ni[Ai]=e.current,e.current=t}var Di={},Oi=Ci(Di),Pi=Ci(!1),Li=Di;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Fi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ui(){xi(Pi),xi(Oi)}function Vi(e,t,n){if(Oi.current!==Di)throw Error(o(168));Ri(Oi,t),Ri(Pi,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return F({},n,r)}function qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,Li=Oi.current,Ri(Oi,e),Ri(Pi,Pi.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ji(e,t,Li),r.__reactInternalMemoizedMergedChildContext=e,xi(Pi),xi(Oi),Ri(Oi,e)):xi(Pi),Ri(Pi,n)}var zi=null,Ki=!1,Hi=!1;function Gi(e){null===zi?zi=[e]:zi.push(e)}function Wi(){if(!Hi&&null!==zi){Hi=!0;var e=0,t=Et;try{var n=zi;for(Et=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Ki=!1}catch(Pp){throw null!==zi&&(zi=zi.slice(e+1)),Ye(rt,Wi),Pp}finally{Et=t,Hi=!1}}return null}var Qi=[],Xi=0,$i=null,Yi=0,Ji=[],Zi=0,eo=null,to=1,no="";function ro(e,t){Qi[Xi++]=Yi,Qi[Xi++]=$i,$i=e,Yi=t}function io(e,t,n){Ji[Zi++]=to,Ji[Zi++]=no,Ji[Zi++]=eo,eo=e;var r=to;e=no;var i=32-lt(r)-1;r&=~(1<<i),n+=1;var o=32-lt(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,to=1<<32-lt(t)+i|n<<i|r,no=o+e}else to=1<<o|n<<i|r,no=e}function oo(e){null!==e.return&&(ro(e,1),io(e,1,0))}function ao(e){for(;e===$i;)$i=Qi[--Xi],Qi[Xi]=null,Yi=Qi[--Xi],Qi[Xi]=null;for(;e===eo;)eo=Ji[--Zi],Ji[Zi]=null,no=Ji[--Zi],Ji[Zi]=null,to=Ji[--Zi],Ji[Zi]=null}var so=null,uo=null,co=!1,lo=null;function fo(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ho(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,so=e,uo=pi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,so=e,uo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==eo?{id:to,overflow:no}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,so=e,uo=null,!0);default:return!1}}function po(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function vo(e){if(co){var t=uo;if(t){var n=t;if(!ho(e,t)){if(po(e))throw Error(o(418));t=pi(n.nextSibling);var r=so;t&&ho(e,t)?fo(r,n):(e.flags=-4097&e.flags|2,co=!1,so=e)}}else{if(po(e))throw Error(o(418));e.flags=-4097&e.flags|2,co=!1,so=e}}}function go(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;so=e}function mo(e){if(e!==so)return!1;if(!co)return go(e),co=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!si(e.type,e.memoizedProps)),t&&(t=uo)){if(po(e))throw yo(),Error(o(418));for(;t;)fo(e,t),t=pi(t.nextSibling)}if(go(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){uo=pi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}uo=null}}else uo=so?pi(e.stateNode.nextSibling):null;return!0}function yo(){for(var e=uo;e;)e=pi(e.nextSibling)}function bo(){uo=so=null,co=!1}function wo(e){null===lo?lo=[e]:lo.push(e)}var _o=w.ReactCurrentBatchConfig;function So(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Eo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Io(e){return(0,e._init)(e._payload)}function To(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&Io(o)===t.type)?((r=i(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=Vc(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=jc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Vc(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case S:return(t=zc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=jc(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=g);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=g}if(v===s.length)return n(i,f),co&&ro(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return co&&ro(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach(function(e){return t(i,e)}),co&&ro(i,v),c}function g(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,g),null===f?l=b:f.sibling=b,f=b,v=m}if(y.done)return n(i,v),co&&ro(i,g),l;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===f?l=y:f.sibling=y,f=y);return co&&ro(i,g),l}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=a(y,s,g),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach(function(e){return t(i,e)}),co&&ro(i,g),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Io(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=So(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===E?((o=jc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Vc(a.type,a.key,a.props,null,r.mode,u)).ref=So(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zc(a,r.mode,u)).return=r,r=o}return s(r);case D:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(L(a))return g(r,o,a,u);Eo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Bc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var ko=To(!0),No=To(!1),Ao=Ci(null),Co=null,xo=null,Ro=null;function Do(){Ro=xo=Co=null}function Oo(e){var t=Ao.current;xi(Ao),e._currentValue=t}function Po(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lo(e,t){Co=e,Ro=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Is=!0),e.firstContext=null)}function Mo(e){var t=e._currentValue;if(Ro!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===Co)throw Error(o(308));xo=e,Co.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var Fo=null;function Uo(e){null===Fo?Fo=[e]:Fo.push(e)}function Vo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Uo(t)):(n.next=i.next,i.next=n),t.interleaved=n,jo(e,r)}function jo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var qo=!1;function Bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ko(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ho(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ou)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jo(e,n)}return null===(i=r.interleaved)?(t.next=t,Uo(r)):(t.next=i.next,i.next=t),r.interleaved=t,jo(e,n)}function Go(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,St(e,n)}}function Wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qo(e,t,n,r){var i=e.updateQueue;qo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,l=c=u=null,s=o;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:qo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);qu|=a,e.lanes=a,e.memoizedState=f}}function Xo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var $o={},Yo=Ci($o),Jo=Ci($o),Zo=Ci($o);function ea(e){if(e===$o)throw Error(o(174));return e}function ta(e,t){switch(Ri(Zo,t),Ri(Jo,e),Ri(Yo,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Yo),Ri(Yo,t)}function na(){xi(Yo),xi(Jo),xi(Zo)}function ra(e){ea(Zo.current);var t=ea(Yo.current),n=ue(t,e.type);t!==n&&(Ri(Jo,e),Ri(Yo,n))}function ia(e){Jo.current===e&&(xi(Yo),xi(Jo))}var oa=Ci(0);function aa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function ua(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var ca=w.ReactCurrentDispatcher,la=w.ReactCurrentBatchConfig,fa=0,ha=null,da=null,pa=null,va=!1,ga=!1,ma=0,ya=0;function ba(){throw Error(o(321))}function wa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hr(e[n],t[n]))return!1;return!0}function _a(e,t,n,r,i,a){if(fa=a,ha=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ca.current=null===e||null===e.memoizedState?is:os,e=n(r,i),ga){a=0;do{if(ga=!1,ma=0,25<=a)throw Error(o(301));a+=1,pa=da=null,t.updateQueue=null,ca.current=as,e=n(r,i)}while(ga)}if(ca.current=rs,t=null!==da&&null!==da.next,fa=0,pa=da=ha=null,va=!1,t)throw Error(o(300));return e}function Sa(){var e=0!==ma;return ma=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===pa?ha.memoizedState=pa=e:pa=pa.next=e,pa}function Ia(){if(null===da){var e=ha.alternate;e=null!==e?e.memoizedState:null}else e=da.next;var t=null===pa?ha.memoizedState:pa.next;if(null!==t)pa=t,da=e;else{if(null===e)throw Error(o(310));e={memoizedState:(da=e).memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},null===pa?ha.memoizedState=pa=e:pa=pa.next=e}return pa}function Ta(e,t){return"function"===typeof t?t(e):t}function ka(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=da,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((fa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,ha.lanes|=f,qu|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,hr(r,t.memoizedState)||(Is=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ha.lanes|=a,qu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);hr(a,t.memoizedState)||(Is=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Ca(e,t){var n=ha,r=Ia(),i=t(),a=!hr(r.memoizedState,i);if(a&&(r.memoizedState=i,Is=!0),r=r.queue,qa(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==pa&&1&pa.memoizedState.tag){if(n.flags|=2048,Ma(9,Ra.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(o(349));0!==(30&fa)||xa(n,t,i)}return i}function xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ha.updateQueue)?(t={lastEffect:null,stores:null},ha.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,Oa(t)&&Pa(e)}function Da(e,t,n){return n(function(){Oa(t)&&Pa(e)})}function Oa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hr(e,n)}catch(r){return!0}}function Pa(e){var t=jo(e,1);null!==t&&sc(t,e,1,-1)}function La(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=Za.bind(null,ha,e),[t.memoizedState,e]}function Ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ha.updateQueue)?(t={lastEffect:null,stores:null},ha.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return Ia().memoizedState}function Ua(e,t,n,r){var i=Ea();ha.flags|=e,i.memoizedState=Ma(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==da){var a=da.memoizedState;if(o=a.destroy,null!==r&&wa(r,a.deps))return void(i.memoizedState=Ma(t,n,o,r))}ha.flags|=e,i.memoizedState=Ma(1|t,n,o,r)}function ja(e,t){return Ua(8390656,8,e,t)}function qa(e,t){return Va(2048,8,e,t)}function Ba(e,t){return Va(4,2,e,t)}function za(e,t){return Va(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ha(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Ka.bind(null,t,e),n)}function Ga(){}function Wa(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,Is=!0),e.memoizedState=n):(hr(n,t)||(n=bt(),ha.lanes|=n,qu|=n,e.baseState=!0),t)}function $a(e,t){var n=Et;Et=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{Et=n,la.transition=r}}function Ya(){return Ia().memoizedState}function Ja(e,t,n){var r=ac(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},es(e))ts(t,n);else if(null!==(n=Vo(e,t,n,r))){sc(n,e,r,oc()),ns(n,t,r)}}function Za(e,t,n){var r=ac(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(es(e))ts(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,hr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Uo(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(he){}null!==(n=Vo(e,t,i,r))&&(sc(n,e,r,i=oc()),ns(n,t,r))}}function es(e){var t=e.alternate;return e===ha||null!==t&&t===ha}function ts(e,t){ga=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ns(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,St(e,n)}}var rs={readContext:Mo,useCallback:ba,useContext:ba,useEffect:ba,useImperativeHandle:ba,useInsertionEffect:ba,useLayoutEffect:ba,useMemo:ba,useReducer:ba,useRef:ba,useState:ba,useDebugValue:ba,useDeferredValue:ba,useTransition:ba,useMutableSource:ba,useSyncExternalStore:ba,useId:ba,unstable_isNewReconciler:!1},is={readContext:Mo,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Mo,useEffect:ja,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ja.bind(null,ha,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:La,useDebugValue:Ga,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=La(!1),t=e[0];return e=$a.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ha,i=Ea();if(co){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pu)throw Error(o(349));0!==(30&fa)||xa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ja(Da.bind(null,r,a,e),[e]),r.flags|=2048,Ma(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Pu.identifierPrefix;if(co){var n=no;t=":"+t+"R"+(n=(to&~(1<<32-lt(to)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ya++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},os={readContext:Mo,useCallback:Wa,useContext:Mo,useEffect:qa,useImperativeHandle:Ha,useInsertionEffect:Ba,useLayoutEffect:za,useMemo:Qa,useReducer:ka,useRef:Fa,useState:function(){return ka(Ta)},useDebugValue:Ga,useDeferredValue:function(e){return Xa(Ia(),da.memoizedState,e)},useTransition:function(){return[ka(Ta)[0],Ia().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ca,useId:Ya,unstable_isNewReconciler:!1},as={readContext:Mo,useCallback:Wa,useContext:Mo,useEffect:qa,useImperativeHandle:Ha,useInsertionEffect:Ba,useLayoutEffect:za,useMemo:Qa,useReducer:Na,useRef:Fa,useState:function(){return Na(Ta)},useDebugValue:Ga,useDeferredValue:function(e){var t=Ia();return null===da?t.memoizedState=e:Xa(t,da.memoizedState,e)},useTransition:function(){return[Na(Ta)[0],Ia().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ca,useId:Ya,unstable_isNewReconciler:!1};function ss(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function us(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var cs={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oc(),i=ac(e),o=Ko(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ho(e,o,i))&&(sc(t,e,i,r),Go(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oc(),i=ac(e),o=Ko(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ho(e,o,i))&&(sc(t,e,i,r),Go(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oc(),r=ac(e),i=Ko(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ho(e,i,r))&&(sc(t,e,r,n),Go(t,e,r))}};function ls(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function fs(e,t,n){var r=!1,i=Di,o=t.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(i=Fi(t)?Li:Oi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=cs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function hs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cs.enqueueReplaceState(t,t.state,null)}function ds(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Bo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Mo(o):(o=Fi(t)?Li:Oi.current,i.context=Mi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(us(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&cs.enqueueReplaceState(i,i.state,null),Qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ps(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function vs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function gs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ms="function"===typeof WeakMap?WeakMap:Map;function ys(e,t,n){(n=Ko(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,$u=r),gs(0,t)},n}function bs(e,t,n){(n=Ko(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){gs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){gs(0,t),"function"!==typeof r&&(null===Yu?Yu=new Set([this]):Yu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ws(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ms;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function _s(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ss(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ko(-1,1)).tag=2,Ho(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Es=w.ReactCurrentOwner,Is=!1;function Ts(e,t,n,r){t.child=null===e?No(t,null,n,r):ko(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var o=t.ref;return Lo(t,i),r=_a(e,t,n,r,o,i),n=Sa(),null===e||Is?(co&&n&&oo(t),t.flags|=1,Ts(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xs(e,t,i))}function Ns(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Fc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,As(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:dr)(a,r)&&e.ref===t.ref)return Xs(e,t,i)}return t.flags|=1,(e=Uc(o,r)).ref=t.ref,e.return=t,t.child=e}function As(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(dr(o,r)&&e.ref===t.ref){if(Is=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Xs(e,t,i);0!==(131072&e.flags)&&(Is=!0)}}return Rs(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ri(Uu,Fu),Fu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ri(Uu,Fu),Fu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ri(Uu,Fu),Fu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ri(Uu,Fu),Fu|=r;return Ts(e,t,i,n),t.child}function xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Rs(e,t,n,r,i){var o=Fi(n)?Li:Oi.current;return o=Mi(t,o),Lo(t,i),n=_a(e,t,n,r,o,i),r=Sa(),null===e||Is?(co&&r&&oo(t),t.flags|=1,Ts(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xs(e,t,i))}function Ds(e,t,n,r,i){if(Fi(n)){var o=!0;qi(t)}else o=!1;if(Lo(t,i),null===t.stateNode)Qs(e,t),fs(t,n,r),ds(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mo(c):c=Mi(t,c=Fi(n)?Li:Oi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&hs(t,a,r,c),qo=!1;var h=t.memoizedState;a.state=h,Qo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||Pi.current||qo?("function"===typeof l&&(us(t,n,l,r),u=t.memoizedState),(s=qo||ls(t,n,s,r,h,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,zo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ss(t.type,s),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Mo(u):u=Mi(t,u=Fi(n)?Li:Oi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&hs(t,a,r,u),qo=!1,h=t.memoizedState,a.state=h,Qo(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||Pi.current||qo?("function"===typeof d&&(us(t,n,d,r),p=t.memoizedState),(c=qo||ls(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,o,i)}function Os(e,t,n,r,i,o){xs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Bi(t,n,!1),Xs(e,t,o);r=t.stateNode,Es.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Ts(e,t,s,o),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Vi(0,t.context,!1),ta(e,t.containerInfo)}function Ls(e,t,n,r,i){return bo(),wo(i),t.flags|=256,Ts(e,t,n,r),t.child}var Ms,Fs,Us,Vs,js={dehydrated:null,treeContext:null,retryLane:0};function qs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var r,i=t.pendingProps,a=oa.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ri(oa,1&a),null===e)return vo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=qc(u,i,0,null),e=jc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=qs(n),t.memoizedState=js,e):zs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ks(e,t,s,r=vs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=qc({mode:"visible",children:r.children},i,0,null),(a=jc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ko(t,e.child,null,s),t.child.memoizedState=qs(s),t.memoizedState=js,a);if(0===(1&t.mode))return Ks(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Ks(e,t,s,r=vs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),Is||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,jo(e,i),sc(r,e,i,-1))}return wc(),Ks(e,t,s,r=vs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Dc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,uo=pi(i.nextSibling),so=t,co=!0,lo=null,null!==e&&(Ji[Zi++]=to,Ji[Zi++]=no,Ji[Zi++]=eo,to=e.id,no=e.overflow,eo=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Uc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Uc(r,s):(s=jc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?qs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=js,i}return e=(s=e.child).sibling,i=Uc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=qc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ks(e,t,n,r){return null!==r&&wo(r),ko(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Po(e.return,t,n)}function Gs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ws(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ts(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,n,t);else if(19===e.tag)Hs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ri(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===aa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===aa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gs(t,!0,n,null,o);break;case"together":Gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Uc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){if(!co)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Js(e,t,n){var r=t.pendingProps;switch(ao(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Fi(t.type)&&Ui(),Ys(t),null;case 3:return r=t.stateNode,na(),xi(Pi),xi(Oi),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(mo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==lo&&(fc(lo),lo=null))),Fs(e,t),Ys(t),null;case 5:ia(t);var i=ea(Zo.current);if(n=t.type,null!==e&&null!=t.stateNode)Us(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ys(t),null}if(e=ea(Yo.current),mo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[mi]=t,r[yi]=a,e=0!==(1&t.mode),n){case"dialog":Kr("cancel",r),Kr("close",r);break;case"iframe":case"object":case"embed":Kr("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Kr(jr[i],r);break;case"source":Kr("error",r);break;case"img":case"image":case"link":Kr("error",r),Kr("load",r);break;case"details":Kr("toggle",r);break;case"input":$(r,a),Kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Kr("invalid",r);break;case"textarea":ie(r,a),Kr("invalid",r)}for(var u in we(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&ri(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&ri(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Kr("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ii)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[mi]=t,e[yi]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Kr("cancel",e),Kr("close",e),i=r;break;case"iframe":case"object":case"embed":Kr("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Kr(jr[i],e);i=r;break;case"source":Kr("error",e),i=r;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),i=r;break;case"details":Kr("toggle",e),i=r;break;case"input":$(e,r),i=X(e,r),Kr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Kr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Kr("invalid",e)}for(a in we(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ye(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&pe(e,l):"number"===typeof l&&pe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Kr("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ii)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Vs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ea(Zo.current),ea(Yo.current),mo(t)){if(r=t.stateNode,n=t.memoizedProps,r[mi]=t,(a=r.nodeValue!==n)&&null!==(e=so))switch(e.tag){case 3:ri(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ri(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[mi]=t,t.stateNode=r}return Ys(t),null;case 13:if(xi(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(co&&null!==uo&&0!==(1&t.mode)&&0===(128&t.flags))yo(),bo(),t.flags|=98560,a=!1;else if(a=mo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[mi]=t}else bo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),a=!1}else null!==lo&&(fc(lo),lo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Vu&&(Vu=3):wc())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return na(),Fs(e,t),null===e&&Wr(t.stateNode.containerInfo),Ys(t),null;case 10:return Oo(t.type._context),Ys(t),null;case 19:if(xi(oa),null===(a=t.memoizedState))return Ys(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)$s(a,!1);else{if(0!==Vu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=aa(e))){for(t.flags|=128,$s(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ri(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&tt()>Wu&&(t.flags|=128,r=!0,$s(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=aa(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$s(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!co)return Ys(t),null}else 2*tt()-a.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=128,r=!0,$s(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=tt(),t.sibling=null,n=oa.current,Ri(oa,r?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return gc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fu)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Zs(e,t){switch(ao(t),t.tag){case 1:return Fi(t.type)&&Ui(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return na(),xi(Pi),xi(Oi),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ia(t),null;case 13:if(xi(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));bo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(oa),null;case 4:return na(),null;case 10:return Oo(t.type._context),null;case 22:case 23:return gc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fs=function(){},Us=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ea(Yo.current);var o,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ii)}for(l in we(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Kr("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Vs=function(e,t,n,r){n!==r&&(t.flags|=4)};var eu=!1,tu=!1,nu="function"===typeof WeakSet?WeakSet:Set,ru=null;function iu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function ou(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var au=!1;function su(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ou(t,n,o)}i=i.next}while(i!==r)}}function uu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function lu(e){var t=e.alternate;null!==t&&(e.alternate=null,lu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mi],delete t[yi],delete t[wi],delete t[_i],delete t[Si])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fu(e){return 5===e.tag||3===e.tag||4===e.tag}function hu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function du(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ii));else if(4!==r&&null!==(e=e.child))for(du(e,t,n),e=e.sibling;null!==e;)du(e,t,n),e=e.sibling}function pu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(pu(e,t,n),e=e.sibling;null!==e;)pu(e,t,n),e=e.sibling}var vu=null,gu=!1;function mu(e,t,n){for(n=n.child;null!==n;)yu(e,t,n),n=n.sibling}function yu(e,t,n){if(ct&&"function"===typeof ct.onCommitFiberUnmount)try{ct.onCommitFiberUnmount(ut,n)}catch(s){}switch(n.tag){case 5:tu||iu(n,t);case 6:var r=vu,i=gu;vu=null,mu(e,t,n),gu=i,null!==(vu=r)&&(gu?(e=vu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):vu.removeChild(n.stateNode));break;case 18:null!==vu&&(gu?(e=vu,n=n.stateNode,8===e.nodeType?di(e.parentNode,n):1===e.nodeType&&di(e,n),Gt(e)):di(vu,n.stateNode));break;case 4:r=vu,i=gu,vu=n.stateNode.containerInfo,gu=!0,mu(e,t,n),vu=r,gu=i;break;case 0:case 11:case 14:case 15:if(!tu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&ou(n,t,a),i=i.next}while(i!==r)}mu(e,t,n);break;case 1:if(!tu&&(iu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cc(n,t,s)}mu(e,t,n);break;case 21:mu(e,t,n);break;case 22:1&n.mode?(tu=(r=tu)||null!==n.memoizedState,mu(e,t,n),tu=r):mu(e,t,n);break;default:mu(e,t,n)}}function bu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new nu),t.forEach(function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function wu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:vu=u.stateNode,gu=!1;break e;case 3:case 4:vu=u.stateNode.containerInfo,gu=!0;break e}u=u.return}if(null===vu)throw Error(o(160));yu(a,s,i),vu=null,gu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(he){Cc(i,t,he)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)_u(t,e),t=t.sibling}function _u(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wu(t,e),Su(e),4&r){try{su(3,e,e.return),uu(3,e)}catch(Se){Cc(e,e.return,Se)}try{su(5,e,e.return)}catch(Se){Cc(e,e.return,Se)}}break;case 1:wu(t,e),Su(e),512&r&&null!==n&&iu(n,n.return);break;case 5:if(wu(t,e),Su(e),512&r&&null!==n&&iu(n,n.return),32&e.flags){var i=e.stateNode;try{pe(i,"")}catch(Se){Cc(e,e.return,Se)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&Y(i,a),_e(u,s);var l=_e(u,a);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?de(i,h):"children"===f?pe(i,h):b(i,f,h,l)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[yi]=a}catch(Se){Cc(e,e.return,Se)}}break;case 6:if(wu(t,e),Su(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(Se){Cc(e,e.return,Se)}}break;case 3:if(wu(t,e),Su(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(Se){Cc(e,e.return,Se)}break;case 4:default:wu(t,e),Su(e);break;case 13:wu(t,e),Su(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Gu=tt())),4&r&&bu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(tu=(l=tu)||f,wu(t,e),tu=l):wu(t,e),Su(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(ru=e,f=e.child;null!==f;){for(h=ru=f;null!==ru;){switch(p=(d=ru).child,d.tag){case 0:case 11:case 14:case 15:su(4,d,d.return);break;case 1:iu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(Se){Cc(r,n,Se)}}break;case 5:iu(d,d.return);break;case 22:if(null!==d.memoizedState){ku(h);continue}}null!==p?(p.return=d,ru=p):ku(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=me("display",s))}catch(Se){Cc(e,e.return,Se)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(Se){Cc(e,e.return,Se)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wu(t,e),Su(e),4&r&&bu(e);case 21:}}function Su(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(fu(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(pe(i,""),r.flags&=-33),pu(e,hu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;du(e,hu(e),a);break;default:throw Error(o(161))}}catch(ce){Cc(e,e.return,ce)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Eu(e,t,n){ru=e,Iu(e,t,n)}function Iu(e,t,n){for(var r=0!==(1&e.mode);null!==ru;){var i=ru,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||eu;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||tu;s=eu;var c=tu;if(eu=a,(tu=u)&&!c)for(ru=i;null!==ru;)u=(a=ru).child,22===a.tag&&null!==a.memoizedState?Nu(i):null!==u?(u.return=a,ru=u):Nu(i);for(;null!==o;)ru=o,Iu(o,t,n),o=o.sibling;ru=i,eu=s,tu=c}Tu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,ru=o):Tu(e)}}function Tu(e){for(;null!==ru;){var t=ru;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:tu||uu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ss(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Xo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Xo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Gt(h)}}}break;default:throw Error(o(163))}tu||512&t.flags&&cu(t)}catch(d){Cc(t,t.return,d)}}if(t===e){ru=null;break}if(null!==(n=t.sibling)){n.return=t.return,ru=n;break}ru=t.return}}function ku(e){for(;null!==ru;){var t=ru;if(t===e){ru=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ru=n;break}ru=t.return}}function Nu(e){for(;null!==ru;){var t=ru;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{uu(4,t)}catch(ce){Cc(t,n,ce)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(ce){Cc(t,i,ce)}}var o=t.return;try{cu(t)}catch(ce){Cc(t,o,ce)}break;case 5:var a=t.return;try{cu(t)}catch(ce){Cc(t,a,ce)}}}catch(ce){Cc(t,t.return,ce)}if(t===e){ru=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ru=s;break}ru=t.return}}var Au,Cu=Math.ceil,xu=w.ReactCurrentDispatcher,Ru=w.ReactCurrentOwner,Du=w.ReactCurrentBatchConfig,Ou=0,Pu=null,Lu=null,Mu=0,Fu=0,Uu=Ci(0),Vu=0,ju=null,qu=0,Bu=0,zu=0,Ku=null,Hu=null,Gu=0,Wu=1/0,Qu=null,Xu=!1,$u=null,Yu=null,Ju=!1,Zu=null,ec=0,tc=0,nc=null,rc=-1,ic=0;function oc(){return 0!==(6&Ou)?tt():-1!==rc?rc:rc=tt()}function ac(e){return 0===(1&e.mode)?1:0!==(2&Ou)&&0!==Mu?Mu&-Mu:null!==_o.transition?(0===ic&&(ic=bt()),ic):0!==(e=Et)?e:e=void 0===(e=window.event)?16:tn(e.type)}function sc(e,t,n,r){if(50<tc)throw tc=0,nc=null,Error(o(185));_t(e,n,r),0!==(2&Ou)&&e===Pu||(e===Pu&&(0===(2&Ou)&&(Bu|=n),4===Vu&&hc(e,Mu)),uc(e,r),1===n&&0===Ou&&0===(1&t.mode)&&(Wu=tt()+500,Ki&&Wi()))}function uc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-lt(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=mt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=gt(e,e===Pu?Mu:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Ki=!0,Gi(e)}(dc.bind(null,e)):Gi(dc.bind(null,e)),fi(function(){0===(6&Ou)&&Wi()}),n=null;else{switch(It(r)){case 1:n=rt;break;case 4:n=it;break;case 16:default:n=ot;break;case 536870912:n=st}n=Pc(n,cc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cc(e,t){if(rc=-1,ic=0,0!==(6&Ou))throw Error(o(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var r=gt(e,e===Pu?Mu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=_c(e,r);else{t=r;var i=Ou;Ou|=2;var a=bc();for(Pu===e&&Mu===t||(Qu=null,Wu=tt()+500,mc(e,t));;)try{Ec();break}catch(u){yc(e,u)}Do(),xu.current=a,Ou=i,null!==Lu?t=0:(Pu=null,Mu=0,t=Vu)}if(0!==t){if(2===t&&(0!==(i=yt(e))&&(r=i,t=lc(e,i))),1===t)throw n=ju,mc(e,0),hc(e,r),uc(e,tt()),n;if(6===t)hc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=_c(e,r))&&(0!==(a=yt(e))&&(r=a,t=lc(e,a))),1===t))throw n=ju,mc(e,0),hc(e,r),uc(e,tt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:kc(e,Hu,Qu);break;case 3:if(hc(e,r),(130023424&r)===r&&10<(t=Gu+500-tt())){if(0!==gt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){oc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ui(kc.bind(null,e,Hu,Qu),t);break}kc(e,Hu,Qu);break;case 4:if(hc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-lt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=tt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cu(r/1960))-r)){e.timeoutHandle=ui(kc.bind(null,e,Hu,Qu),r);break}kc(e,Hu,Qu);break;default:throw Error(o(329))}}}return uc(e,tt()),e.callbackNode===n?cc.bind(null,e):null}function lc(e,t){var n=Ku;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=_c(e,t))&&(t=Hu,Hu=n,null!==t&&fc(t)),e}function fc(e){null===Hu?Hu=e:Hu.push.apply(Hu,e)}function hc(e,t){for(t&=~zu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function dc(e){if(0!==(6&Ou))throw Error(o(327));Nc();var t=gt(e,0);if(0===(1&t))return uc(e,tt()),null;var n=_c(e,t);if(0!==e.tag&&2===n){var r=yt(e);0!==r&&(t=r,n=lc(e,r))}if(1===n)throw n=ju,mc(e,0),hc(e,t),uc(e,tt()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Hu,Qu),uc(e,tt()),null}function pc(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Wu=tt()+500,Ki&&Wi())}}function vc(e){null!==Zu&&0===Zu.tag&&0===(6&Ou)&&Nc();var t=Ou;Ou|=1;var n=Du.transition,r=Et;try{if(Du.transition=null,Et=1,e)return e()}finally{Et=r,Du.transition=n,0===(6&(Ou=t))&&Wi()}}function gc(){Fu=Uu.current,xi(Uu)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ci(n)),null!==Lu)for(n=Lu.return;null!==n;){var r=n;switch(ao(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ui();break;case 3:na(),xi(Pi),xi(Oi),ua();break;case 5:ia(r);break;case 4:na();break;case 13:case 19:xi(oa);break;case 10:Oo(r.type._context);break;case 22:case 23:gc()}n=n.return}if(Pu=e,Lu=e=Uc(e.current,null),Mu=Fu=t,Vu=0,ju=null,zu=Bu=qu=0,Hu=Ku=null,null!==Fo){for(t=0;t<Fo.length;t++)if(null!==(r=(n=Fo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Fo=null}return e}function yc(e,t){for(;;){var n=Lu;try{if(Do(),ca.current=rs,va){for(var r=ha.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,pa=da=ha=null,ga=!1,ma=0,Ru.current=null,null===n||null===n.return){Vu=1,ju=t,Lu=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Mu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=_s(s);if(null!==p){p.flags&=-257,Ss(p,s,u,0,t),1&p.mode&&ws(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}if(0===(1&t)){ws(a,l,t),wc();break e}c=Error(o(426))}else if(co&&1&u.mode){var m=_s(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),Ss(m,s,u,0,t),wo(ps(c,u));break e}}a=c=ps(c,u),4!==Vu&&(Vu=2),null===Ku?Ku=[a]:Ku.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Wo(a,ys(0,c,t));break e;case 1:u=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yu||!Yu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Wo(a,bs(a,u,t));break e}}a=a.return}while(null!==a)}Tc(n)}catch(ke){t=ke,Lu===n&&null!==n&&(Lu=n=n.return);continue}break}}function bc(){var e=xu.current;return xu.current=rs,null===e?rs:e}function wc(){0!==Vu&&3!==Vu&&2!==Vu||(Vu=4),null===Pu||0===(268435455&qu)&&0===(268435455&Bu)||hc(Pu,Mu)}function _c(e,t){var n=Ou;Ou|=2;var r=bc();for(Pu===e&&Mu===t||(Qu=null,mc(e,t));;)try{Sc();break}catch(Pp){yc(e,Pp)}if(Do(),Ou=n,xu.current=r,null!==Lu)throw Error(o(261));return Pu=null,Mu=0,Vu}function Sc(){for(;null!==Lu;)Ic(Lu)}function Ec(){for(;null!==Lu&&!Ze();)Ic(Lu)}function Ic(e){var t=Au(e.alternate,e,Fu);e.memoizedProps=e.pendingProps,null===t?Tc(e):Lu=t,Ru.current=null}function Tc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Js(n,t,Fu)))return void(Lu=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Lu=n);if(null===e)return Vu=6,void(Lu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Lu=t);Lu=t=e}while(null!==t);0===Vu&&(Vu=5)}function kc(e,t,n){var r=Et,i=Du.transition;try{Du.transition=null,Et=1,function(e,t,n,r){do{Nc()}while(null!==Zu);if(0!==(6&Ou))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-lt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Pu&&(Lu=Pu=null,Mu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ju||(Ju=!0,Pc(ot,function(){return Nc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Du.transition,Du.transition=null;var s=Et;Et=1;var u=Ou;Ou|=4,Ru.current=null,function(e,t){if(oi=Qt,yr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch($t){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ai={focusedElem:e,selectionRange:n},Qt=!1,ru=t;null!==ru;)if(e=(t=ru).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ru=e;else for(;null!==ru;){t=ru;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ss(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch($t){Cc(t,t.return,$t)}if(null!==(e=t.sibling)){e.return=t.return,ru=e;break}ru=t.return}v=au,au=!1}(e,n),_u(n,e),br(ai),Qt=!!oi,ai=oi=null,e.current=n,Eu(n,e,i),et(),Ou=u,Et=s,Du.transition=a}else e.current=n;if(Ju&&(Ju=!1,Zu=e,ec=i),a=e.pendingLanes,0===a&&(Yu=null),function(e){if(ct&&"function"===typeof ct.onCommitFiberRoot)try{ct.onCommitFiberRoot(ut,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),uc(e,tt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xu)throw Xu=!1,e=$u,$u=null,e;0!==(1&ec)&&0!==e.tag&&Nc(),a=e.pendingLanes,0!==(1&a)?e===nc?tc++:(tc=0,nc=e):tc=0,Wi()}(e,t,n,r)}finally{Du.transition=i,Et=r}return null}function Nc(){if(null!==Zu){var e=It(ec),t=Du.transition,n=Et;try{if(Du.transition=null,Et=16>e?16:e,null===Zu)var r=!1;else{if(e=Zu,Zu=null,ec=0,0!==(6&Ou))throw Error(o(331));var i=Ou;for(Ou|=4,ru=e.current;null!==ru;){var a=ru,s=a.child;if(0!==(16&ru.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(ru=l;null!==ru;){var f=ru;switch(f.tag){case 0:case 11:case 15:su(8,f,a)}var h=f.child;if(null!==h)h.return=f,ru=h;else for(;null!==ru;){var d=(f=ru).sibling,p=f.return;if(lu(f),f===l){ru=null;break}if(null!==d){d.return=p,ru=d;break}ru=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}ru=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,ru=s;else e:for(;null!==ru;){if(0!==(2048&(a=ru).flags))switch(a.tag){case 0:case 11:case 15:su(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ru=y;break e}ru=a.return}}var b=e.current;for(ru=b;null!==ru;){var w=(s=ru).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,ru=w;else e:for(s=b;null!==ru;){if(0!==(2048&(u=ru).flags))try{switch(u.tag){case 0:case 11:case 15:uu(9,u)}}catch(ke){Cc(u,u.return,ke)}if(u===s){ru=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,ru=_;break e}ru=u.return}}if(Ou=i,Wi(),ct&&"function"===typeof ct.onPostCommitFiberRoot)try{ct.onPostCommitFiberRoot(ut,e)}catch(ke){}r=!0}return r}finally{Et=n,Du.transition=t}}return!1}function Ac(e,t,n){e=Ho(e,t=ys(0,t=ps(n,t),1),1),t=oc(),null!==e&&(_t(e,1,t),uc(e,t))}function Cc(e,t,n){if(3===e.tag)Ac(e,e,n);else for(;null!==t;){if(3===t.tag){Ac(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yu||!Yu.has(r))){t=Ho(t,e=bs(t,e=ps(n,e),1),1),e=oc(),null!==t&&(_t(t,1,e),uc(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=oc(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Mu&n)===n&&(4===Vu||3===Vu&&(130023424&Mu)===Mu&&500>tt()-Gu?mc(e,0):zu|=n),uc(e,t)}function Rc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=pt,0===(130023424&(pt<<=1))&&(pt=4194304)));var n=oc();null!==(e=jo(e,t))&&(_t(e,t,n),uc(e,n))}function Dc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Rc(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Rc(e,n)}function Pc(e,t){return Ye(e,t)}function Lc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Lc(e,t,n,r)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Fc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return jc(n.children,i,a,t);case I:s=8,i|=8;break;case T:return(e=Mc(12,n,t,2|i)).elementType=T,e.lanes=a,e;case C:return(e=Mc(13,n,t,i)).elementType=C,e.lanes=a,e;case x:return(e=Mc(19,n,t,i)).elementType=x,e.lanes=a,e;case O:return qc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case N:s=9;break e;case A:s=11;break e;case R:s=14;break e;case D:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function jc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function qc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wt(0),this.expirationTimes=wt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,r,i,o,a,s,u){return e=new Kc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(o),e}function Gc(e){if(!e)return Di;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Fi(n))return ji(e,n,t)}return t}function Wc(e,t,n,r,i,o,a,s,u){return(e=Hc(n,r,!0,e,0,o,0,s,u)).context=Gc(null),n=e.current,(o=Ko(r=oc(),i=ac(n))).callback=void 0!==t&&null!==t?t:null,Ho(n,o,i),e.current.lanes=i,_t(e,i,r),uc(e,r),e}function Qc(e,t,n,r){var i=t.current,o=oc(),a=ac(i);return n=Gc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ko(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ho(i,t,a))&&(sc(e,i,a,o),Go(e,i,a)),a}function Xc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}Au=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)Is=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Is=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),bo();break;case 5:ra(t);break;case 1:Fi(t.type)&&qi(t);break;case 4:ta(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ri(Ao,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ri(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(Ri(oa,1&oa.current),null!==(e=Xs(e,t,n))?e.sibling:null);Ri(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ri(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Xs(e,t,n)}(e,t,n);Is=0!==(131072&e.flags)}else Is=!1,co&&0!==(1048576&t.flags)&&io(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qs(e,t),e=t.pendingProps;var i=Mi(t,Oi.current);Lo(t,n),i=_a(null,t,r,e,i,n);var a=Sa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fi(r)?(a=!0,qi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Bo(t),i.updater=cs,t.stateNode=i,i._reactInternals=t,ds(t,r,e,n),t=Os(null,t,r,!0,a,n)):(t.tag=0,co&&a&&oo(t),Ts(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Fc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(r),e=ss(r,e),i){case 0:t=Rs(null,t,r,e,n);break e;case 1:t=Ds(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=Ns(null,t,r,ss(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Rs(e,t,r,i=t.elementType===r?i:ss(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ds(e,t,r,i=t.elementType===r?i:ss(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,zo(e,t),Qo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ls(e,t,r,n,i=ps(Error(o(423)),t));break e}if(r!==i){t=Ls(e,t,r,n,i=ps(Error(o(424)),t));break e}for(uo=pi(t.stateNode.containerInfo.firstChild),so=t,co=!0,lo=null,n=No(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bo(),r===i){t=Xs(e,t,n);break e}Ts(e,t,r,n)}t=t.child}return t;case 5:return ra(t),null===e&&vo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,si(r,i)?s=null:null!==a&&si(r,a)&&(t.flags|=32),xs(e,t),Ts(e,t,s,n),t.child;case 6:return null===e&&vo(t),null;case 13:return Bs(e,t,n);case 4:return ta(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Ts(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:ss(r,i),n);case 7:return Ts(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ts(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ri(Ao,r._currentValue),r._currentValue=s,null!==a)if(hr(a.value,s)){if(a.children===i.children&&!Pi.current){t=Xs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ko(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Po(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Po(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ts(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Lo(t,n),r=r(i=Mo(i)),t.flags|=1,Ts(e,t,r,n),t.child;case 14:return i=ss(r=t.type,t.pendingProps),Ns(e,t,r,i=ss(r.type,i),n);case 15:return As(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ss(r,i),Qs(e,t),t.tag=1,Fi(r)?(e=!0,qi(t)):e=!1,Lo(t,n),fs(t,r,i),ds(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function el(e){this._internalRoot=e}function tl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(){}function il(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Xc(a);s.call(e)}}Qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Xc(a);o.call(e)}}var a=Wc(t,r,e,0,null,!1,0,"",rl);return e._reactRootContainer=a,e[bi]=a.current,Wr(8===e.nodeType?e.parentNode:e),vc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Xc(u);s.call(e)}}var u=Hc(e,0,!1,null,0,!1,0,"",rl);return e._reactRootContainer=u,e[bi]=u.current,Wr(8===e.nodeType?e.parentNode:e),vc(function(){Qc(t,u,n,r)}),u}(n,t,e,i,r);return Xc(a)}el.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Qc(e,t,null,null)},el.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vc(function(){Qc(null,e,null,null)}),t[bi]=null}},el.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&0!==t&&t<Ft[n].priority;n++);Ft.splice(n,0,e),0===n&&qt(e)}},Tt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vt(t.pendingLanes);0!==n&&(St(t,1|n),uc(t,tt()),0===(6&Ou)&&(Wu=tt()+500,Wi()))}break;case 13:vc(function(){var t=jo(e,1);if(null!==t){var n=oc();sc(t,e,1,n)}}),Yc(e,1)}},kt=function(e){if(13===e.tag){var t=jo(e,134217728);if(null!==t)sc(t,e,134217728,oc());Yc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=ac(e),n=jo(e,t);if(null!==n)sc(n,e,t,oc());Yc(e,t)}},At=function(){return Et},Ct=function(e,t){var n=Et;try{return Et=e,t()}finally{Et=n}},Te=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(o(90));W(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},De=pc,Oe=vc;var ol={usingClientEntryPoint:!1,Events:[Ii,Ti,ki,xe,Re,pc]},al={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sl={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{ut=ul.inject(sl),ct=ul}catch(fe){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ol,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!tl(e))throw Error(o(299));var n=!1,r="",i=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,r,i),e[bi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e){return vc(e)},t.hydrate=function(e,t,n){if(!nl(t))throw Error(o(200));return il(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!tl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,a,s),e[bi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new el(t)},t.render=function(e,t,n){if(!nl(t))throw Error(o(200));return il(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(o(40));return!!e._reactRootContainer&&(vc(function(){il(null,null,e,!1,function(){e._reactRootContainer=null,e[bi]=null})}),!0)},t.unstable_batchedUpdates=pc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return il(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Pp){if("object"===typeof window)return window}}();var r=n(43),i=n(950),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)};function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function u(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(Pp){o(Pp)}}function s(e){try{u(r.throw(e))}catch(Pp){o(Pp)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}function c(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(Pp){s=[6,Pp],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function l(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function h(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var d=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},p={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(d(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},v=function(e){return function(e){var t=d(e);return p.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function g(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&m(n)&&(e[n]=g(e[n],t[n]));return e}function m(e){return"__proto__"!==e}var y=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function b(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=s({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[v(JSON.stringify({alg:"none",type:"JWT"})),v(JSON.stringify(o)),""].join(".")}function w(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Pp){return!1}}var S=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,E.prototype.create),o}return a(t,e),t}(Error),E=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(I,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new S(i,s,r)},e}();var I=/\{\$([^}]+)}/g;function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function k(e,t){var n=new N(e,t);return n.subscribe.bind(n)}var N=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Pp){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(Pp){"undefined"!==typeof console&&console.error&&console.error(Pp)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function A(){}function C(e){return e&&e._delegate?e._delegate:e}var x=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),R="[DEFAULT]",D=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new y;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Pp){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Pp){if(r)return null;throw Pp}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:R})}catch(Pp){}try{for(var r=l(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=f(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(Pp){}}}catch(h){t={error:h}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=R),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return u(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(h(h([],f(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),f(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=R),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=R),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=l(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=f(u.value,2),h=c[0],d=c[1];o===this.normalizeInstanceIdentifier(h)&&d.resolve(a)}}catch(p){t={error:p}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=l(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===R?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(pp){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=R),this.component?this.component.multipleInstances?e:R:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var O,P=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new D(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function L(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var M,F=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(M||(M={}));var U,V={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},j=M.INFO,q=((O={})[M.DEBUG]="log",O[M.VERBOSE]="log",O[M.INFO]="info",O[M.WARN]="warn",O[M.ERROR]="error",O),B=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=q[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,L(["["+i+"]  "+e.name+":"],n))}},z=function(){function e(e){this.name=e,this._logLevel=j,this._logHandler=B,this._userLogHandler=null,F.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in M))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?V[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,M.DEBUG],e)),this._logHandler.apply(this,L([this,M.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,M.VERBOSE],e)),this._logHandler.apply(this,L([this,M.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,M.INFO],e)),this._logHandler.apply(this,L([this,M.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,M.WARN],e)),this._logHandler.apply(this,L([this,M.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,L([this,M.ERROR],e)),this._logHandler.apply(this,L([this,M.ERROR],e))},e}();function K(e){F.forEach(function(t){t.setLogLevel(e)})}var H,G=((U={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",U["bad-app-name"]="Illegal App name: '{$appName}",U["duplicate-app"]="Firebase App named '{$appName}' already exists",U["app-deleted"]="Firebase App named '{$appName}' already deleted",U["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",U["invalid-log-argument"]="First argument to `onLog` must be null or a function.",U),W=new E("app","Firebase",G),Q="@firebase/app",X="[DEFAULT]",$=((H={})[Q]="fire-core",H["@firebase/analytics"]="fire-analytics",H["@firebase/app-check"]="fire-app-check",H["@firebase/auth"]="fire-auth",H["@firebase/database"]="fire-rtdb",H["@firebase/functions"]="fire-fn",H["@firebase/installations"]="fire-iid",H["@firebase/messaging"]="fire-fcm",H["@firebase/performance"]="fire-perf",H["@firebase/remote-config"]="fire-rc",H["@firebase/storage"]="fire-gcs",H["@firebase/firestore"]="fire-fst",H["fire-js"]="fire-js",H["firebase-wrapper"]="fire-js-all",H),Y=new z("@firebase/app"),J=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=g(void 0,e),this.container=new P(t.name),this._addComponent(new x("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(e){return r._addComponent(e)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,t){var n;void 0===t&&(t=X),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=X),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(Pp){Y.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,Pp)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw W.create("app-deleted",{appName:this.name_})},e}();J.prototype.name&&J.prototype.options||J.prototype.delete||console.log("dc");function Z(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=X);var a=o.name;if("string"!==typeof a||!a)throw W.create("bad-app-name",{appName:String(a)});if(T(t,a))throw W.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=$[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void Y.warn(u.join(" "))}o(new x(i+"-version",function(){return{library:i,version:t}},"VERSION"))},setLogLevel:K,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw W.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=V[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:M[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=F;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!T(t,e=e||X))throw W.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return Y.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw W.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&g(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),i.App=e,r}var ee=function e(){var t=Z(J);return t.INTERNAL=s(s({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){g(t,e)},createSubscribe:k,ErrorFactory:E,deepExtend:g}),t}(),te=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null}).filter(function(e){return e}).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ne=self.firebase.SDK_VERSION;ne&&ne.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var re=ee.initializeApp;ee.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _()&&Y.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),re.apply(void 0,e)};var ie=ee;!function(e,t){e.INTERNAL.registerComponent(new x("platform-logger",function(e){return new te(e)},"PRIVATE")),e.registerVersion(Q,"0.6.30",t),e.registerVersion("fire-js","")}(ie);const oe=ie;var ae="8.10.1";oe.registerVersion("firebase",ae,"app"),oe.SDK_VERSION=ae,function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c(function(){t.g()})}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(ve){this.f(ve)}}}this.a=null},n.prototype.f=function(e){this.c(function(){throw e})},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(ve){n.reject(ve)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(Mr){o(Mr)}}:t}var i,o,a=new t(function(e,t){i=e,o=t});return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)})},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t(function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)})},t});var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function f(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==h(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++y)}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now;function I(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function T(e){return e}function k(e,t,n){this.code=C+e,this.message=t||x[e]||"",this.a=n||null}function N(e){var t=e&&e.code;return t?new k(t.substring(C.length),e.message,e.serverResponse):null}I(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var A,C="auth/",x={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(e){for(var t in R)if(R[t].id===e)return{firebaseEndpoint:(e=R[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function O(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function P(e){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");P.call(this,n+e[r])}function M(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function U(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function V(){this.b=this.a=null}A=D("__EID__")?"__EID__":void 0,I(P,Error),P.prototype.name="CustomError",I(L,P),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var j=new F(function(){return new B},function(e){e.reset()});function q(){var e=_t,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}V.prototype.add=function(e,t){var n=j.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},K=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var H=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},G=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},W=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e,t){return 0<=z(e,t)}function X(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function $(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0})}function Y(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,ae=/'/g,se=/\x00/g,ue=/[\x00&<>"']/;function ce(e,t){return-1!=e.indexOf(t)}function le(e,t){return e<t?-1:e>t?1:0}e:{var fe=s.navigator;if(fe){var he=fe.userAgent;if(he){Z=he;break e}}Z=""}function de(e){return ce(Z,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ge(e){for(var t in e)return!1;return!0}function me(e){var t,n={};for(t in e)n[t]=e[t];return n}var ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ye.length;o++)n=ye[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function we(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function _e(e,t){this.a=e===Te&&t||"",this.b=Ie}function Se(e){return e instanceof _e&&e.constructor===_e&&e.b===Ie?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}_e.prototype.ta=!0,_e.prototype.sa=function(){return this.a},_e.prototype.toString=function(){return"Const{"+this.a+"}"};var Ee,Ie={},Te={};function ke(){if(void 0===Ee){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(n){s.console&&s.console.error(n.message)}Ee=e}else Ee=e}return Ee}function Ne(e,t){this.a=t===De?e:""}function Ae(e){return e instanceof Ne&&e.constructor===Ne?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Ce(e,t){var n=Se(e);if(!Re.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=ke();return e=t?t.createScriptURL(e):e,new Ne(e,De)}(e=n.replace(xe,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof _e?Se(e):encodeURIComponent(String(e))}))}Ne.prototype.ta=!0,Ne.prototype.sa=function(){return this.a.toString()},Ne.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xe=/%{(\w+)}/g,Re=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,De={};function Oe(e,t){this.a=t===je?e:""}function Pe(e){return e instanceof Oe&&e.constructor===Oe?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Oe.prototype.ta=!0,Oe.prototype.sa=function(){return this.a.toString()},Oe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Le=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Me=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Fe=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ue(e){if(e instanceof Oe)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Fe.test(e))e=new Oe(e,je);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Me);e=t&&Le.test(t[1])?new Oe(e,je):null}return e}function Ve(e){return e instanceof Oe?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Fe.test(e)||(e="about:invalid#zClosurez"),new Oe(e,je))}var je={},qe=new Oe("about:invalid#zClosurez",je);function Be(e,t,n){this.a=n===ze?e:""}Be.prototype.ta=!0,Be.prototype.sa=function(){return this.a.toString()},Be.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var ze={};function Ke(e,t,n,r){return e=e instanceof Oe?e:Ve(e),t=t||s,n=n instanceof _e?Se(n):n||"",t.open(Pe(e),n,r,void 0)}function He(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ge(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ae,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function We(e){return We[" "](e),e}We[" "]=f;var Qe,Xe=de("Opera"),$e=de("Trident")||de("MSIE"),Ye=de("Edge"),Je=Ye||$e,Ze=de("Gecko")&&!(ce(Z.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),et=ce(Z.toLowerCase(),"webkit")&&!de("Edge");function tt(){var e=s.document;return e?e.documentMode:void 0}e:{var nt="",rt=function(){var e=Z;return Ze?/rv:([^\);]+)(\)|;)/.exec(e):Ye?/Edge\/([\d\.]+)/.exec(e):$e?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):et?/WebKit\/(\S+)/.exec(e):Xe?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(rt&&(nt=rt?rt[1]:""),$e){var it=tt();if(null!=it&&it>parseFloat(nt)){Qe=String(it);break e}}Qe=nt}var ot,at={};function st(e){return function(e,t){var n=at;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(){for(var t=0,n=ee(String(Qe)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=le(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||le(0==a[2].length,0==s[2].length)||le(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}if(s.document&&$e){var ut=tt();ot=ut||(parseInt(Qe,10)||void 0)}else ot=void 0;var ct=ot;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(pa){}var lt=!$e||9<=Number(ct);function ft(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function ht(e,t){pe(t,function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:vt.hasOwnProperty(n)?e.setAttribute(vt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}var dt,pt,vt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function gt(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!lt&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ge(a.name),'"'),a.type){o.push(' type="',Ge(a.type),'"');var s={};be(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=mt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ht(o,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}K(a?J(o):o,r)}}}(i,o,r),o}function mt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function yt(e){s.setTimeout(function(){throw e},0)}function bt(e,t){pt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);pt=function(){e.then(St)}}else pt=function(){var e=St;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!de("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(dt||(dt=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=mt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=_(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),dt(e)):s.setImmediate(e)}}(),wt||(pt(),wt=!0),_t.add(e,t)}var wt=!1,_t=new V;function St(){for(var e;e=q();){try{e.a.call(e.b)}catch(t){yt(t)}U(j,e)}wt=!1}function Et(e,t){if(this.a=It,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,function(e){Ft(n,Tt,e)},function(e){if(!(e instanceof Kt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(Pp){}Ft(n,kt,e)})}catch(r){Ft(this,kt,r)}}var It=0,Tt=2,kt=3;function Nt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Nt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var At=new F(function(){return new Nt},function(e){e.reset()});function Ct(e,t,n){var r=At.get();return r.g=e,r.b=t,r.f=n,r}function xt(e){if(e instanceof Et)return e;var t=new Et(f);return Ft(t,Tt,e),t}function Rt(e){return new Et(function(t,n){n(e)})}function Dt(e,t,n){Ut(e,t,n,null)||bt(S(t,e))}function Ot(e){return new Et(function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Dt(e[o],S(i,o,!0),S(i,o,!1));else t(r)})}function Pt(e,t){if(e.a==It)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==It&&1==r?Pt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):jt(n),qt(n,i,kt,t)))}e.c=null}else Ft(e,kt,t)}function Lt(e,t){e.b||e.a!=Tt&&e.a!=kt||Vt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Mt(e,t,n,r){var i=Ct(null,null,null);return i.a=new Et(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(ve){o(ve)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Kt?o(t):e(i)}catch(ve){o(ve)}}:o}),i.a.c=e,Lt(e,i),i.a}function Ft(e,t,n){e.a==It&&(e===n&&(t=kt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ut(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Vt(e),t!=kt||n instanceof Kt||function(e,t){e.g=!0,bt(function(){e.g&&zt.call(null,t)})}(e,n)))}function Ut(e,t,n,r){if(e instanceof Et)return Lt(e,Ct(t||f,n||null,r)),!0;if(O(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Vt(e){e.h||(e.h=!0,bt(e.gc,e))}function jt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function qt(e,t,n,r){if(n==kt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Bt(t,n,r);else try{t.c?t.g.call(t.f):Bt(t,n,r)}catch(Pp){zt.call(null,Pp)}U(At,t)}function Bt(e,t,n){t==Tt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}Et.prototype.then=function(e,t,n){return Mt(this,p(e)?e:null,p(t)?t:null,n)},Et.prototype.$goog_Thenable=!0,(e=Et.prototype).oa=function(e,t){return(e=Ct(e,e,t)).c=!0,Lt(this,e),this},e.o=function(e,t){return Mt(this,null,e,t)},e.cancel=function(e){if(this.a==It){var t=new Kt(e);bt(function(){Pt(this,t)},this)}},e.$c=function(e){this.a=It,Ft(this,Tt,e)},e.ad=function(e){this.a=It,Ft(this,kt,e)},e.gc=function(){for(var e;e=jt(this);)qt(this,e,this.a,this.i);this.h=!1};var zt=yt;function Kt(e){P.call(this,e)}function Ht(){0!=Gt&&(Wt[g(this)]=this),this.ya=this.ya,this.pa=this.pa}I(Kt,P),Kt.prototype.name="cancel";var Gt=0,Wt={};function Qt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Gt)){var t=g(e);if(0!=Gt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Wt[t]}}Ht.prototype.ya=!1,Ht.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Xt=Object.freeze||function(e){return e},$t=!$e||9<=Number(ct),Yt=$e&&!st("9"),Jt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",f,t),s.removeEventListener("test",f,t)}catch(n){}return e}();function Zt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function en(e,t){if(Zt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ze){e:{try{We(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:tn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Zt.prototype.preventDefault=function(){this.defaultPrevented=!0},I(en,Zt);var tn=Xt({2:"touch",3:"pen",4:"mouse"});en.prototype.preventDefault=function(){en.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Yt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},en.prototype.g=function(){return this.a};var nn="closure_listenable_"+(1e6*Math.random()|0),rn=0;function on(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++rn,this.wa=this.Qa=!1}function an(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function sn(e){this.src=e,this.a={},this.b=0}function un(e,t){var n=t.type;n in e.a&&X(e.a[n],t)&&(an(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function cn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}sn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=cn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new on(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var ln="closure_lm_"+(1e6*Math.random()|0),fn={};function hn(e,t,n,r,i){if(r&&r.once)pn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else n=En(n),e&&e[nn]?Tn(e,t,n,v(r)?!!r.capture:!!r,i):dn(e,t,n,!1,r,i)}function dn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=_n(e);if(s||(e[ln]=s=new sn(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=wn,t=$t?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Jt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,r,i);else n=En(n),e&&e[nn]?kn(e,t,n,v(r)?!!r.capture:!!r,i):dn(e,t,n,!0,r,i)}function vn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)vn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=En(n),e&&e[nn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=cn(o=e.a[t],n,r,i))&&(an(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=_n(e))&&(t=e.a[t.toString()],e=-1,t&&(e=cn(t,n,r,i)),(n=-1<e?t[e]:null)&&gn(n))}function gn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[nn])un(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_n(t))?(un(n,e),0==n.b&&(n.src=null,t[ln]=null)):an(e)}}}function mn(e){return e in fn?fn[e]:fn[e]="on"+e}function yn(e,t,n,r){var i=!0;if((e=_n(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=bn(o,r),i=i&&!1!==o)}return i}function bn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&gn(e),n.call(r,t)}function wn(e,t){if(e.wa)return!0;if(!$t){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new en(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=yn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=yn(r[i],e,!1,t),n=n&&o}return n}return bn(e,new en(t,this))}function _n(e){return(e=e[ln])instanceof sn?e:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(e){return p(e)?e:(e[Sn]||(e[Sn]=function(t){return e.handleEvent(t)}),e[Sn])}function In(){Ht.call(this),this.v=new sn(this),this.bc=this,this.hb=null}function Tn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function kn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Nn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&un(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function An(e,t,n){if(p(e))n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Cn(e){var t=null;return new Et(function(n,r){-1==(t=An(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).o(function(e){throw s.clearTimeout(t),e})}function xn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Rn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Dn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Dn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function On(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Pn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Pn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I(In,Ht),In.prototype[nn]=!0,In.prototype.addEventListener=function(e,t,n,r){hn(this,e,t,n,r)},In.prototype.removeEventListener=function(e,t,n,r){vn(this,e,t,n,r)},In.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Zt(e,n);else if(e instanceof Zt)e.target=e.target||n;else{var i=e;be(e=new Zt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Nn(a,r,!0,e)&&i}if(i=Nn(a=e.b=n,r,!0,e)&&i,i=Nn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Nn(a=e.b=t[o],r,!1,e)&&i;return i},In.prototype.Da=function(){if(In.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)an(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Dn.prototype).X=function(){On(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return On(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Pn(this.b,e)?this.b[e]:t},e.set=function(e,t){Pn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ln=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Mn?(this.i=void 0!==t?t:e.i,Fn(this,e.c),this.l=e.l,this.a=e.a,Un(this,e.g),this.f=e.f,Vn(this,ir(e.b)),this.h=e.h):e&&(n=String(e).match(Ln))?(this.i=!!t,Fn(this,n[1]||"",!0),this.l=Kn(n[2]||""),this.a=Kn(n[3]||"",!0),Un(this,n[4]),this.f=Kn(n[5]||"",!0),Vn(this,n[6]||"",!0),this.h=Kn(n[7]||"")):(this.i=!!t,this.b=new Jn(null,this.i))}function Fn(e,t,n){e.c=n?Kn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Un(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Vn(e,t,n){t instanceof Jn?(e.b=t,function(e,t){t&&!e.f&&(Zn(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(tr(this,t),rr(this,n,e))},e)),e.f=t}(e.b,e.i)):(n||(t=Hn(t,$n)),e.b=new Jn(t,e.i))}function jn(e,t,n){e.b.set(t,n)}function qn(e,t){return e.b.get(t)}function Bn(e){return e instanceof Mn?new Mn(e):new Mn(e,void 0)}function zn(e,t,n,r){var i=new Mn(null,void 0);return e&&Fn(i,e),t&&(i.a=t),n&&Un(i,n),r&&(i.f=r),i}function Kn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Hn(t,Wn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Hn(t,Wn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hn(n,"/"==n.charAt(0)?Xn:Qn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Hn(n,Yn)),e.join("")},Mn.prototype.resolve=function(e){var t=new Mn(this),n=!!e.c;n?Fn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Un(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ce(i,"./")||ce(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Vn(t,ir(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Wn=/[#\/\?@]/g,Qn=/[#\?:]/g,Xn=/[#\?]/g,$n=/[#\?@]/g,Yn=/#/g;function Jn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Zn(e){e.a||(e.a=new Dn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function er(e){var t=Rn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Jn(null,void 0);e=xn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?rr(n,i,o):n.add(i,o)}return n}function tr(e,t){Zn(e),t=or(e,t),Pn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Pn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&On(e)))}function nr(e,t){return Zn(e),t=or(e,t),Pn(e.a.b,t)}function rr(e,t,n){tr(e,t),0<n.length&&(e.c=null,e.a.set(or(e,t),J(n)),e.b+=n.length)}function ir(e){var t=new Jn;return t.c=e.c,e.a&&(t.a=new Dn(e.a),t.b=e.b),t}function or(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function ar(e){var t=[];return ur(new sr,e,t),t.join("")}function sr(){}function ur(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ur(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),fr(r,n),n.push(":"),ur(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":fr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Jn.prototype).add=function(e,t){Zn(this),this.c=null,e=or(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Zn(this),this.a.forEach(function(n,r){K(n,function(n){e.call(t,n,r,this)},this)},this)},e.Y=function(){Zn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Zn(this);var t=[];if("string"===typeof e)nr(this,e)&&(t=Y(t,this.a.get(or(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=Y(t,e[n])}return t},e.set=function(e,t){return Zn(this),this.c=null,nr(this,e=or(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var cr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},lr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function fr(e,t){t.push('"',e.replace(lr,function(e){var t=cr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),cr[e]=t),t}),'"')}function hr(){var e=Dr();return $e&&!!ct&&11==ct||/Edge\/\d+/.test(e)}function dr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function pr(e,t){t=t||s.window;var n="about:blank";e&&(n=Pe(Ue(e)||qe)),t.location.href=n}function vr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<vr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function gr(e){return!!((e=(e||Dr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function mr(e){e=e||s.window;try{e.close()}catch(t){}}function yr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Dr().toLowerCase(),r&&(t.target=r,ce(n,"crios/")&&(t.target="_blank")),Cr(Dr())==Nr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Oe?n:Ue("undefined"!=typeof n.href?n.href:String(n))||qe,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(we(a=mt(document,"A"),"HTMLAnchorElement"),t=t instanceof Oe?t:Ve(t),a.href=Pe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Ke("",r,n,a),e=Pe(t),a&&(Je&&ce(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ge(e)+'">',e=new Be(e=(r=ke())?r.createHTML(e):e,null,ze),r=a.document)&&(r.write(function(e){return e instanceof Be&&e.constructor===Be?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Ke(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var br=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wr=/^[^@]+@[^@]+$/;function _r(){var e=null;return new Et(function(t){"complete"==s.document.readyState?t():(e=function(){t()},pn(window,"load",e))}).o(function(t){throw vn(window,"load",e),t})}function Sr(e){return e=e||Dr(),!("file:"!==Ur()&&"ionic:"!==Ur()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var e=s.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Ir(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Tr(){return oe.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":oe.INTERNAL.hasOwnProperty("node")?"Node":Ir()?"Worker":"Browser"}function kr(){var e=Tr();return"ReactNative"===e||"Node"===e}var Nr="Firefox",Ar="Chrome";function Cr(e){var t=e.toLowerCase();return ce(t,"opera/")||ce(t,"opr/")||ce(t,"opios/")?"Opera":ce(t,"iemobile")?"IEMobile":ce(t,"msie")||ce(t,"trident/")?"IE":ce(t,"edge/")?"Edge":ce(t,"firefox/")?Nr:ce(t,"silk/")?"Silk":ce(t,"blackberry")?"Blackberry":ce(t,"webos")?"Webos":!ce(t,"safari/")||ce(t,"chrome/")||ce(t,"crios/")||ce(t,"android")?!ce(t,"chrome/")&&!ce(t,"crios/")||ce(t,"edge/")?ce(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Ar:"Safari"}var xr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Rr(e,t){t=t||[];var n,r=[],i={};for(n in xr)i[xr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Tr())?r=Cr(i=Dr()):"Worker"===r&&(r=Cr(i=Dr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Dr(){return s.navigator&&s.navigator.userAgent||""}function Or(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Pr(){try{var e=s.localStorage,t=zr();if(e)return e.setItem(t,"1"),e.removeItem(t),!hr()||!!s.indexedDB}catch(n){return Ir()&&!!s.indexedDB}return!1}function Lr(){return(Fr()||"chrome-extension:"===Ur()||Sr())&&!kr()&&Pr()&&!Ir()}function Fr(){return"http:"===Ur()||"https:"===Ur()}function Ur(){return s.location&&s.location.protocol||null}function Vr(e){return!gr(e=e||Dr())&&Cr(e)!=Nr}function jr(e){return"undefined"===typeof e?null:ar(e)}function qr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Br(e){if(null!==e)return JSON.parse(e)}function zr(e){return e||Math.floor(1e9*Math.random()).toString()}function Kr(e){return"Safari"!=Cr(e=e||Dr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Hr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Gr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Dr(),t=Tr(),this.b=gr(e)||"ReactNative"===t}function Wr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Qr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Xr(){return!(!Or("fireauth.oauthhelper",s)&&!Or("fireauth.iframe",s))}Gr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Fr()&&"chrome-extension:"!==Ur()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var $r,Yr={};function Jr(e){Yr[e]||(Yr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Zr={};Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:2}),$r=2==Zr.abcd}catch(pa){$r=!1}function ei(e,t,n){$r?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function ti(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&ei(e,n,t[n])}function ni(e){var t={};return ti(t,e),t}function ri(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)ei(t,n,ri(e[n]));return t}function ii(e){var t=e&&(e[ci]?"phone":null);if(!(t&&e&&e[ui]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");ei(this,"uid",e[ui]),ei(this,"displayName",e[ai]||null);var n=null;e[si]&&(n=new Date(e[si]).toUTCString()),ei(this,"enrollmentTime",n),ei(this,"factorId",t)}function oi(e){try{var t=new li(e)}catch(n){t=null}return t}ii.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ai="displayName",si="enrolledAt",ui="mfaEnrollmentId",ci="phoneInfo";function li(e){ii.call(this,e),ei(this,"phoneNumber",e[ci])}function fi(e){var t={},n=e[vi],r=e[mi],i=e[yi];if(e=oi(e[gi]),!i||i!=di&&i!=pi&&!n||i==pi&&!r||i==hi&&!e)throw Error("Invalid checkActionCode response!");i==pi?(t[wi]=n||null,t[Si]=n||null,t[bi]=r):(t[wi]=r||null,t[Si]=r||null,t[bi]=n||null),t[_i]=e||null,ei(this,Ii,i),ei(this,Ei,ri(t))}I(li,ii),li.prototype.w=function(){var e=li.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var hi="REVERT_SECOND_FACTOR_ADDITION",di="EMAIL_SIGNIN",pi="VERIFY_AND_CHANGE_EMAIL",vi="email",gi="mfaInfo",mi="newEmail",yi="requestType",bi="email",wi="fromEmail",_i="multiFactorInfo",Si="previousEmail",Ei="data",Ii="operation";function Ti(e){var t=qn(e=Bn(e),ki)||null,n=qn(e,Ni)||null,r=qn(e,xi)||null;if(r=r&&Di[r]||null,!t||!n||!r)throw new k("argument-error",ki+", "+Ni+"and "+xi+" are required in a valid action code URL.");ti(this,{apiKey:t,operation:r,code:n,continueUrl:qn(e,Ai)||null,languageCode:qn(e,Ci)||null,tenantId:qn(e,Ri)||null})}var ki="apiKey",Ni="oobCode",Ai="continueUrl",Ci="languageCode",xi="mode",Ri="tenantId",Di={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:hi,signIn:di,verifyAndChangeEmail:pi,verifyEmail:"VERIFY_EMAIL"};function Oi(e){try{return new Ti(e)}catch(t){return null}}function Pi(e){var t=e[Vi];if("undefined"===typeof t)throw new k("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new k("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Li];if(n&&"object"===typeof n){t=n[Bi];var r=n[ji];if(n=n[qi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new k("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new k("argument-error",qi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new k("argument-error",Bi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new k("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new k("argument-error",Li+" property must be a non null object when specified.");if(this.f=null,(t=e[Ui])&&"object"===typeof t){if("string"===typeof(t=t[zi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new k("argument-error",zi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new k("argument-error",Ui+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Fi])&&"boolean"!==typeof t)throw new k("argument-error",Fi+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Mi])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new k("argument-error",Mi+" property must be a non empty string when specified.");this.i=e||null}var Li="android",Mi="dynamicLinkDomain",Fi="handleCodeInApp",Ui="iOS",Vi="url",ji="installApp",qi="minimumVersion",Bi="packageName",zi="bundleId";function Ki(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Hi=null;function Gi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Hi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Hi){Hi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Hi[o]&&(Hi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,function(e){t.push(e)}),t}function Wi(e){var t=Xi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Qi(e){try{return new Wi(e)}catch(t){return null}}function Xi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Gi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(ve){}return null}Wi.prototype.T=function(){return this.f},Wi.prototype.l=function(){return this.c},Wi.prototype.toString=function(){return this.h};var $i="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yi=["client_id","response_type","scope","redirect_uri","state"],Ji={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Yi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Yi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Yi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:$i},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Zi(e){for(var t in Ji)if(Ji[t].fa==e)return Ji[t];return null}function eo(e){var t={};t["facebook.com"]=oo,t["google.com"]=so,t["github.com"]=ao,t["twitter.com"]=uo;var n=e&&e[no];try{if(n)return t[n]?new t[n](e):new io(e);if("undefined"!==typeof e[to])return new ro(e)}catch(r){}return null}var to="idToken",no="providerId";function ro(e){var t=e[no];if(!t&&e[to]){var n=Qi(e[to]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),ei(this,"providerId",t),ei(this,"isNewUser",n)}function io(e){ro.call(this,e),ei(this,"profile",ri((e=Br(e.rawUserInfo||"{}"))||{}))}function oo(e){if(io.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(e){if(io.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",this.profile&&this.profile.login||null)}function so(e){if(io.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function uo(e){if(io.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",e.screenName||null)}function co(e){var t=Bn(e),n=qn(t,"link"),r=qn(Bn(n),"link");return t=qn(t,"deep_link_id"),qn(Bn(t),"link")||t||r||n||e}function lo(e,t){if(!e&&!t)throw new k("internal-error","Internal assert: no raw session string available");if(e&&t)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?fo:ho}I(io,ro),I(oo,io),I(ao,io),I(so,io),I(uo,io);var fo="enroll",ho="signin";function po(){}function vo(e,t){return e.then(function(e){if(e[is]){var n=Qi(e[is]);if(!n||t!=n.i)throw new k("user-mismatch");return e}throw new k("user-mismatch")}).o(function(e){throw e&&e.code&&e.code==C+"user-not-found"?new k("user-mismatch"):e})}function go(e,t){if(!t)throw new k("internal-error","failed to construct a credential");this.a=t,ei(this,"providerId",e),ei(this,"signInMethod",e)}function mo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function yo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new go(e.providerId,e.pendingToken)}catch(t){}return null}function bo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&ei(this,"idToken",t.idToken),t.accessToken&&ei(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&ei(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");ei(this,"accessToken",t.oauthToken),ei(this,"secret",t.oauthTokenSecret)}ei(this,"providerId",e),ei(this,"signInMethod",n)}function wo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:er(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function _o(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new bo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function So(e,t){this.Qc=t||[],ti(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Zi(e)||{}).Ja||null,this.pb=null}function Eo(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');So.call(this,e,[])}function Io(e){So.call(this,e,Yi),this.a=[]}function To(){Io.call(this,"facebook.com")}function ko(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new To).credential({accessToken:t})}function No(){Io.call(this,"github.com")}function Ao(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new No).credential({accessToken:t})}function Co(){Io.call(this,"google.com"),this.Ca("profile")}function xo(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new Co).credential({idToken:n,accessToken:t})}function Ro(){So.call(this,"twitter.com",$i)}function Do(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new bo("twitter.com",n,"twitter.com")}function Oo(e,t,n){this.a=e,this.f=t,ei(this,"providerId","password"),ei(this,"signInMethod",n===Lo.EMAIL_LINK_SIGN_IN_METHOD?Lo.EMAIL_LINK_SIGN_IN_METHOD:Lo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(e){return e&&e.email&&e.password?new Oo(e.email,e.password,e.signInMethod):null}function Lo(){ti(this,{providerId:"password",isOAuthProvider:!1})}function Mo(e,t){if(!(t=Fo(t)))throw new k("argument-error","Invalid email link!");return new Oo(e,t.code,Lo.EMAIL_LINK_SIGN_IN_METHOD)}function Fo(e){return(e=Oi(e=co(e)))&&e.operation===di?e:null}function Uo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new k("internal-error");this.a=e,ei(this,"providerId","phone"),this.fa="phone",ei(this,"signInMethod","phone")}function Vo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){e[n]&&(t[n]=e[n])}),new Uo(t)}return null}function jo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function qo(e){try{this.a=e||oe.auth()}catch(t){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ti(this,{providerId:"phone",isOAuthProvider:!1})}function Bo(e,t){if(!e)throw new k("missing-verification-id");if(!t)throw new k("missing-verification-code");return new Uo({fb:e,eb:t})}function zo(e){if(e.temporaryProof&&e.phoneNumber)return new Uo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return xo(o,n);case"facebook.com":return ko(n);case"github.com":return Ao(n);case"twitter.com":return Do(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new go(t,a):new bo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Io(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Ko(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function Ho(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function Go(e){return(e=e||{}).type?new Ho(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&N(e.error),e.postBody,e.tenantId):null}function Wo(){this.b=null,this.a=[]}lo.prototype.Ha=function(){return this.a?xt(this.a):xt(this.b)},lo.prototype.w=function(){return this.type==fo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},po.prototype.ka=function(){},po.prototype.b=function(){},po.prototype.c=function(){},po.prototype.w=function(){},go.prototype.ka=function(e){return ks(e,mo(this))},go.prototype.b=function(e,t){var n=mo(this);return n.idToken=t,Ns(e,n)},go.prototype.c=function(e,t){return vo(As(e,mo(this)),t)},go.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},bo.prototype.ka=function(e){return ks(e,wo(this))},bo.prototype.b=function(e,t){var n=wo(this);return n.idToken=t,Ns(e,n)},bo.prototype.c=function(e,t){return vo(As(e,wo(this)),t)},bo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},So.prototype.Ka=function(e){return this.Jb=me(e),this},I(Eo,So),I(Io,So),Io.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},Io.prototype.Rb=function(){return J(this.a)},Io.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new bo(this.providerId,n,this.providerId)},I(To,Io),ei(To,"PROVIDER_ID","facebook.com"),ei(To,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(No,Io),ei(No,"PROVIDER_ID","github.com"),ei(No,"GITHUB_SIGN_IN_METHOD","github.com"),I(Co,Io),ei(Co,"PROVIDER_ID","google.com"),ei(Co,"GOOGLE_SIGN_IN_METHOD","google.com"),I(Ro,So),ei(Ro,"PROVIDER_ID","twitter.com"),ei(Ro,"TWITTER_SIGN_IN_METHOD","twitter.com"),Oo.prototype.ka=function(e){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Ms,{email:this.a,oobCode:this.f}):cu(e,iu,{email:this.a,password:this.f})},Oo.prototype.b=function(e,t){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Fs,{idToken:t,email:this.a,oobCode:this.f}):cu(e,$s,{idToken:t,email:this.a,password:this.f})},Oo.prototype.c=function(e,t){return vo(this.ka(e),t)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ti(Lo,{PROVIDER_ID:"password"}),ti(Lo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ti(Lo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Uo.prototype.ka=function(e){return e.gb(jo(this))},Uo.prototype.b=function(e,t){var n=jo(this);return n.idToken=t,cu(e,au,n)},Uo.prototype.c=function(e,t){var n=jo(this);return n.operation="REAUTH",vo(e=cu(e,su,n),t)},Uo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},qo.prototype.gb=function(e,t){var n=this.a.a;return xt(t.verify()).then(function(r){if("string"!==typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=v(e)?e.session:null,a=v(e)?e.phoneNumber:e;return i=o&&o.type==fo?o.Ha().then(function(e){return function(e,t){return cu(e,Js,t).then(function(e){return e.phoneSessionInfo.sessionInfo})}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})}):o&&o.type==ho?o.Ha().then(function(t){return function(e,t){return cu(e,Zs,t).then(function(e){return e.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(e,t){return cu(e,Qs,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then(function(e){return"function"===typeof t.reset&&t.reset(),e},function(e){throw"function"===typeof t.reset&&t.reset(),e})}throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},ti(qo,{PROVIDER_ID:"phone"}),ti(qo,{PHONE_SIGN_IN_METHOD:"phone"}),Ho.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ho.prototype.T=function(){return this.h},Ho.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Qo,Xo=null;function $o(e){var t="unauthorized-domain",n=void 0,r=Bn(e);e=r.a,"chrome-extension"==(r=r.c)?n=He("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=He("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",k.call(this,t,n)}function Yo(e,t,n){k.call(this,e,n),(e=t||{}).Kb&&ei(this,"email",e.Kb),e.ea&&ei(this,"phoneNumber",e.ea),e.credential&&ei(this,"credential",e.credential),e.$b&&ei(this,"tenantId",e.$b)}function Jo(e){if(e.code){var t=e.code||"";0==t.indexOf(C)&&(t=t.substring(C.length));var n={credential:zo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new k(t,e.message||void 0);return new Yo(t,n,e.message)}return null}function Zo(){}function ea(e){return e.c||(e.c=e.b())}function ta(){}function na(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(Pp){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ra(){}function ia(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function oa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function aa(e,t,n){this.reset(e,t,n,void 0,void 0)}I($o,k),I(Yo,k),Yo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&be(e,t),e},Yo.prototype.toJSON=function(){return this.w()},Zo.prototype.c=null,I(ta,Zo),ta.prototype.a=function(){var e=na(this);return e?new ActiveXObject(e):new XMLHttpRequest},ta.prototype.b=function(){var e={};return na(this)&&(e[0]=!0,e[1]=!0),e},Qo=new ta,I(ra,Zo),ra.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ia;throw Error("Unsupported browser")},ra.prototype.b=function(){return{}},(e=ia.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,oa(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",oa(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,oa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},aa.prototype.a=null;function sa(e){this.f=e,this.b=this.c=this.a=null}function ua(e,t){this.name=e,this.value=t}aa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||E(),delete this.a},ua.prototype.toString=function(){return this.name};var ca=new ua("SEVERE",1e3),la=new ua("WARNING",900),fa=new ua("CONFIG",700),ha=new ua("FINE",500);function da(e){return e.c?e.c:e.a?da(e.a):(M("Root logger has no level set."),null)}sa.prototype.log=function(e,t,n){if(e.value>=da(this).value)for(p(t)&&(t=t()),e=new aa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var pa,va={},ga=null;function ma(e){var t;if(ga||(ga=new sa(""),va[""]=ga,ga.c=fa),!(t=va[e])){t=new sa(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ma(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,va[e]=t}return t}function ya(e,t){e&&e.log(ha,t,void 0)}function ba(e){this.f=e}function wa(e){In.call(this),this.u=e,this.h=void 0,this.readyState=_a,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ma("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ba,Zo),ba.prototype.a=function(){return new wa(this.f)},ba.prototype.b=(pa={},function(){return pa}),I(wa,In);var _a=0;function Sa(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function Ea(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Ia(e)}function Ia(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ta(e){In.call(this),this.headers=new Dn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ka,this.u=this.S=!1}(e=wa.prototype).open=function(e,t){if(this.readyState!=_a)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Ia(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ea(this)),this.readyState=_a},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Ia(this)),this.a&&(this.readyState=3,Ia(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,Sa(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Ea(this):Ia(this),3==this.readyState&&Sa(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Ea(this))},e.sc=function(e){this.a&&(this.response=e,Ea(this))},e.Va=function(e){var t=this.i;t&&t.log(la,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Ea(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(la,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(la,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),I(Ta,In);var ka="";Ta.prototype.b=ma("goog.net.XhrIo");var Na=/^https?$/i,Aa=["POST","PUT"];function Ca(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Qo.a(),e.C=e.D?ea(e.D):ea(Qo),e.a.onreadystatechange=_(e.Wb,e);try{ya(e.b,Ua(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return ya(e.b,Ua(e,"Error opening Xhr: "+a.message)),void Ra(e,a)}t=r||"";var o=new Dn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)K(e,t,void 0);else for(var n=Rn(e),r=xn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,function(e,t){o.set(t,e)}),i=function(e){e:{for(var t=xa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!Q(Aa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{La(e),0<e.g&&(e.u=function(e){return $e&&st(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ya(e.b,Ua(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=_(e.Ma,e)):e.s=An(e.Ma,e.g,e)),ya(e.b,Ua(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){ya(e.b,Ua(e,"Send error: "+a.message)),Ra(e,a)}}function xa(e){return"content-type"==e.toLowerCase()}function Ra(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Da(e),Pa(e)}function Da(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Oa(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==Ma(e)&&2==Fa(e))ya(e.b,Ua(e,"Local request error detected and ignored"));else if(e.i&&4==Ma(e))An(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ma(e)){ya(e.b,Ua(e,"Request complete")),e.c=!1;try{var t,n=Fa(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Ln)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Na.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ma(e)?e.a.statusText:""}catch(l){ya(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+Fa(e)+"]",Da(e)}}finally{Pa(e)}}}function Pa(e,t){if(e.a){La(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Pp){(e=e.b)&&e.log(ca,"Problem encountered resetting onreadystatechange: "+Pp.message,void 0)}}}function La(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Ma(e){return e.a?e.a.readyState:0}function Fa(e){try{return 2<Ma(e)?e.a.status:-1}catch(t){return-1}}function Ua(e,t){return t+" ["+e.P+" "+e.l+" "+Fa(e)+"]"}function Va(e){var t=$a;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ja(e,t,n){e.a=!0,e.c=n,e.f=!t,Ka(e)}function qa(e){if(e.a){if(!e.v)throw new Ha(e);e.v=!1}}function Ba(e,t,n,r){e.g.push([t,n,r]),e.a&&Ka(e)}function za(e){return W(e.g,function(e){return p(e[1])})}function Ka(e){if(e.h&&e.a&&za(e)){var t=e.h,n=Qa[t];n&&(s.clearTimeout(n.a),delete Qa[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(O(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,za(e)||(n=!0)}}e.c=t,r&&(u=_(e.m,e,!0),r=_(e.m,e,!1),t instanceof Va?(Ba(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Wa(t),Qa[t.a]=t,e.h=t.a)}function Ha(){P.call(this)}function Ga(){P.call(this)}function Wa(e){this.a=s.setTimeout(_(this.c,this),0),this.b=e}(e=Ta.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ya(this.b,Ua(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ya(this.b,Ua(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Pa(this,!0)),Ta.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Oa(this):this.Jc())},e.Jc=function(){Oa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ka:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ca,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ya(this.b,"Can not get response: "+t.message),null}},Va.prototype.cancel=function(e){if(this.a)this.c instanceof Va&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ga(this),qa(this),ja(this,!1,e))}},Va.prototype.m=function(e,t){this.i=!1,ja(this,e,t)},Va.prototype.then=function(e,t,n){var r,i,o=new Et(function(e,t){r=e,i=t});return Ba(this,r,function(e){e instanceof Ga?o.cancel():i(e)}),o.then(e,t,n)},Va.prototype.$goog_Thenable=!0,I(Ha,P),Ha.prototype.message="Deferred has already fired",Ha.prototype.name="AlreadyCalledError",I(Ga,P),Ga.prototype.message="Deferred was canceled",Ga.prototype.name="CanceledError",Wa.prototype.c=function(){throw delete Qa[this.a],this.b};var Qa={};function Xa(e){var t={},n=t.document||document,r=Ae(e).toString(),i=mt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Va(o),u=null,f=null!=t.timeout?t.timeout:5e3;return 0<f&&(u=window.setTimeout(function(){Ya(i,!0);var e=new es(Za,"Timeout reached for loading script "+r);qa(a),ja(a,!1,e)},f),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ya(i,t.xd||!1,u),qa(a),ja(a,!0,null))},i.onerror=function(){Ya(i,!0,u);var e=new es(Ja,"Error while loading script "+r);qa(a),ja(a,!1,e)},be(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ht(i,o),function(e,t){we(e,"HTMLScriptElement"),e.src=Ae(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function $a(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Ya(e,!0,this.Ma)}}function Ya(e,t,n){null!=n&&s.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var Ja=0,Za=1;function es(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),P.call(this,n),this.code=e}function ts(e){this.f=e}function ns(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||os,this.g=me(e.secureTokenHeaders||as),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ss,this.a=me(e.firebaseHeaders||us),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Tr(),!(n=s.XMLHttpRequest||n&&oe.INTERNAL.node&&oe.INTERNAL.node.XMLHttpRequest)&&!Ir())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Ir()?this.f=new ba(self):kr()?this.f=new ts(n):this.f=new ra,this.b=null}I(es,P),I(ts,Zo),ts.prototype.a=function(){return new this.f},ts.prototype.b=function(){return{}};var rs,is="idToken",os=new Gr(3e4,6e4),as={"Content-Type":"application/x-www-form-urlencoded"},ss=new Gr(3e4,6e4),us={"Content-Type":"application/json"};function cs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ls(e,t){t&&(e.l=fs("https://securetoken.googleapis.com/v1/token",t),e.h=fs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=fs("https://identitytoolkit.googleapis.com/v2/",t))}function fs(e,t){return e=Bn(e),t=Bn(t.url),e.f=e.a+e.f,Fn(e,t.c),e.a=t.a,Un(e,t.g),e.toString()}function hs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ds(e,t,n,r,i,o,a){(function(){var e=Dr();return!((e=Cr(e)!=Ar?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!$e||!ct||9<ct)})()||Ir()?e=_(e.u,e):(rs||(rs=new Et(function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[vs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ba(e,null,t,void 0)}(Xa(Ce(ps,{onload:vs})),function(){t(Error("CORS_UNSUPPORTED"))})}}(e,t)})),e=_(e.s,e)),e(t,n,r,i,o,a)}ns.prototype.T=function(){return this.b},ns.prototype.u=function(e,t,n,r,i,o){if(Ir()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ta(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout(function(){a.dispatchEvent("timeout")},o)}Tn(a,"complete",function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ya(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(ve){e=null}t&&t(e)}),kn(a,"ready",function(){u&&clearTimeout(u),Qt(this)}),kn(a,"timeout",function(){u&&clearTimeout(u),Qt(this),t&&t(null)}),Ca(a,e,n,r,i)};var ps=new _e(Te,"https://apis.google.com/js/client.js?onload=%{onload}"),vs="__fcb"+Math.floor(1e6*Math.random()).toString();function gs(e,t,n,r,i,o,a){var s=Bn(t+n);jn(s,"key",e.c),a&&jn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&jn(s,c,i[c]);return new Et(function(t,n){ds(e,s.toString(),function(e){e?e.error?n(fu(e,o||{})):t(e):n(new k("network-request-failed"))},r,u?void 0:ar(qr(i)),e.a,e.v.get())})}function ms(e){if("string"!==typeof(e=e.email)||!wr.test(e))throw new k("invalid-email")}function ys(e){"email"in e&&ms(e)}function bs(e){if(!e[is]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,me(e));throw new k("internal-error")}}function ws(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}ns.prototype.s=function(e,t,n,r,i){var o=this;rs.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).o(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},ns.prototype.Ab=function(){return cu(this,Ys,{})},ns.prototype.Cb=function(e,t){return cu(this,Xs,{idToken:e,email:t})},ns.prototype.Db=function(e,t){return cu(this,$s,{idToken:e,password:t})};var _s={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ss(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function Es(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function Is(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(nr(e=new Jn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Ts(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Jo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Jo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Jo(e)):e.errorMessage&&(t=lu(e.errorMessage)),t)throw t;bs(e)}function ks(e,t){return t.returnIdpCredential=!0,cu(e,eu,t)}function Ns(e,t){return t.returnIdpCredential=!0,cu(e,nu,t)}function As(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,cu(e,tu,t)}function Cs(e){if(!e.oobCode)throw new k("invalid-action-code")}(e=ns.prototype).Eb=function(e,t){var n={idToken:e},r=[];return pe(_s,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),cu(this,Xs,n)},e.wb=function(e,t){return be(e={requestType:"PASSWORD_RESET",email:e},t),cu(this,Ks,e)},e.xb=function(e,t){return be(e={requestType:"EMAIL_SIGNIN",email:e},t),cu(this,qs,e)},e.vb=function(e,t){return be(e={requestType:"VERIFY_EMAIL",idToken:e},t),cu(this,Bs,e)},e.Fb=function(e,t,n){return be(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),cu(this,zs,e)},e.gb=function(e){return cu(this,ou,e)},e.ob=function(e,t){return cu(this,Ws,{oobCode:e,newPassword:t})},e.Sa=function(e){return cu(this,Rs,{oobCode:e})},e.kb=function(e){return cu(this,xs,{oobCode:e})};var xs={endpoint:"setAccountInfo",A:Cs,Z:"email",B:!0},Rs={endpoint:"resetPassword",A:Cs,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new k("internal-error")},B:!0},Ds={endpoint:"signupNewUser",A:function(e){if(ms(e),!e.password)throw new k("weak-password")},G:bs,V:!0,B:!0},Os={endpoint:"createAuthUri",B:!0},Ps={endpoint:"deleteAccount",O:["idToken"]},Ls={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new k("internal-error")}},Ms={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ms,G:bs,V:!0,B:!0},Fs={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ms,G:bs,V:!0},Us={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Ss,G:bs,B:!0,Na:!0},Vs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Ss,G:bs,B:!0,Na:!0},js={endpoint:"getAccountInfo"},qs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");ms(e)},Z:"email",B:!0},Bs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Ks={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");ms(e)},Z:"email",B:!0},Hs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Gs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},Ws={endpoint:"resetPassword",A:Cs,Z:"email",B:!0},Qs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Xs={endpoint:"setAccountInfo",O:["idToken"],A:ys,V:!0},$s={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ys(e),!e.password)throw new k("weak-password")},G:bs,V:!0},Ys={endpoint:"signupNewUser",G:bs,V:!0,B:!0},Js={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Zs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},eu={endpoint:"verifyAssertion",A:Es,Za:Is,G:Ts,V:!0,B:!0},tu={endpoint:"verifyAssertion",A:Es,Za:Is,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw lu(e.errorMessage);bs(e)},V:!0,B:!0},nu={endpoint:"verifyAssertion",A:function(e){if(Es(e),!e.idToken)throw new k("internal-error")},Za:Is,G:Ts,V:!0},ru={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new k("invalid-custom-token")},G:bs,V:!0,B:!0},iu={endpoint:"verifyPassword",A:function(e){if(ms(e),!e.password)throw new k("wrong-password")},G:bs,V:!0,B:!0},ou={endpoint:"verifyPhoneNumber",A:ws,G:bs,B:!0},au={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new k("internal-error");ws(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Jo(e);bs(e)}},su={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ws,G:bs,B:!0},uu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[is]^!!e.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function cu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Rt(new k("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return xt(n).then(t.A).then(function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),gs(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)}).then(function(e){return r=e,t.Za?t.Za(n,r):r}).then(t.G).then(function(){if(!t.Z)return r;if(!(t.Z in r))throw new k("internal-error");return r[t.Z]})}function lu(e){return fu({error:{errors:[{message:e}],code:400,message:e}})}function fu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",be(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],t);return!t&&e&&(t=jr(e)),new k("internal-error",t)}function hu(e){this.b=e,this.a=null,this.sb=function(e){return(gu||(gu=new Et(function(e,t){function n(){Hr(),Or("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Hr(),t(Error("Network Error"))},timeout:pu.get()})}if(Or("gapi.iframes.Iframe"))e();else if(Or("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Or("gapi.load")?n():t(Error("Network Error"))},xt(Xa(r=Ce(du,{onload:r}))).o(function(){t(Error("Network Error"))})}}).o(function(e){throw gu=null,e}))).then(function(){return new Et(function(t,n){Or("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},vu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var du=new _e(Te,"https://apis.google.com/js/api.js?onload=%{onload}"),pu=new Gr(3e4,6e4),vu=new Gr(5e3,15e3),gu=null;function mu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=zn((e=Bn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=zn("https",this.l,null,"/__/auth/iframe"),this.a=e,jn(this.a,"apiKey",this.h),jn(this.a,"appName",this.i),this.b=null,this.c=[]}function yu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function bu(e){try{return oe.app(e).auth().Ga()}catch(t){return[]}}function wu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function _u(e){var t=dr();return function(e){return cu(e,Hs,{}).then(function(e){return e.authorizedDomains||[]})}(e).then(function(e){e:{var n=Bn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Bn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:br.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new $o(dr())})}function Su(e){return e.m||(e.m=_r().then(function(){if(!e.u){var t=e.c,n=e.i,r=bu(e.b),i=new mu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=J(r||[]),e.u=i.toString()}e.v=new hu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then(function(){e.a.register("authEvent",t,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.v,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Go(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",xt(n)}return n.status="ERROR",xt(n)})}(e)})),e.m}function Eu(e){return e.l||(e.C=e.c?Rr(e.c,bu(e.b)):null,e.l=new ns(e.g,D(e.i),e.C),e.f&&ls(e.l,e.f)),e.l}function Iu(e,t,n,r,i,o,a,s,u,c,l,f){return(e=new yu(e,t,n,r,i,f)).l=o,e.g=a,e.i=s,e.b=me(u||null),e.f=c,e.zb(l).toString()}function Tu(e){if(this.a=e||oe.INTERNAL.reactNative&&oe.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ku(e){this.b=e,this.a={},this.f=_(this.c,this)}mu.prototype.toString=function(){return this.f?jn(this.a,"v",this.f):tr(this.a.b,"v"),this.b?jn(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?jn(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},yu.prototype.zb=function(e){return this.h=e,this},yu.prototype.toString=function(){if(this.v){var e=Bn(this.v.url);e=zn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=zn("https",this.u,null,"/__/auth/handler");if(jn(e,"apiKey",this.s),jn(e,"appName",this.c),jn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=oe.app(this.c).auth().la()}catch(s){n=null}for(var r in t.pb=n,jn(e,"providerId",this.a.providerId),t=qr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=me(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),ge(t)||jn(e,"customParameters",jr(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&jn(e,"scopes",n.join(","))),this.l?jn(e,"redirectUrl",this.l):tr(e.b,"redirectUrl"),this.g?jn(e,"eventId",this.g):tr(e.b,"eventId"),this.i?jn(e,"v",this.i):tr(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!qn(e,a)&&jn(e,a,this.b[a]);return this.h?jn(e,"tid",this.h):tr(e.b,"tid"),this.f?jn(e,"eid",this.f):tr(e.b,"eid"),(a=bu(this.c)).length&&jn(e,"fw",a.join(",")),e.toString()},(e=wu.prototype).Pb=function(e,t,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(e){var t={type:"webStorageSupport"};return Su(e).then(function(){return function(e,t){return e.sb.then(function(){return new Et(function(n){e.a.send(t.type,t,n,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(e.v,t)}).then(function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(e&&mr(e),t(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(e){return new Et(function(t){return function n(){Cn(2e3).then(function(){if(e&&!e.closed)return n();t()})}()})}(e)}).then(function(){if(!a)return Cn(n).then(function(){t(r)})})},e.Yb=function(){var e=Dr();return!Vr(e)&&!Kr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Rt(new k("popup-blocked"));if(a&&!Vr())return this.ma().o(function(t){mr(e),i(t)}),r(),xt();this.a||(this.a=_u(Eu(this)));var u=this;return this.a.then(function(){var t=u.ma().o(function(t){throw mr(e),i(t),t});return r(),t}).then(function(){(Ko(n),a)||pr(Iu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)}).o(function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e})},e.Ob=function(e,t,n,r){this.a||(this.a=_u(Eu(this)));var i=this;return this.a.then(function(){Ko(t),pr(Iu(i.s,i.g,i.b,e,t,dr(),n,i.c,void 0,i.i,r,i.f))}).o(function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e})},e.ma=function(){var e=this;return Su(this).then(function(){return e.v.sb}).o(function(){throw e.a=null,new k("network-request-failed")})},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){$(this.h,function(t){return t==e})},(e=Tu.prototype).get=function(e){return xt(this.a.getItem(e)).then(function(e){return e&&Br(e)})},e.set=function(e,t){return xt(this.a.setItem(e,jr(t)))},e.U=function(e){return xt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Nu,Au=[];function Cu(e,t,n){ge(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function xu(e){this.a=e}function Ru(e){this.c=e,this.b=!1,this.a=[]}function Du(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Rt(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Et(function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))}).then(function(t){return Ou(e,c),t}).o(function(t){throw Ou(e,c),t})}function Ou(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(e.a,function(e){return e==t})}}function Pu(){if(!Uu())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Ir()&&self?(this.v=function(){var e=Ir()?self:null;if(K(Au,function(n){n.b==e&&(t=n)}),!t){var t=new ku(e);Au.push(t)}return t}(),Cu(this.v,"keyChanged",function(t,n){return zu(e).then(function(t){return 0<t.length&&K(e.a,function(e){e(t)}),{keyProcessed:Q(t,n.key)}})}),Cu(this.v,"ping",function(){return xt(["keyChanged"])})):function(){var e=s.navigator;return e&&e.serviceWorker?xt().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).o(function(){return null}):xt(null)}().then(function(t){(e.h=t)&&(e.g=new Ru(new xu(t)),Du(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)}).o(function(){}))})}function Lu(e){return new Et(function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new Et(function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}})}(e).then(function(){return Lu(e)}).then(function(e){t(e)}).o(function(e){n(e)})}})}function Mu(e){return e.i||(e.i=Lu(e)),e.i}function Fu(e,t){var n=0;return new Et(function r(i,o){Mu(e).then(t).then(i).o(function(t){if(!(3<++n))return Mu(e).then(function(t){return t.close(),e.i=void 0,r(i,o)}).o(function(e){o(e)});o(t)})})}function Uu(){try{return!!s.indexedDB}catch(pa){return!1}}function Vu(e){return e.objectStore("firebaseLocalStorage")}function ju(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function qu(e){return new Et(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function Bu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Du(e.g,"keyChanged",{key:t},e.s).then(function(){}).o(function(){}):xt()}function zu(e){return Mu(e).then(function(e){var t=Vu(ju(e,!1));return t.getAll?qu(t.getAll()):new Et(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=vr(e.c,n),e.c=n}return r})}function Ku(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Hu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=xt().then(function(){if(Uu()){var e=zr(),r="__sak"+e;return Nu||(Nu=new Pu),(n=Nu).set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.ca(function(e){K(t.a,function(t){t(e)})}),e})}function Gu(){this.a={},this.type="inMemory"}function Wu(){if(!function(){var e="Node"==Tr();if(e=Qu()||e&&oe.INTERNAL.node&&oe.INTERNAL.node.localStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Qu()||oe.INTERNAL.node.localStorage,this.type="localStorage"}function Qu(){try{var e=s.localStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Xu(){this.type="nullStorage"}function $u(){if(!function(){var e="Node"==Tr();if(e=Yu()||e&&oe.INTERNAL.node&&oe.INTERNAL.node.sessionStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Tr())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Yu()||oe.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Yu(){try{var e=s.sessionStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Ju(){var e={};e.Browser=tc,e.Node=nc,e.ReactNative=rc,e.Worker=ic,this.a=e[Tr()]}ku.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];K(r,function(t){i.push(xt().then(function(){return t(e.origin,e.data.data)}))}),Ot(i).then(function(r){var i=[];K(r,function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})}),K(i,function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})})}},xu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Ru.prototype.close=function(){for(;0<this.a.length;)Ou(this,this.a[0]);this.b=!0},(e=Pu.prototype).set=function(e,t){var n=this,r=!1;return Fu(this,function(t){return qu((t=Vu(ju(t,!0))).get(e))}).then(function(i){return Fu(n,function(o){if(o=Vu(ju(o,!0)),i)return i.value=t,qu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,qu(o.add(a))})}).then(function(){return n.c[e]=t,Bu(n,e)}).oa(function(){r&&n.b--})},e.get=function(e){return Fu(this,function(t){return qu(Vu(ju(t,!1)).get(e))}).then(function(e){return e&&e.value})},e.U=function(e){var t=this,n=!1;return Fu(this,function(r){return n=!0,t.b++,qu(Vu(ju(r,!0)).delete(e))}).then(function(){return delete t.c[e],Bu(t,e)}).oa(function(){n&&t.b--})},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout(function(){e.l=zu(e).then(function(t){0<t.length&&K(e.a,function(e){e(t)})}).then(function(){t()}).o(function(e){"STOP_EVENT"!=e.message&&t()})},800)}Ku(e),t()}(this),this.a.push(e)},e.ia=function(e){$(this.a,function(t){return t==e}),0==this.a.length&&Ku(this)},(e=Hu.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},e.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},e.U=function(e){return this.b.then(function(t){return t.U(e)})},e.ca=function(e){this.a.push(e)},e.ia=function(e){$(this.a,function(t){return t==e})},(e=Gu.prototype).get=function(e){return xt(this.a[e])},e.set=function(e,t){return this.a[e]=t,xt()},e.U=function(e){return delete this.a[e],xt()},e.ca=function(){},e.ia=function(){},(e=Wu.prototype).get=function(e){var t=this;return xt().then(function(){return Br(t.a.getItem(e))})},e.set=function(e,t){var n=this;return xt().then(function(){var r=jr(t);null===r?n.U(e):n.a.setItem(e,r)})},e.U=function(e){var t=this;return xt().then(function(){t.a.removeItem(e)})},e.ca=function(e){s.window&&hn(s.window,"storage",e)},e.ia=function(e){s.window&&vn(s.window,"storage",e)},(e=Xu.prototype).get=function(){return xt(null)},e.set=function(){return xt()},e.U=function(){return xt()},e.ca=function(){},e.ia=function(){},(e=$u.prototype).get=function(e){var t=this;return xt().then(function(){return Br(t.a.getItem(e))})},e.set=function(e,t){var n=this;return xt().then(function(){var r=jr(t);null===r?n.U(e):n.a.setItem(e,r)})},e.U=function(e){var t=this;return xt().then(function(){t.a.removeItem(e)})},e.ca=function(){},e.ia=function(){};var Zu,ec,tc={F:Wu,cb:$u},nc={F:Wu,cb:$u},rc={F:Tu,cb:Xu},ic={F:Wu,cb:Xu},oc={rd:"local",NONE:"none",td:"session"};function ac(){var e=!(Kr(Dr())||!Er()),t=Vr(),n=Pr();this.m=e,this.h=t,this.l=n,this.a={},Zu||(Zu=new Ju),e=Zu;try{this.g=!hr()&&Xr()||!s.indexedDB?new e.a.F:new Hu(Ir()?new Gu:new e.a.F)}catch(r){this.g=new Gu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Gu}this.v=new Gu,this.f=_(this.Zb,this),this.b={}}function sc(){return ec||(ec=new ac),ec}function uc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function cc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function lc(e,t,n){return n=cc(t,n),"local"==t.F&&(e.b[n]=null),uc(e,t.F).U(n)}function fc(e){e.c&&(clearInterval(e.c),e.c=null)}function hc(e){this.a=e,this.b=sc()}(e=ac.prototype).get=function(e,t){return uc(this,e.F).get(cc(e,t))},e.set=function(e,t,n){var r=cc(e,n),i=this,o=uc(this,e.F);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.F&&(i.b[r]=t)})},e.addListener=function(e,t,n){e=cc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),ge(this.a)&&(uc(this,"local").ca(this.f),this.h||(hr()||!Xr())&&s.indexedDB||!this.l||function(e){fc(e),e.c=setInterval(function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new en({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}},1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=cc(e,t),this.a[e]&&($(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),ge(this.a)&&(uc(this,"local").ia(this.f),fc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?uc(this,"local").ia(this.f):fc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},$e&&ct&&10==ct&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else K(e,_(this.nb,this))},e.nb=function(e){this.a[e]&&K(this.a[e],function(e){e()})};var dc,pc={name:"authEvent",F:"local"};function vc(){this.a=sc()}function gc(e,t){this.b=mc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===dc&&(dc=s.Int32Array?new Int32Array(Ic):Ic),this.reset()}I(gc,function(){this.b=-1});for(var mc=64,yc=mc-1,bc=[],wc=0;wc<yc;wc++)bc[wc]=0;var _c=Y(128,bc);function Sc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|dc[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function Ec(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Sc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Sc(e),i=0)}}e.c=i,e.g+=n}gc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var Ic=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tc(){gc.call(this,8,kc)}I(Tc,gc);var kc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Nc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new vc,this.g=new hc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ac(e){return new k("invalid-cordova-configuration",e)}function Cc(e){var t=new Tc;Ec(t,e),e=[];var n=8*t.g;56>t.c?Ec(t,_c,56-t.c):Ec(t,_c,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Sc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return G(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(e)}function xc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Rc(e){return e.f||(e.f=e.ma().then(function(){return new Et(function(t){e.Ea(function n(r){return t(r),e.Ta(n),!1}),function(e){function t(t){r=!0,i&&i.cancel(),Dc(e).then(function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=co(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Br(qn(o=Bn(i),"firebaseError")||null))?N(o):null)?new Ho(r.c,r.b,null,null,o,null,r.T()):new Ho(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}xc(e,i)})}var n=new Ho("unknown",null,null,null,new k("no-auth-event")),r=!1,i=Cn(500).then(function(){return Dc(e).then(function(){r||xc(e,n)})}),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Or("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Xo||(Xo=new Wo),function(e){var t=Xo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Or("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)})})),e.f}function Dc(e){var t=null;return function(e){return e.b.get(pc,e.a).then(function(e){return Go(e)})}(e.g).then(function(n){return t=n,lc((n=e.g).b,pc,n.a)}).then(function(){return t})}function Oc(e){this.a=e,this.b=sc()}(e=Nc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Sr(void 0)?_r().then(function(){return new Et(function(e,t){var n=s.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):Rt(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!==typeof Or("universalLinks.subscribe",s))throw Ac("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Or("BuildInfo.packageName",s))throw Ac("cordova-plugin-buildinfo is not installed");if("function"!==typeof Or("cordova.plugins.browsertab.openUrl",s))throw Ac("cordova-plugin-browsertab is not installed");if("function"!==typeof Or("cordova.InAppBrowser.open",s))throw Ac("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})},e.Pb=function(e,t){return t(new k("operation-not-supported-in-this-environment")),xt()},e.Nb=function(){return Rt(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Rt(new k("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=xt().then(function(){return Ko(t),Rc(i)}).then(function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Ho(t,r,null,o,new k("no-auth-event"),null,i),u=Or("BuildInfo.packageName",s);if("string"!==typeof u)throw new k("invalid-cordova-configuration");var c=Or("BuildInfo.displayName",s),l={};if(Dr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Dr().toLowerCase().match(/android/))return Rt(new k("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Cc(o),l.sessionId=o;var f=Iu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then(function(){var t=e.h;return e.C.a.set(pc,a.w(),t)}).then(function(){var t=Or("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new k("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!==typeof(n=Or("cordova.plugins.browsertab.openUrl",s)))throw new k("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Or("cordova.InAppBrowser.open",s)))throw new k("invalid-cordova-configuration");t=Dr(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,e,t,n,r)}).then(function(){return new Et(function(e,t){u=function(){var t=Or("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Cn(2e3).then(function(){t(new k("redirect-cancelled-by-user"))}))},l=function(){Wr()&&c()},o.addEventListener("resume",c,!1),Dr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(e){return Dc(i).then(function(){throw e})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null})},e.Ea=function(e){this.b.push(e),Rc(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ho("unknown",null,null,null,new k("no-auth-event")),e(t))})},e.Ta=function(e){$(this.b,function(t){return t==e})};var Pc={name:"pendingRedirect",F:"session"};function Lc(e){return lc(e.b,Pc,e.a)}function Mc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new Yc,this.C=new nl,this.g=new Oc(Xc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Fc(this.D,this.v,this.m,A,this.J)}function Fc(e,t,n,r,i){var o=oe.SDK_VERSION||null;return Sr()?new Nc(e,t,n,o,r,i):new wu(e,t,n,o,r,i)}function Uc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o(function(n){throw e.a==t&&e.reset(),n})}function Vc(e){e.a.Yb()&&Uc(e).o(function(t){var n=new Ho("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Hc(t)&&e.s(n)}),e.a.Ub()||Jc(e.b)}function jc(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Pc,e.a).then(function(e){return"pending"==e})}(e.g).then(function(t){t?Lc(e.g).then(function(){Uc(e).o(function(t){var n=new Ho("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Hc(t)&&e.s(n)})}):Vc(e)}).o(function(){Vc(e)})}function qc(e,t){$(e.h,function(e){return e==t})}Mc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Fc(this.D,this.v,this.m,null,this.J),this.i={}},Mc.prototype.s=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Jc(this.b),t};var Bc=new Gr(2e3,1e4),zc=new Gr(3e4,6e4);function Kc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,function(){e.f||(e.f=!0,e.a.Ea(e.l))},function(){e.reset()},i,o,a)}function Hc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Gc(e,t,n,r,i){var o;return function(e){return e.b.set(Pc,"pending",e.a)}(e.g).then(function(){return e.a.Ob(t,n,r,i).o(function(t){if(Hc(t))throw new k("operation-not-supported-in-this-environment");return o=t,Lc(e.g).then(function(){throw o})}).then(function(){return e.a.ac()?new Et(function(){}):Lc(e.g).then(function(){return e.ra()}).then(function(){}).o(function(){})})})}function Wc(e,t,n,r,i){return e.a.Pb(r,function(e){t.na(n,null,e,i)},Bc.get())}Mc.prototype.ra=function(){return this.b.ra()};var Qc={};function Xc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function $c(e,t,n,r){var i=Xc(t,n,r);return Qc[i]||(Qc[i]=new Mc(e,t,n,r)),Qc[i]}function Yc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Jc(e){e.g||(e.g=!0,tl(e,!1,null,null))}function Zc(e){e.g&&!e.i&&tl(e,!1,null,null)}function el(e,t){if(e.b=function(){return xt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function tl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Rt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):el(e,n):el(e,{user:null}),e.f=[],e.c=[]}function nl(){}function rl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function il(e,t){this.a=t,ei(this,"verificationId",e)}function ol(e,t,n,r){return new qo(e).gb(t,n).then(function(e){return new il(e,r)})}function al(e){var t=Xi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ti(this,{token:e,expirationTime:Qr(1e3*t.exp),authTime:Qr(1e3*t.auth_time),issuedAtTime:Qr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function sl(e,t,n){var r=t&&t[cl];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=me(t),this.g=n,this.c=new lo(null,r),this.b=[];var i=this;K(t[ul]||[],function(e){(e=oi(e))&&i.b.push(e)}),ei(this,"auth",this.a),ei(this,"session",this.c),ei(this,"hints",this.b)}Yc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(tl(this,!0,null,e.a),xt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then(function(t){tl(e,s,t,null)}).o(function(t){tl(e,s,null,t)})}(this,e,t):Rt(new k("invalid-auth-event")):(tl(this,!1,null,null),xt())}else Rt(new k("invalid-auth-event"))},Yc.prototype.ra=function(){var e=this;return new Et(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new k("timeout");e.a&&e.a.cancel(),e.a=Cn(zc.get()).then(function(){e.b||(e.g=!0,tl(e,!0,null,t))})}(e))})},nl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),xt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then(function(e){t.na(r,e,null,n)}).o(function(e){t.na(r,null,e,n)})}(e,t):Rt(new k("invalid-auth-event"))}else Rt(new k("invalid-auth-event"))},il.prototype.confirm=function(e){return e=Bo(this.verificationId,e),this.a(e)};var ul="mfaInfo",cl="mfaPendingCredential";function ll(e,t,n,r){k.call(this,"multi-factor-auth-required",r,t),this.b=new sl(e,t,n),ei(this,"resolver",this.b)}function fl(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ll(t,e.serverResponse,n,e.message)}catch(r){}return null}function hl(){}function dl(e){ei(this,"factorId",e.fa),this.a=e}function pl(e){if(dl.call(this,e),this.a.fa!=qo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function vl(e,t){for(var n in Zt.call(this,e),t)this[n]=t[n]}function gl(e,t){this.a=e,this.b=[],this.c=_(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&K(t.multiFactor.enrolledFactors,function(e){var t=null,r={};if(e){e.uid&&(r[ui]=e.uid),e.displayName&&(r[ai]=e.displayName),e.enrollmentTime&&(r[si]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ci]=e.phoneNumber);try{t=new li(r)}catch(i){}e=t}else e=null;e&&n.push(e)}),ml(this,n)}function ml(e,t){e.b=t,ei(e,"enrolledFactors",t)}function yl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bl(e,t){e.stop(),e.b=Cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then(function(){return function(){var e=s.document,t=null;return Wr()||!e?xt():new Et(function(n){t=function(){Wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).o(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}()}).then(function(){return e.h()}).then(function(){bl(e,!0)}).o(function(t){e.i(t)&&bl(e,!1)})}function wl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function _l(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function Sl(e,t){e.b=Qi(t[is]||""),e.a=t.refreshToken,_l(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function El(e,t){return function(e,t){return new Et(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ds(e,e.l+"?key="+encodeURIComponent(e.c),function(e){e?e.error?r(fu(e)):e.access_token&&e.refresh_token?n(e):r(new k("internal-error")):r(new k("network-request-failed"))},"POST",er(t).toString(),e.g,e.m.get()):r(new k("internal-error"))})}(e.f,t).then(function(t){return e.b=Qi(t.access_token),e.a=t.refresh_token,_l(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function Il(e,t){this.a=e||null,this.b=t||null,ti(this,{lastSignInTime:Qr(t||null),creationTime:Qr(e||null)})}function Tl(e,t,n,r,i,o){ti(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function kl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=oe.SDK_VERSION?Rr(oe.SDK_VERSION):null;this.a=new ns(this.l,D(A),r),(this.u=e.emulatorConfig||null)&&ls(this.a,this.u),this.h=new wl(this.a),Ll(this,t[is]),Sl(this.h,t),ei(this,"refreshToken",this.h.a),Ul(this,n||{}),In.call(this),this.P=!1,this.s&&Lr()&&(this.b=$c(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new yl(function(){return e.I(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0})}(this),this.ba=_(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){Nl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){xl(i,e.f)},this.ja=null,this.S=new gl(this,n),ei(this,"multiFactor",this.S)}function Nl(e,t){e.u=t,ls(e.a,t),e.b&&(t=e.b,e.b=$c(e.s,e.l,e.m,e.u),e.P&&(qc(t,e),jc(e.b,e)))}function Al(e,t){e.qa&&vn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&hn(t,"languageCodeChanged",e.Pa)}function Cl(e,t){e.$&&vn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&hn(t,"emulatorConfigChanged",e.Ba)}function xl(e,t){e.aa=t,hs(e.a,oe.SDK_VERSION?Rr(oe.SDK_VERSION,e.aa):null)}function Rl(e,t){e.ja&&vn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&hn(t,"frameworkChanged",e.Oa)}function Dl(e){try{return oe.app(e.m).auth()}catch(t){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Ol(e){e.J||e.D.b||(e.D.start(),vn(e,"tokenChanged",e.ba),hn(e,"tokenChanged",e.ba))}function Pl(e){vn(e,"tokenChanged",e.ba),e.D.stop()}function Ll(e,t){e.Aa=t,ei(e,"_lat",t)}function Ml(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Ot(t).then(function(){return e})}function Fl(e){e.b&&!e.P&&(e.P=!0,jc(e.b,e))}function Ul(e,t){ti(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Il(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Vl(){}function jl(e){return xt().then(function(){if(e.J)throw new k("app-deleted")})}function ql(e){return G(e.providerData,function(e){return e.providerId})}function Bl(e,t){t&&(zl(e,t.providerId),e.providerData.push(t))}function zl(e,t){$(e.providerData,function(e){return e.providerId==t})}function Kl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&ei(e,t,n)}function Hl(e,t){e!=t&&(ti(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?ei(e,"metadata",function(e){return new Il(e.a,e.b)}(t.metadata)):ei(e,"metadata",new Il),K(t.providerData,function(t){Bl(e,t)}),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),ei(e,"refreshToken",e.h.a),ml(e.S,t.S.b))}function Gl(e){return e.I().then(function(t){var n=e.isAnonymous;return function(e,t){return cu(e.a,js,{idToken:t}).then(_(e.Kc,e))}(e,t).then(function(){return n||Kl(e,"isAnonymous",!1),t})})}function Wl(e,t){t[is]&&e.Aa!=t[is]&&(Sl(e.h,t),e.dispatchEvent(new vl("tokenChanged")),Ll(e,t[is]),Kl(e,"refreshToken",e.h.a))}function Ql(e,t){return Gl(e).then(function(){if(Q(ql(e),t))return Ml(e).then(function(){throw new k("provider-already-linked")})})}function Xl(e,t,n){return ni({user:e,credential:zo(t),additionalUserInfo:t=eo(t),operationType:n})}function $l(e,t){return Wl(e,t),e.reload().then(function(){return e})}function Yl(e,t,n,r,i){if(!Lr())return Rt(new k("operation-not-supported-in-this-environment"));if(e.i&&!i)return Rt(e.i);var o=Zi(n.providerId),a=zr(e.uid+":::"),s=null;(!Vr()||Er())&&e.s&&n.isOAuthProvider&&(s=Iu(e.s,e.l,e.m,t,n,null,a,oe.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=yr(s,o&&o.va,o&&o.ua);return r=r().then(function(){if(Zl(e),!i)return e.I().then(function(){})}).then(function(){return Kc(e.b,u,t,n,a,!!s,e.tenantId)}).then(function(){return new Et(function(n,r){e.na(t,null,new k("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Wc(e.b,e,t,u,a)})}).then(function(e){return u&&mr(u),e?ni(e):null}).o(function(e){throw u&&mr(u),e}),ef(e,r,i)}function Jl(e,t,n,r,i){if(!Lr())return Rt(new k("operation-not-supported-in-this-environment"));if(e.i&&!i)return Rt(e.i);var o=null,a=zr(e.uid+":::");return r=r().then(function(){if(Zl(e),!i)return e.I().then(function(){})}).then(function(){return e.ga=a,Ml(e)}).then(function(t){return e.ha&&(t=(t=e.ha).b.set(rf,e.w(),t.a)),t}).then(function(){return Gc(e.b,t,n,a,e.tenantId)}).o(function(t){if(o=t,e.ha)return of(e.ha);throw o}).then(function(){if(o)throw o}),ef(e,r,i)}function Zl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function ef(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Rt(e.i)):t.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new vl("userInvalidated")),e.i=t),t})}(e,t,n);return e.N.push(r),r.oa(function(){X(e.N,r)}),r.o(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=fl(t.w(),Dl(e),_(e.jc,e))),n||t})}function tf(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[is]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new kl(t,n,e);return e.providerData&&K(e.providerData,function(e){e&&Bl(i,ni(e))}),e.redirectEventId&&(i.ga=e.redirectEventId),i}function nf(e){this.a=e,this.b=sc()}sl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then(function(e){var n=me(t.f);return delete n[ul],delete n[cl],be(n,e),t.g(n)})},I(ll,k),hl.prototype.tb=function(e,t,n){return t.type==fo?function(e,t,n,r){return n.Ha().then(function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),be(n,{phoneVerificationInfo:jo(e.a)}),cu(t,Us,n)})}(this,e,t,n):function(e,t,n){return n.Ha().then(function(n){return be(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(e.a)}),cu(t,Vs,n)})}(this,e,t)},I(dl,hl),I(pl,dl),I(vl,Zt),(e=gl.prototype).yc=function(e){ml(this,function(e){var t=[];return K(e.mfaInfo||[],function(e){(e=oi(e))&&t.push(e)}),t}(e.hd))},e.Sb=function(){return this.a.I().then(function(e){return new lo(e,null)})},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then(function(n){return e.tb(r,n,t)}).then(function(e){return Wl(n.a,e),n.a.reload()})},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then(function(e){return cu(r,uu,{idToken:e,mfaEnrollmentId:n})}).then(function(e){var r=H(t.b,function(e){return e.uid!=n});return ml(t,r),Wl(t.a,e),t.a.reload().o(function(e){if("auth/user-token-expired"!=e.code)throw e})})},e.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(e){return e.w()})}}},yl.prototype.start=function(){this.a=this.c,bl(this,!0)},yl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},wl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},wl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Rt(new k("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?El(this,{grant_type:"refresh_token",refresh_token:this.a}):xt(null):xt({accessToken:this.b.toString(),refreshToken:this.a})},Il.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(kl,In),kl.prototype.xa=function(e){this.za=e,cs(this.a,e)},kl.prototype.la=function(){return this.za},kl.prototype.Ga=function(){return J(this.aa)},kl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},ei(kl.prototype,"providerId","firebase"),(e=kl.prototype).reload=function(){var e=this;return ef(this,jl(this).then(function(){return Gl(e).then(function(){return Ml(e)}).then(Vl)}))},e.oc=function(e){return this.I(e).then(function(e){return new al(e)})},e.I=function(e){var t=this;return ef(this,jl(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new k("internal-error");return e.accessToken!=t.Aa&&(Ll(t,e.accessToken),t.dispatchEvent(new vl("tokenChanged"))),Kl(t,"refreshToken",e.refreshToken),e.accessToken}))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");Ul(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?G(e,function(e){return new Tl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}(e),n=0;n<t.length;n++)Bl(this,t[n]);Kl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new vl("userReloaded",{hd:e}))},e.Lc=function(e){return Jr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return ef(this,e.c(this.a,this.uid).then(function(e){return Wl(t,e),n=Xl(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},e.Cc=function(e){return Jr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return ef(this,Ql(this,e.providerId).then(function(){return t.I()}).then(function(n){return e.b(t.a,n)}).then(function(e){return n=Xl(t,e,"link"),$l(t,e)}).then(function(){return n}))},e.Dc=function(e,t){var n=this;return ef(this,Ql(this,"phone").then(function(){return ol(Dl(n),e,t,_(n.rb,n))}))},e.Mc=function(e,t){var n=this;return ef(this,xt().then(function(){return ol(Dl(n),e,t,_(n.ub,n))}),!0)},e.Cb=function(e){var t=this;return ef(this,this.I().then(function(n){return t.a.Cb(n,e)}).then(function(e){return Wl(t,e),t.reload()}))},e.ed=function(e){var t=this;return ef(this,this.I().then(function(n){return e.b(t.a,n)}).then(function(e){return Wl(t,e),t.reload()}))},e.Db=function(e){var t=this;return ef(this,this.I().then(function(n){return t.a.Db(n,e)}).then(function(e){return Wl(t,e),t.reload()}))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return jl(this);var t=this;return ef(this,this.I().then(function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return Wl(t,e),Kl(t,"displayName",e.displayName||null),Kl(t,"photoURL",e.photoUrl||null),K(t.providerData,function(e){"password"===e.providerId&&(ei(e,"displayName",t.displayName),ei(e,"photoURL",t.photoURL))}),Ml(t)}).then(Vl))},e.cd=function(e){var t=this;return ef(this,Gl(this).then(function(n){return Q(ql(t),e)?function(e,t,n){return cu(e,Ls,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then(function(e){var n={};return K(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),K(ql(t),function(e){n[e]||zl(t,e)}),n[qo.PROVIDER_ID]||ei(t,"phoneNumber",null),Ml(t)}):Ml(t).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var e=this;return ef(this,this.I().then(function(t){return cu(e.a,Ps,{idToken:t})}).then(function(){e.dispatchEvent(new vl("userDeleted"))})).then(function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Al(e,null),Cl(e,null),Rl(e,null),e.N=[],e.J=!0,Pl(e),ei(e,"refreshToken",null),e.b&&qc(e.b,e)})},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?_(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?_(this.Mb,this):null},e.Ec=function(e){var t=this;return Yl(this,"linkViaPopup",e,function(){return Ql(t,e.providerId).then(function(){return Ml(t)})},!1)},e.Nc=function(e){return Yl(this,"reauthViaPopup",e,function(){return xt()},!0)},e.Fc=function(e){var t=this;return Jl(this,"linkViaRedirect",e,function(){return Ql(t,e.providerId)},!1)},e.Oc=function(e){return Jl(this,"reauthViaRedirect",e,function(){return xt()},!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ef(this,this.I().then(function(n){return Ns(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})}).then(function(e){return o=Xl(i,e,"link"),$l(i,e)}).then(function(){return o}))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ef(this,xt().then(function(){return vo(As(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)}).then(function(e){return o=Xl(i,e,"reauthenticate"),Wl(i,e),i.i=null,i.reload()}).then(function(){return o}),!0)},e.vb=function(e){var t=this,n=null;return ef(this,this.I().then(function(t){return n=t,"undefined"===typeof e||ge(e)?{}:Ki(new Pi(e))}).then(function(e){return t.a.vb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},e.Fb=function(e,t){var n=this,r=null;return ef(this,this.I().then(function(e){return r=e,"undefined"===typeof t||ge(t)?{}:Ki(new Pi(t))}).then(function(t){return n.a.Fb(r,e,t)}).then(function(e){if(n.email!=e)return n.reload()}).then(function(){}))},e.jc=function(e){var t=null,n=this;return ef(this,e=vo(xt(e),n.uid).then(function(e){return t=Xl(n,e,"reauthenticate"),Wl(n,e),n.i=null,n.reload()}).then(function(){return t}),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&be(e,this.metadata.w()),K(this.providerData,function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))}),be(e,this.S.w()),e};var rf={name:"redirectUser",F:"session"};function of(e){return lc(e.b,rf,e.a)}function af(e){this.a=e,this.b=sc(),this.c=null,this.f=function(e){var t=cf("local"),n=cf("session"),r=cf("none");return function(e,t,n){var r=cc(t,n),i=uc(e,t.F);return e.get(t,n).then(function(o){var a=null;try{a=Br(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)})}(e.b,t,e.a).then(function(){return e.b.get(n,e.a)}).then(function(i){return i?n:e.b.get(r,e.a).then(function(n){return n?r:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(uf,e.a).then(function(e){return e?cf(e):t})})})}).then(function(t){return e.c=t,sf(e,t.F)}).o(function(){e.c||(e.c=t)})}(this),this.b.addListener(cf("local"),this.a,_(this.g,this))}function sf(e,t){var n,r=[];for(n in oc)oc[n]!==t&&r.push(lc(e.b,cf(oc[n]),e.a));return r.push(lc(e.b,uf,e.a)),function(e){return new Et(function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Dt(e[s],S(o,s),a);else t(i)})}(r)}af.prototype.g=function(){var e=this,t=cf("local");df(this,function(){return xt().then(function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null}).then(function(n){if(n)return sf(e,"local").then(function(){e.c=t})})})};var uf={name:"persistence",F:"session"};function cf(e){return{name:"authUser",F:e}}function lf(e,t){return df(e,function(){return e.b.set(e.c,t.w(),e.a)})}function ff(e){return df(e,function(){return lc(e.b,e.c,e.a)})}function hf(e,t,n){return df(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),tf(e||{})})})}function df(e,t){return e.f=e.f.then(t,t),e.f}function pf(e){if(this.l=!1,ei(this,"settings",new rl),ei(this,"app",e),!Ef(this).options||!Ef(this).options.apiKey)throw new k("invalid-api-key");e=oe.SDK_VERSION?Rr(oe.SDK_VERSION):null,this.a=new ns(Ef(this).options&&Ef(this).options.apiKey,D(A),e),this.P=[],this.s=[],this.N=[],this.Pa=oe.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=oe.INTERNAL.createSubscribe(_(this.Ac,this)),_f(this,null),this.i=new af(Ef(this).options.apiKey+":"+Ef(this).name),this.D=new nf(Ef(this).options.apiKey+":"+Ef(this).name),this.$=Nf(this,function(e){var t=Ef(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(rf,e.a).then(function(e){return e&&t&&(e.authDomain=t),tf(e||{})})}(e.D,Ef(e).options.authDomain).then(function(t){return(e.m=t)&&(t.ha=e.D),of(e.D)});return Nf(e,t)}(e).then(function(){return hf(e.i,t,e.R)}).then(function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then(function(){return lf(e.i,t).then(function(){return t})}).o(function(n){return"auth/network-request-failed"==n.code?t:ff(e.i)})):null}).then(function(t){_f(e,t||null)});return Nf(e,n)}(this)),this.h=Nf(this,function(e){return e.$.then(function(){return bf(e)}).o(function(){}).then(function(){if(!e.l)return e.ja()}).o(function(){}).then(function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(cf("local"),t.a,e.ja)}})}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(e){var t=Ef(e).options.authDomain,n=Ef(e).options.apiKey;t&&Lr()&&(e.Oa=e.$.then(function(){if(!e.l){if(e.b=$c(t,n,Ef(e).name,e.R),jc(e.b,e),If(e)&&Fl(If(e)),e.m){Fl(e.m);var r=e.m;r.xa(e.la()),Al(r,e),xl(r=e.m,e.J),Rl(r,e),Nl(r=e.m,e.R),Cl(r,e),e.m=null}return e.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,In.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Bn(this.R.url);e=ni({protocol:e.c,host:e.a,port:e.g,options:ni({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function vf(e){Zt.call(this,"languageCodeChanged"),this.h=e}function gf(e){Zt.call(this,"emulatorConfigChanged"),this.c=e}function mf(e){Zt.call(this,"frameworkChanged"),this.f=e}function yf(e){return e.Oa||Rt(new k("auth-domain-config-required"))}function bf(e){if(!Lr())return Rt(new k("operation-not-supported-in-this-environment"));var t=yf(e).then(function(){return e.b.ra()}).then(function(e){return e?ni(e):null});return Nf(e,t)}function wf(e,t){var n={};return n.apiKey=Ef(e).options.apiKey,n.authDomain=Ef(e).options.authDomain,n.appName=Ef(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then(function(){return function(e,t,n,r){var i=new kl(e,t);return n&&(i.ha=n),r&&xl(i,r),i.reload().then(function(){return i})}(n,t,e.D,e.Ga())}).then(function(t){return If(e)&&t.uid==If(e).uid?(Hl(If(e),t),e.da(t)):(_f(e,t),Fl(t),e.da(t))}).then(function(){kf(e)})}function _f(e,t){If(e)&&(function(e,t){$(e.W,function(e){return e==t})}(If(e),e.Ba),vn(If(e),"tokenChanged",e.qa),vn(If(e),"userDeleted",e.za),vn(If(e),"userInvalidated",e.Aa),Pl(If(e))),t&&(t.W.push(e.Ba),hn(t,"tokenChanged",e.qa),hn(t,"userDeleted",e.za),hn(t,"userInvalidated",e.Aa),0<e.u&&Ol(t)),ei(e,"currentUser",t),t&&(t.xa(e.la()),Al(t,e),xl(t,e.J),Rl(t,e),Nl(t,e.R),Cl(t,e))}function Sf(e,t){var n=null,r=null;return Nf(e,t.then(function(t){return n=zo(t),r=eo(t),wf(e,t)},function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=fl(t.w(),e,_(e.kc,e))),n||t}).then(function(){return ni({user:If(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Ef(e){return e.app}function If(e){return e.currentUser}function Tf(e){return If(e)&&If(e)._lat||null}function kf(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Tf(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Tf(e))}}function Nf(e,t){return e.P.push(t),t.oa(function(){X(e.P,t)}),t}function Af(){}function Cf(){this.a={},this.b=1e12}af.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");e:{for(r in oc)if(oc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Tr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Uu()&&"none"!==e)throw n;break;default:if(!Pr()&&"none"!==e)throw n}}(e),df(this,function(){return e!=n.c.F?n.b.get(n.c,n.a).then(function(r){return t=r,sf(n,e)}).then(function(){if(n.c=cf(e),t)return n.b.set(n.c,t,n.a)}):xt()})},I(pf,In),I(vf,Zt),I(gf,Zt),I(mf,Zt),(e=pf.prototype).yb=function(e){return Nf(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,cs(this.a,this.aa),this.dispatchEvent(new vf(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&_r().then(function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)})})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,ls(this.a,this.R),this.dispatchEvent(new gf(this.R))}},e.Gc=function(e){this.J.push(e),hs(this.a,oe.SDK_VERSION?Rr(oe.SDK_VERSION,this.J):null),this.dispatchEvent(new mf(this.J))},e.Ga=function(){return J(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:Ef(this).options.apiKey,authDomain:Ef(this).options.authDomain,appName:Ef(this).name,currentUser:If(this)&&If(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?_(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return Sf(i,ks(i.a,o))})},e.Xc=function(e){if(!Lr())return Rt(new k("operation-not-supported-in-this-environment"));var t=this,n=Zi(e.providerId),r=zr(),i=null;(!Vr()||Er())&&Ef(this).options.authDomain&&e.isOAuthProvider&&(i=Iu(Ef(this).options.authDomain,Ef(this).options.apiKey,Ef(this).name,"signInViaPopup",e,null,r,oe.SDK_VERSION||null,null,null,this.T(),this.R));var o=yr(i,n&&n.va,n&&n.ua);return Nf(this,n=yf(this).then(function(n){return Kc(n,o,"signInViaPopup",e,r,!!i,t.T())}).then(function(){return new Et(function(e,n){t.na("signInViaPopup",null,new k("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Wc(t.b,t,"signInViaPopup",o,r)})}).then(function(e){return o&&mr(o),e?ni(e):null}).o(function(e){throw o&&mr(o),e}))},e.Yc=function(e){if(!Lr())return Rt(new k("operation-not-supported-in-this-environment"));var t=this,n=yf(this).then(function(){return function(e){return df(e,function(){return e.b.set(uf,e.c.F,e.a)})}(t.i)}).then(function(){return Gc(t.b,"signInViaRedirect",e,void 0,t.T())});return Nf(this,n)},e.ra=function(){var e=this;return bf(this).then(function(t){return e.b&&Zc(e.b.b),t}).o(function(t){throw e.b&&Zc(e.b.b),t})},e.dd=function(e){if(!e)return Rt(new k("null-user"));if(this.S!=e.tenantId)return Rt(new k("tenant-id-mismatch"));var t=this,n={};n.apiKey=Ef(this).options.apiKey,n.authDomain=Ef(this).options.authDomain,n.appName=Ef(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[is]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new kl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&xl(t,r),Hl(t,e),t}(e,n,t.D,t.Ga());return Nf(this,this.h.then(function(){if(Ef(t).options.apiKey!=e.l)return r.reload()}).then(function(){return If(t)&&e.uid==If(t).uid?(Hl(If(t),e),t.da(e)):(_f(t,r),Fl(r),t.da(r))}).then(function(){kf(t)}))},e.Bb=function(){var e=this;return Nf(this,this.h.then(function(){return e.b&&Zc(e.b.b),If(e)?(_f(e,null),ff(e.i).then(function(){kf(e)})):xt()}))},e.Zc=function(){var e=this;return hf(this.i,Ef(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=If(e)&&t){n=If(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Hl(If(e),t),If(e).I();(If(e)||t)&&(_f(e,t),t&&(Fl(t),t.ha=e.D),e.b&&jc(e.b,e),kf(e))}})},e.da=function(e){return lf(this.i,e)},e.mc=function(){kf(this),this.da(If(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then(function(){return Sf(t,xt(e))})},e.zc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(If(t))})},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Nf(e,e.h.then(function(){!e.l&&Q(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Tf(e)))}))}(this,function(){e.next(If(t))})},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"===typeof e?e(If(r)):"function"===typeof e.next&&e.next(If(r))}),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"===typeof e?e(If(r)):"function"===typeof e.next&&e.next(If(r))}),this.ib(e,t,n)},e.nc=function(e){var t=this;return Nf(this,this.h.then(function(){return If(t)?If(t).I(e).then(function(e){return{accessToken:e}}):null}))},e.Tc=function(e){var t=this;return this.h.then(function(){return Sf(t,cu(t.a,ru,{token:e}))}).then(function(e){var n=e.user;return Kl(n,"isAnonymous",!1),t.da(n),e})},e.Uc=function(e,t){var n=this;return this.h.then(function(){return Sf(n,cu(n.a,iu,{email:e,password:t}))})},e.dc=function(e,t){var n=this;return this.h.then(function(){return Sf(n,cu(n.a,Ds,{email:e,password:t}))})},e.ab=function(e){var t=this;return this.h.then(function(){return Sf(t,e.ka(t.a))})},e.Sc=function(e){return Jr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then(function(){var t=If(e);if(t&&t.isAnonymous){var n=ni({providerId:null,isNewUser:!1});return ni({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Sf(e,e.a.Ab()).then(function(t){var n=t.user;return Kl(n,"isAnonymous",!0),e.da(n),t})})},e.getUid=function(){return If(this)&&If(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&If(this)&&Ol(If(this))},e.Pc=function(e){var t=this;K(this.s,function(n){n==e&&t.u--}),0>this.u&&(this.u=0),0==this.u&&If(this)&&Pl(If(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Nf(this,this.h.then(function(){t.l||Q(t.s,e)&&e(Tf(t))}))},e.removeAuthTokenListener=function(e){$(this.s,function(t){return t==e})},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(cf("local"),e.a,this.ja),this.b&&(qc(this.b,this),Zc(this.b.b)),Promise.resolve()},e.hc=function(e){return Nf(this,function(e,t){return cu(e,Os,{identifier:t,continueUri:Fr()?dr():"http://localhost"}).then(function(e){return e.signinMethods||[]})}(this.a,e))},e.Bc=function(e){return!!Fo(e)},e.xb=function(e,t){var n=this;return Nf(this,xt().then(function(){var e=new Pi(t);if(!e.c)throw new k("argument-error",Fi+" must be true when sending sign in link to email");return Ki(e)}).then(function(t){return n.a.xb(e,t)}).then(function(){}))},e.jd=function(e){return this.Sa(e).then(function(e){return e.data.email})},e.ob=function(e,t){return Nf(this,this.a.ob(e,t).then(function(){}))},e.Sa=function(e){return Nf(this,this.a.Sa(e).then(function(e){return new fi(e)}))},e.kb=function(e){return Nf(this,this.a.kb(e).then(function(){}))},e.wb=function(e,t){var n=this;return Nf(this,xt().then(function(){return"undefined"===typeof t||ge(t)?{}:Ki(new Pi(t))}).then(function(t){return n.a.wb(e,t)}).then(function(){}))},e.Wc=function(e,t){return Nf(this,ol(this,e,t,_(this.ab,this)))},e.Vc=function(e,t){var n=this;return Nf(this,xt().then(function(){var r=t||dr(),i=Mo(e,r);if(!(r=Fo(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.ab(i)}))},Af.prototype.render=function(){},Af.prototype.reset=function(){},Af.prototype.getResponse=function(){},Af.prototype.execute=function(){};var xf=null;function Rf(e,t){return(t=Df(t))&&e.a[t]||null}function Df(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Of(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ft(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Pf(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Lf(){}function Mf(){}Cf.prototype.render=function(e,t){return this.a[this.b.toString()]=new Of(e,t),this.b++},Cf.prototype.reset=function(e){var t=Rf(this,e);e=Df(e),t&&e&&(t.delete(),delete this.a[e])},Cf.prototype.getResponse=function(e){return(e=Rf(this,e))?e.getResponse():null},Cf.prototype.execute=function(e){(e=Rf(this,e))&&e.execute()},Of.prototype.getResponse=function(){return Pf(this),this.b},Of.prototype.execute=function(){Pf(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()},6e4)},500))},Of.prototype.delete=function(){Pf(this),this.g=!0,clearTimeout(this.a),this.a=null,vn(this.f,"click",this.i)},ei(Lf,"FACTOR_ID","phone"),Mf.prototype.g=function(){return xf||(xf=new Cf),xt(xf)},Mf.prototype.c=function(){};var Ff=null;function Uf(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Vf=new _e(Te,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),jf=new Gr(3e4,6e4);Uf.prototype.g=function(e){var t=this;return new Et(function(n,r){var i=setTimeout(function(){r(new k("network-request-failed"))},jf.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete s[t.a]},xt(Xa(Ce(Vf,{onload:t.a,hl:e||""}))).o(function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(s.grecaptcha))})},Uf.prototype.c=function(){this.b--};var qf=null;function Bf(e,t,n,r,i,o,a){if(ei(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Ff||(Ff=new Mf),a=Ff):(qf||(qf=new Uf),a=qf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Hf])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Gf],!s.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ft(t)||!this.i&&ft(t).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ns(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[zf];this.a[zf]=function(e){if(Wf(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Or(c,s);"function"===typeof t&&t(e)}};var l=this.a[Kf];this.a[Kf]=function(){if(Wf(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Or(l,s);"function"===typeof e&&e()}}}var zf="callback",Kf="expired-callback",Hf="sitekey",Gf="size";function Wf(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Qf(e,t){return e.h.push(t),t.oa(function(){X(e.h,t)}),t}function Xf(e){if(e.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function $f(e,t,n){var r=!1;try{this.b=n||oe.app()}catch(a){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=oe.SDK_VERSION?Rr(oe.SDK_VERSION,o):null,Bf.call(this,n,e,t,function(){try{var e=i.b.auth().la()}catch(t){e=null}return e},o,D(A),r)}function Yf(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Jf.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=Jf[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new k("argument-error",e+" failed: "+r)}(e=Bf.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Qf(this,xt().then(function(){if(Fr()&&!Ir())return _r();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.u())}).then(function(t){return e.g=t,cu(e.s,Gs,{})}).then(function(t){e.a[Hf]=t.recaptchaSiteKey}).o(function(t){throw e.f=null,t}))},e.render=function(){Xf(this);var e=this;return Qf(this,this.Ia().then(function(){if(null===e.c){var t=e.v;if(!e.i){var n=ft(t);t=gt("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},e.verify=function(){Xf(this);var e=this;return Qf(this,this.render().then(function(t){return new Et(function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){$(e.l,function(e){return e==t})}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}})}))},e.reset=function(){Xf(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Xf(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ft(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},I($f,Bf);var Jf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Zf(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function eh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function th(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function nh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function rh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function ih(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function oh(e,t){return v(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function ah(e){return v(e)&&"string"===typeof e.uid}function sh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function uh(e,t){for(var n in t){var r=t[n].name;e[r]=fh(r,e[n],t[n].j)}}function ch(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S(function(e){return this[e]},n),set:S(function(e,t,n,r){Yf(e,[n],[r],!0),this[t]=r},r,n,t[n].lb),enumerable:!0})}}function lh(e,t,n,r){e[t]=fh(t,n,r)}function fh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Yf(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return e=e.split("."),e[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}uh(pf.prototype,{kb:{name:"applyActionCode",j:[Zf("code")]},Sa:{name:"checkActionCode",j:[Zf("code")]},ob:{name:"confirmPasswordReset",j:[Zf("code"),Zf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Zf("email"),Zf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Zf("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Zf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[sh(th(),nh(),"nextOrObserver"),nh("opt_error",!0),nh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[sh(th(),nh(),"nextOrObserver"),nh("opt_error",!0),nh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Zf("email"),sh(th("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Zf("email"),th("actionCodeSettings")]},yb:{name:"setPersistence",j:[Zf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ih()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ih()]},Tc:{name:"signInWithCustomToken",j:[Zf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Zf("email"),Zf("password")]},Vc:{name:"signInWithEmailLink",j:[Zf("email"),Zf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Zf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[sh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof kl)}},rh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Zf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Zf("url"),th("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Zf("code")]}}),ch(pf.prototype,{lc:{name:"languageCode",lb:sh(Zf(),rh(),"languageCode")},ti:{name:"tenantId",lb:sh(Zf(),rh(),"tenantId")}}),pf.Persistence=oc,pf.Persistence.LOCAL="local",pf.Persistence.SESSION="session",pf.Persistence.NONE="none",uh(kl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[eh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[eh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ih()]},rb:{name:"linkWithCredential",j:[ih()]},Dc:{name:"linkWithPhoneNumber",j:[Zf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ih()]},ub:{name:"reauthenticateWithCredential",j:[ih()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Zf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[sh(th("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Zf(null,!0)]},cd:{name:"unlink",j:[Zf("provider")]},Cb:{name:"updateEmail",j:[Zf("email")]},Db:{name:"updatePassword",j:[Zf("password")]},ed:{name:"updatePhoneNumber",j:[ih("phone")]},Eb:{name:"updateProfile",j:[th("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Zf("email"),sh(th("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]}}),uh(Cf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uh(Af.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uh(Et.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ch(rl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:eh("appVerificationDisabledForTesting")}}),uh(il.prototype,{confirm:{name:"confirm",j:[Zf("verificationCode")]}}),lh(po,"fromJSON",function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[_o,Po,Vo,yo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null},[sh(Zf(),th(),"json")]),lh(Lo,"credential",function(e,t){return new Oo(e,t)},[Zf("email"),Zf("password")]),uh(Oo.prototype,{w:{name:"toJSON",j:[Zf(null,!0)]}}),uh(To.prototype,{Ca:{name:"addScope",j:[Zf("scope")]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(To,"credential",ko,[sh(Zf(),th(),"token")]),lh(Lo,"credentialWithLink",Mo,[Zf("email"),Zf("emailLink")]),uh(No.prototype,{Ca:{name:"addScope",j:[Zf("scope")]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(No,"credential",Ao,[sh(Zf(),th(),"token")]),uh(Co.prototype,{Ca:{name:"addScope",j:[Zf("scope")]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(Co,"credential",xo,[sh(Zf(),sh(th(),rh()),"idToken"),sh(Zf(),rh(),"accessToken",!0)]),uh(Ro.prototype,{Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(Ro,"credential",Do,[sh(Zf(),th(),"token"),Zf("secret",!0)]),uh(Io.prototype,{Ca:{name:"addScope",j:[Zf("scope")]},credential:{name:"credential",j:[sh(Zf(),sh(th(),rh()),"optionsOrIdToken"),sh(Zf(),rh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),uh(bo.prototype,{w:{name:"toJSON",j:[Zf(null,!0)]}}),uh(go.prototype,{w:{name:"toJSON",j:[Zf(null,!0)]}}),lh(qo,"credential",Bo,[Zf("verificationId"),Zf("verificationCode")]),uh(qo.prototype,{gb:{name:"verifyPhoneNumber",j:[sh(Zf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?oh(e.session,fo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?oh(e.session,ho)&&ah(e.multiFactorHint):e.session&&e.multiFactorUid?oh(e.session,ho)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),uh(Uo.prototype,{w:{name:"toJSON",j:[Zf(null,!0)]}}),uh(k.prototype,{toJSON:{name:"toJSON",j:[Zf(null,!0)]}}),uh(Yo.prototype,{toJSON:{name:"toJSON",j:[Zf(null,!0)]}}),uh($o.prototype,{toJSON:{name:"toJSON",j:[Zf(null,!0)]}}),uh(ll.prototype,{toJSON:{name:"toJSON",j:[Zf(null,!0)]}}),uh(sl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),uh(gl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Zf("displayName",!0)]},bd:{name:"unenroll",j:[sh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ah},Zf(),"multiFactorInfoIdentifier")]}}),uh($f.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),lh(Ti,"parseLink",Oi,[Zf("link")]),lh(Lf,"assertion",function(e){return new pl(e)},[ih("phone")]),function(){if("undefined"===typeof oe||!oe.INTERNAL||!oe.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:di,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:hi,VERIFY_AND_CHANGE_EMAIL:pi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:pf,AuthCredential:po,Error:k};lh(e,"EmailAuthProvider",Lo,[]),lh(e,"FacebookAuthProvider",To,[]),lh(e,"GithubAuthProvider",No,[]),lh(e,"GoogleAuthProvider",Co,[]),lh(e,"TwitterAuthProvider",Ro,[]),lh(e,"OAuthProvider",Io,[Zf("providerId")]),lh(e,"SAMLAuthProvider",Eo,[Zf("providerId")]),lh(e,"PhoneAuthProvider",qo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof pf)}}]),lh(e,"RecaptchaVerifier",$f,[sh(Zf(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),th("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof oe.app.App)}}]),lh(e,"ActionCodeURL",Ti,[]),lh(e,"PhoneMultiFactorGenerator",Lf,[]),oe.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new pf(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),oe.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:_((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:_(e.nc,e),addAuthTokenListener:_(e.cc,e),removeAuthTokenListener:_(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),oe.registerVersion("@firebase/auth","0.16.8"),oe.INTERNAL.extendNamespace({User:kl})}()}.apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var se=function(e,t){return se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},se(e,t)};function ue(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ce,le="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},fe=fe||{},he=le||self;function de(){}function pe(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ve(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ge="closure_uid_"+(1e9*Math.random()>>>0),me=0;function ye(e,t,n){return e.call.apply(e.bind,arguments)}function be(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function we(e,t,n){return(we=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ye:be).apply(null,arguments)}function _e(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Se(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Ee(){this.s=this.s,this.o=this.o}var Ie={};Ee.prototype.s=!1,Ee.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ge)&&e[ge]||(e[ge]=++me)}(this);delete Ie[e]}},Ee.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Te=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ke=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Ne(e){return Array.prototype.concat.apply([],arguments)}function Ae(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ce(e){return/^[\s\xa0]*$/.test(e)}var xe,Re=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function De(e,t){return-1!=e.indexOf(t)}function Oe(e,t){return e<t?-1:e>t?1:0}e:{var Pe=he.navigator;if(Pe){var Le=Pe.userAgent;if(Le){xe=Le;break e}}xe=""}function Me(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Fe(e){var t={};for(var n in e)t[n]=e[n];return t}var Ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ve(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Ue.length;o++)n=Ue[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function je(e){return je[" "](e),e}je[" "]=de;var qe,Be=De(xe,"Opera"),ze=De(xe,"Trident")||De(xe,"MSIE"),Ke=De(xe,"Edge"),He=Ke||ze,Ge=De(xe,"Gecko")&&!(De(xe.toLowerCase(),"webkit")&&!De(xe,"Edge"))&&!(De(xe,"Trident")||De(xe,"MSIE"))&&!De(xe,"Edge"),We=De(xe.toLowerCase(),"webkit")&&!De(xe,"Edge");function Qe(){var e=he.document;return e?e.documentMode:void 0}e:{var Xe="",$e=function(){var e=xe;return Ge?/rv:([^\);]+)(\)|;)/.exec(e):Ke?/Edge\/([\d\.]+)/.exec(e):ze?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):We?/WebKit\/(\S+)/.exec(e):Be?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if($e&&(Xe=$e?$e[1]:""),ze){var Ye=Qe();if(null!=Ye&&Ye>parseFloat(Xe)){qe=String(Ye);break e}}qe=Xe}var Je,Ze={};function et(){return function(e){var t=Ze;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}(function(){for(var e=0,t=Re(String(qe)).split("."),n=Re("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Oe(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Oe(0==o[2].length,0==a[2].length)||Oe(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}if(he.document&&ze){var tt=Qe();Je=tt||(parseInt(qe,10)||void 0)}else Je=void 0;var nt=Je,rt=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{he.addEventListener("test",de,t),he.removeEventListener("test",de,t)}catch(n){}return e}();function it(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ot(e,t){if(it.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ge){e:{try{je(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:at[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ot.Z.h.call(this)}}it.prototype.h=function(){this.defaultPrevented=!0},Se(ot,it);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.h=function(){ot.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ut,this.ca=this.fa=!1}function lt(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ft(e){this.src=e,this.g={},this.h=0}function ht(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Te(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(lt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function dt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}ft.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=dt(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new ct(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var pt="closure_lm_"+(1e6*Math.random()|0),vt={};function gt(e,t,n,r,i){if(r&&r.once)return yt(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)gt(e,t[o],n,r,i);return null}return n=Tt(n),e&&e[st]?e.N(t,n,ve(r)?!!r.capture:!!r,i):mt(e,t,n,!1,r,i)}function mt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=ve(i)?!!i.capture:!!i,s=Et(e);if(s||(e[pt]=s=new ft(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=St;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)rt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_t(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function yt(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)yt(e,t[o],n,r,i);return null}return n=Tt(n),e&&e[st]?e.O(t,n,ve(r)?!!r.capture:!!r,i):mt(e,t,n,!0,r,i)}function bt(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)bt(e,t[o],n,r,i);else r=ve(r)?!!r.capture:!!r,n=Tt(n),e&&e[st]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=dt(o=e.g[t],n,r,i))&&(lt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Et(e))&&(t=e.g[t.toString()],e=-1,t&&(e=dt(t,n,r,i)),(n=-1<e?t[e]:null)&&wt(n))}function wt(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[st])ht(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_t(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Et(t))?(ht(n,e),0==n.h&&(n.src=null,t[pt]=null)):lt(e)}}}function _t(e){return e in vt?vt[e]:vt[e]="on"+e}function St(e,t){if(e.ca)e=!0;else{t=new ot(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&wt(e),e=n.call(r,t)}return e}function Et(e){return(e=e[pt])instanceof ft?e:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(e){return"function"===typeof e?e:(e[It]||(e[It]=function(t){return e.handleEvent(t)}),e[It])}function kt(){Ee.call(this),this.i=new ft(this),this.P=this,this.I=null}function Nt(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new it(t,e);else if(t instanceof it)t.target=t.target||e;else{var i=t;Ve(t=new it(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=At(a,r,!0,t)&&i}if(i=At(a=t.g=e,r,!0,t)&&i,i=At(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=At(a=t.g=n[o],r,!1,t)&&i}function At(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&ht(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Se(kt,Ee),kt.prototype[st]=!0,kt.prototype.removeEventListener=function(e,t,n,r){bt(this,e,t,n,r)},kt.prototype.M=function(){if(kt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)lt(n[r]);delete t.g[e],t.h--}}this.I=null},kt.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},kt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ct=he.JSON.stringify;function xt(){var e=Ut,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Rt,Dt=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Ot.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Ot=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())(function(){return new Pt},function(e){return e.reset()}),Pt=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Lt(e){he.setTimeout(function(){throw e},0)}function Mt(e,t){Rt||function(){var e=he.Promise.resolve(void 0);Rt=function(){e.then(Vt)}}(),Ft||(Rt(),Ft=!0),Ut.add(e,t)}var Ft=!1,Ut=new Dt;function Vt(){for(var e;e=xt();){try{e.h.call(e.g)}catch(n){Lt(n)}var t=Ot;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ft=!1}function jt(e,t){kt.call(this),this.h=e||1,this.g=t||he,this.j=we(this.kb,this),this.l=Date.now()}function qt(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Bt(e,t,n){if("function"===typeof e)n&&(e=we(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=we(e.handleEvent,e)}return 2147483647<Number(t)?-1:he.setTimeout(e,t||0)}function zt(e){e.g=Bt(function(){e.g=null,e.i&&(e.i=!1,zt(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Se(jt,kt),(ce=jt.prototype).da=!1,ce.S=null,ce.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nt(this,"tick"),this.da&&(qt(this),this.start()))}},ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){jt.Z.M.call(this),qt(this),delete this.g};var Kt=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}se(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:zt(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Ee);function Ht(e){Ee.call(this),this.h=e,this.g={}}Se(Ht,Ee);var Gt=[];function Wt(e,t,n,r){Array.isArray(n)||(n&&(Gt[0]=n.toString()),n=Gt);for(var i=0;i<n.length;i++){var o=gt(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Qt(e){Me(e.g,function(e,t){this.g.hasOwnProperty(t)&&wt(e)},e),e.g={}}function Xt(){this.g=!0}function $t(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ct(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}Ht.prototype.M=function(){Ht.Z.M.call(this),Qt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xt.prototype.Aa=function(){this.g=!1},Xt.prototype.info=function(){};var Yt={},Jt=null;function Zt(){return Jt=Jt||new kt}function en(e){it.call(this,Yt.Ma,e)}function tn(e){var t=Zt();Nt(t,new en(t,e))}function nn(e,t){it.call(this,Yt.STAT_EVENT,e),this.stat=t}function rn(e){var t=Zt();Nt(t,new nn(t,e))}function on(e,t){it.call(this,Yt.Na,e),this.size=t}function an(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){e()},t)}Yt.Ma="serverreachability",Se(en,it),Yt.STAT_EVENT="statevent",Se(nn,it),Yt.Na="timingevent",Se(on,it);var sn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},un={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cn(){}function ln(e){return e.h||(e.h=e.i())}function fn(){}cn.prototype.h=null;var hn,dn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pn(){it.call(this,"d")}function vn(){it.call(this,"c")}function gn(){}function mn(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ht(this),this.P=bn,e=He?125:void 0,this.W=new jt(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yn}function yn(){this.i=null,this.g="",this.h=!1}Se(pn,it),Se(vn,it),Se(gn,cn),gn.prototype.g=function(){return new XMLHttpRequest},gn.prototype.i=function(){return{}},hn=new gn;var bn=45e3,wn={},_n={};function Sn(e,t,n){e.K=1,e.v=Hn(Vn(t)),e.s=n,e.U=!0,En(e,null)}function En(e,t){e.F=Date.now(),Nn(e),e.A=Vn(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ir(n.h,"t",r),e.C=0,n=e.l.H,e.h=new yn,e.g=ai(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Kt(we(e.Ia,e,e.g),e.O)),Wt(e.V,e.g,"readystatechange",e.gb),t=e.H?Fe(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),tn(1),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.X,e.s)}function In(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Tn(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=kn(e,n))==_n){4==t&&(e.o=4,rn(14),i=!1),$t(e.j,e.m,null,"[Incomplete Response]");break}if(r==wn){e.o=4,rn(15),$t(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$t(e.j,e.m,r,null),Dn(e,r)}In(e)&&r!=_n&&r!=wn&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,rn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jr(t),t.L=!0,rn(11))):($t(e.j,e.m,n,"[Invalid Chunked Response]"),Rn(e),xn(e))}function kn(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?_n:(n=Number(t.substring(n,r)),isNaN(n)?wn:(r+=1)+n>t.length?_n:(t=t.substr(r,n),e.C=r+n,t))}function Nn(e){e.Y=Date.now()+e.P,An(e,e.P)}function An(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=an(we(e.eb,e),t)}function Cn(e){e.B&&(he.clearTimeout(e.B),e.B=null)}function xn(e){0==e.l.G||e.I||ti(e.l,e)}function Rn(e){Cn(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,qt(e.W),Qt(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Dn(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hr(n.i,e)))if(n.I=e.N,!e.J&&hr(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ei(n),zr(n)}Yr(n),rn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=an(we(n.ab,n),6e3));if(1>=fr(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else ri(n,11)}else if((e.J||n.g==e)&&ei(n),!Ce(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(De(l,"spdy")||De(l,"quic")||De(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(dr(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Kn(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=oi(r,r.H?r.la:null,r.W),d.J){pr(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Cn(p),Nn(p)),r.g=d}else $r(r);0<n.l.length&&Gr(n)}else"stop"!=o[0]&&"close"!=o[0]||ri(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?ri(n,7):Br(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}tn(4)}catch(o){}}function On(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(pe(e)||"string"===typeof e)ke(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(pe(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(pe(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Pn(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pn)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ln(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Mn(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Mn(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Mn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ce=mn.prototype).setTimeout=function(e){this.P=e},ce.gb=function(e){e=e.target;var t=this.L;t&&3==Fr(e)?t.l():this.Ia(e)},ce.Ia=function(e){try{if(e==this.g)e:{var t=Fr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||He||this.g&&(this.h.h||this.g.ga()||Ur(this.g)))){this.I||4!=t||7==n||tn(8==n||0>=r?3:2),Cn(this);var i=this.g.ba();this.N=i;t:if(In(this)){var o=Ur(this.g);e="";var a=o.length,s=4==Fr(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Rn(this),xn(this);var u="";break t}this.h.i=new he.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ce(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,rn(12),Rn(this),xn(this);break e}$t(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Dn(this,i)}this.U?(Tn(this,t,u),He&&this.i&&3==t&&(Wt(this.V,this.W,"tick",this.fb),this.W.start())):($t(this.j,this.m,u,null),Dn(this,u)),4==t&&Rn(this),this.i&&!this.I&&(4==t?ti(this.l,this):(this.i=!1,Nn(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,rn(12)):(this.o=0,rn(13)),Rn(this),xn(this)}}}catch(t){}},ce.fb=function(){if(this.g){var e=Fr(this.g),t=this.g.ga();this.C<t.length&&(Cn(this),Tn(this,e,t),this.i&&4!=e&&Nn(this))}},ce.cancel=function(){this.I=!0,Rn(this)},ce.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(tn(3),rn(17)),Rn(this),this.o=2,xn(this)):An(this,this.Y-e)},(ce=Pn.prototype).R=function(){Ln(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ce.T=function(){return Ln(this),this.g.concat()},ce.get=function(e,t){return Mn(this.h,e)?this.h[e]:t},ce.set=function(e,t){Mn(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ce.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Fn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Un(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Un){this.g=void 0!==t?t:e.g,jn(this,e.j),this.s=e.s,qn(this,e.i),Bn(this,e.m),this.l=e.l,t=e.h;var n=new er;n.i=t.i,t.g&&(n.g=new Pn(t.g),n.h=t.h),zn(this,n),this.o=e.o}else e&&(n=String(e).match(Fn))?(this.g=!!t,jn(this,n[1]||"",!0),this.s=Gn(n[2]||""),qn(this,n[3]||"",!0),Bn(this,n[4]),this.l=Gn(n[5]||"",!0),zn(this,n[6]||"",!0),this.o=Gn(n[7]||"")):(this.g=!!t,this.h=new er(null,this.g))}function Vn(e){return new Un(e)}function jn(e,t,n){e.j=n?Gn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qn(e,t,n){e.i=n?Gn(t,!0):t}function Bn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function zn(e,t,n){t instanceof er?(e.h=t,function(e,t){t&&!e.j&&(tr(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(nr(this,t),ir(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Wn(t,Jn)),e.h=new er(t,e.g))}function Kn(e,t,n){e.h.set(t,n)}function Hn(e){return Kn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Qn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Qn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Un.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wn(t,Xn,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Wn(t,Xn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wn(n,"/"==n.charAt(0)?Yn:$n,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wn(n,Zn)),e.join("")};var Xn=/[#\/\?@]/g,$n=/[#\?:]/g,Yn=/[#\?]/g,Jn=/[#\?@]/g,Zn=/#/g;function er(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tr(e){e.g||(e.g=new Pn,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function nr(e,t){tr(e),t=or(e,t),Mn(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Mn((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ln(e)))}function rr(e,t){return tr(e),t=or(e,t),Mn(e.g.h,t)}function ir(e,t,n){nr(e,t),0<n.length&&(e.i=null,e.g.set(or(e,t),Ae(n)),e.h+=n.length)}function or(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ce=er.prototype).add=function(e,t){tr(this),this.i=null,e=or(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ce.forEach=function(e,t){tr(this),this.g.forEach(function(n,r){ke(n,function(n){e.call(t,n,r,this)},this)},this)},ce.T=function(){tr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},ce.R=function(e){tr(this);var t=[];if("string"===typeof e)rr(this,e)&&(t=Ne(t,this.g.get(or(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ne(t,e[n])}return t},ce.set=function(e,t){return tr(this),this.i=null,rr(this,e=or(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ce.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var ar=function(e,t){this.h=e,this.g=t};function sr(e){this.l=e||cr,he.PerformanceNavigationTiming?e=0<(e=he.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(he.g&&he.g.Ea&&he.g.Ea()&&he.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ur,cr=10;function lr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fr(e){return e.h?1:e.g?e.g.size:0}function hr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dr(e,t){e.g?e.g.add(t):e.h=t}function pr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vr(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=ue(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ae(e.i)}function gr(){}function mr(){this.g=new gr}function yr(e,t,n){var r=n||"";try{On(e,function(e,n){var i=e;ve(e)&&(i=Ct(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(Pp){throw t.push(r+"type="+encodeURIComponent("_badmap")),Pp}}function br(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function wr(e){this.l=e.$b||null,this.j=e.ib||!1}function _r(e,t){kt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sr.prototype.cancel=function(){var e,t;if(this.i=vr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=ue(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},gr.prototype.stringify=function(e){return he.JSON.stringify(e,void 0)},gr.prototype.parse=function(e){return he.JSON.parse(e,void 0)},Se(wr,cn),wr.prototype.g=function(){return new _r(this.l,this.j)},wr.prototype.i=(ur={},function(){return ur}),Se(_r,kt);var Sr=0;function Er(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ir(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Tr(e)}function Tr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ce=_r.prototype).open=function(e,t){if(this.readyState!=Sr)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Tr(this)},ce.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||he).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ir(this)),this.readyState=Sr},ce.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof he.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Er(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ce.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ir(this):Tr(this),3==this.readyState&&Er(this)}},ce.Ua=function(e){this.g&&(this.response=this.responseText=e,Ir(this))},ce.Ta=function(e){this.g&&(this.response=e,Ir(this))},ce.ha=function(){this.g&&Ir(this)},ce.setRequestHeader=function(e,t){this.v.append(e,t)},ce.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var kr=he.JSON.parse;function Nr(e){kt.call(this),this.headers=new Pn,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ar,this.K=this.L=!1}Se(Nr,kt);var Ar="",Cr=/^https?$/i,xr=["POST","PUT"];function Rr(e){return"content-type"==e.toLowerCase()}function Dr(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Or(e),Lr(e)}function Or(e){e.D||(e.D=!0,Nt(e,"complete"),Nt(e,"error"))}function Pr(e){if(e.h&&"undefined"!=typeof fe&&(!e.C[1]||4!=Fr(e)||2!=e.ba()))if(e.v&&4==Fr(e))Bt(e.Fa,0,e);else if(Nt(e,"readystatechange"),4==Fr(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Fn)[1]||null;if(!o&&he.self&&he.self.location){var a=he.self.location.protocol;o=a.substr(0,a.length-1)}i=!Cr.test(o?o.toLowerCase():"")}t=i}if(t)Nt(e,"complete"),Nt(e,"success");else{e.m=6;try{var s=2<Fr(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Or(e)}}finally{Lr(e)}}}function Lr(e,t){if(e.g){Mr(e);var n=e.g,r=e.C[0]?de:null;e.g=null,e.C=null,t||Nt(e,"ready");try{n.onreadystatechange=r}catch(Pp){}}}function Mr(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(he.clearTimeout(e.A),e.A=null)}function Fr(e){return e.g?e.g.readyState:0}function Ur(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ar:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Me(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Kn(e,t,n))}function jr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qr(e){this.za=0,this.l=[],this.h=new Xt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jr("baseRetryDelayMs",5e3,e),this.$a=jr("retryDelaySeedMs",1e4,e),this.Ya=jr("forwardChannelMaxRetries",2,e),this.ra=jr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new sr(e&&e.concurrentRequestLimit),this.Ca=new mr,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Br(e){if(Kr(e),3==e.G){var t=e.V++,n=Vn(e.F);Kn(n,"SID",e.J),Kn(n,"RID",t),Kn(n,"TYPE","terminate"),Qr(e,n),(t=new mn(e,e.h,t,void 0)).K=2,t.v=Hn(Vn(n)),n=!1,he.navigator&&he.navigator.sendBeacon&&(n=he.navigator.sendBeacon(t.v.toString(),"")),!n&&he.Image&&((new Image).src=t.v,n=!0),n||(t.g=ai(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Nn(t)}ii(e)}function zr(e){e.g&&(Jr(e),e.g.cancel(),e.g=null)}function Kr(e){zr(e),e.u&&(he.clearTimeout(e.u),e.u=null),ei(e),e.i.cancel(),e.m&&("number"===typeof e.m&&he.clearTimeout(e.m),e.m=null)}function Hr(e,t){e.l.push(new ar(e.Za++,t)),3==e.G&&Gr(e)}function Gr(e){lr(e.i)||e.m||(e.m=!0,Mt(e.Ha,e),e.C=0)}function Wr(e,t){var n;n=t?t.m:e.V++;var r=Vn(e.F);Kn(r,"SID",e.J),Kn(r,"RID",n),Kn(r,"AID",e.U),Qr(e,r),e.o&&e.s&&Vr(r,e.o,e.s),n=new mn(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Xr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),dr(e.i,n),Sn(n,r,t)}function Qr(e,t){e.j&&On({},function(e,n){Kn(t,n,e)})}function Xr(e,t,n){n=Math.min(e.l.length,n);var r=e.j?we(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{yr(l,a,"req"+c+"_")}catch(qi){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function $r(e){e.g||e.u||(e.Y=1,Mt(e.Ga,e),e.A=0)}function Yr(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=an(we(e.Ga,e),ni(e,e.A)),e.A++,!0)}function Jr(e){null!=e.B&&(he.clearTimeout(e.B),e.B=null)}function Zr(e){e.g=new mn(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Vn(e.oa);Kn(t,"RID","rpc"),Kn(t,"SID",e.J),Kn(t,"CI",e.N?"0":"1"),Kn(t,"AID",e.U),Qr(e,t),Kn(t,"TYPE","xmlhttp"),e.o&&e.s&&Vr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Hn(Vn(t)),n.s=null,n.U=!0,En(n,e)}function ei(e){null!=e.v&&(he.clearTimeout(e.v),e.v=null)}function ti(e,t){var n=null;if(e.g==t){ei(e),Jr(e),e.g=null;var r=2}else{if(!hr(e.i,t))return;n=t.D,pr(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Nt(r=Zt(),new on(r,n,t,i)),Gr(e)}else $r(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(fr(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=an(we(e.Ha,e,t),ni(e,e.C)),e.C++,!0))}(e,t)||2==r&&Yr(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ri(e,5);break;case 4:ri(e,10);break;case 3:ri(e,6);break;default:ri(e,2)}}function ni(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ri(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=we(e.jb,e);n||(n=new Un("//www.google.com/images/cleardot.gif"),he.location&&"http"==he.location.protocol||jn(n,"https"),Hn(n)),function(e,t){var n=new Xt;if(he.Image){var r=new Image;r.onload=_e(br,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_e(br,n,r,"TestLoadImage: error",!1,t),r.onabort=_e(br,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_e(br,n,r,"TestLoadImage: timeout",!1,t),he.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else rn(2);e.G=0,e.j&&e.j.va(t),ii(e),Kr(e)}function ii(e){e.G=0,e.I=-1,e.j&&(0==vr(e.i).length&&0==e.l.length||(e.i.i.length=0,Ae(e.l),e.l.length=0),e.j.ua())}function oi(e,t,n){var r=function(e){return e instanceof Un?Vn(e):new Un(e,void 0)}(n);if(""!=r.i)t&&qn(r,t+"."+r.i),Bn(r,r.m);else{var i=he.location;r=function(e,t,n,r){var i=new Un(null,void 0);return e&&jn(i,e),t&&qn(i,t),n&&Bn(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Me(e.aa,function(e,t){Kn(r,t,e)}),t=e.D,n=e.sa,t&&n&&Kn(r,t,n),Kn(r,"VER",e.ma),Qr(e,r),r}function ai(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Nr(new wr({ib:!0})):new Nr(e.qa)).L=e.H,t}function si(){}function ui(){if(ze&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function ci(e,t){kt.call(this),this.g=new qr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ce(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ce(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hi(this)}function li(e){pn.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fi(){vn.call(this),this.status=1}function hi(e){this.g=e}(ce=Nr.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hn.g(),this.C=this.u?ln(this.u):ln(hn),this.g.onreadystatechange=we(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Dr(this,o)}e=n||"";var i=new Pn(this.headers);r&&On(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=Rr,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=he.FormData&&e instanceof he.FormData,!(0<=Te(xr,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mr(this),0<this.B&&((this.K=function(e){return ze&&et()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=we(this.pa,this)):this.A=Bt(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Dr(this,o)}},ce.pa=function(){"undefined"!=typeof fe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))},ce.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Nt(this,"complete"),Nt(this,"abort"),Lr(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lr(this,!0)),Nr.Z.M.call(this)},ce.Fa=function(){this.s||(this.F||this.v||this.l?Pr(this):this.cb())},ce.cb=function(){Pr(this)},ce.ba=function(){try{return 2<Fr(this)?this.g.status:-1}catch(ur){return-1}},ce.ga=function(){try{return this.g?this.g.responseText:""}catch(ur){return""}},ce.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),kr(t)}},ce.Da=function(){return this.m},ce.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ce=qr.prototype).ma=8,ce.G=1,ce.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},ce.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new mn(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ve(n=Fe(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Xr(this,t,r),Kn(i=Vn(this.F),"RID",e),Kn(i,"CVER",22),this.D&&Kn(i,"X-HTTP-Session-Id",this.D),Qr(this,i),this.o&&n&&Vr(i,this.o,n),dr(this.i,t),this.Ra&&Kn(i,"TYPE","init"),this.ja?(Kn(i,"$req",r),Kn(i,"SID","null"),t.$=!0,Sn(t,i,null)):Sn(t,i,r),this.G=2}}else 3==this.G&&(e?Wr(this,e):0==this.l.length||lr(this.i)||Wr(this))},ce.Ga=function(){if(this.u=null,Zr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=an(we(this.bb,this),e)}},ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rn(10),zr(this),Zr(this))},ce.ab=function(){null!=this.v&&(this.v=null,zr(this),Yr(this),rn(19))},ce.jb=function(e){e?(this.h.info("Successfully pinged google.com"),rn(2)):(this.h.info("Failed to ping google.com"),rn(1))},(ce=si.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Oa=function(){},ui.prototype.g=function(e,t){return new ci(e,t)},Se(ci,kt),ci.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Mt(we(e.hb,e,t))),rn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=oi(e,null,e.W),Gr(e)},ci.prototype.close=function(){Br(this.g)},ci.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Hr(this.g,t)}else this.v?((t={}).__data__=Ct(e),Hr(this.g,t)):Hr(this.g,e)},ci.prototype.M=function(){this.g.j=null,delete this.j,Br(this.g),delete this.g,ci.Z.M.call(this)},Se(li,pn),Se(fi,vn),Se(hi,si),hi.prototype.xa=function(){Nt(this.g,"a")},hi.prototype.wa=function(e){Nt(this.g,new li(e))},hi.prototype.va=function(e){Nt(this.g,new fi(e))},hi.prototype.ua=function(){Nt(this.g,"b")},ui.prototype.createWebChannel=ui.prototype.g,ci.prototype.send=ci.prototype.u,ci.prototype.open=ci.prototype.m,ci.prototype.close=ci.prototype.close,sn.NO_ERROR=0,sn.TIMEOUT=8,sn.HTTP_ERROR=6,un.COMPLETE="complete",fn.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",kt.prototype.listen=kt.prototype.N,Nr.prototype.listenOnce=Nr.prototype.O,Nr.prototype.getLastError=Nr.prototype.La,Nr.prototype.getLastErrorCode=Nr.prototype.Da,Nr.prototype.getStatus=Nr.prototype.ba,Nr.prototype.getResponseJson=Nr.prototype.Qa,Nr.prototype.getResponseText=Nr.prototype.ga,Nr.prototype.send=Nr.prototype.ea;var di=function(){return new ui},pi=function(){return Zt()},vi=sn,gi=un,mi=Yt,yi={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bi=wr,wi=fn,_i=Nr;var Si=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Si.o=-1;var Ei={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ii=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a(t,e),t}(Error),Ti=new z("@firebase/firestore");function ki(){return Ti.logLevel}function Ni(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ti.logLevel<=M.DEBUG){var r=t.map(xi);Ti.debug.apply(Ti,h(["Firestore (8.10.1): "+e],r))}}function Ai(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ti.logLevel<=M.ERROR){var r=t.map(xi);Ti.error.apply(Ti,h(["Firestore (8.10.1): "+e],r))}}function Ci(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ti.logLevel<=M.WARN){var r=t.map(xi);Ti.warn.apply(Ti,h(["Firestore (8.10.1): "+e],r))}}function xi(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ri(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Ai(t),new Error(t)}function Di(e,t){e||Ri()}function Oi(e,t){return e}function Pi(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Li=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Pi(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n},e}();function Mi(e,t){return e<t?-1:e>t?1:0}function Fi(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function Ui(e){return e+"\0"}var Vi=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ii(Ei.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ii(Ei.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ii(Ei.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ii(Ei.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Mi(this.nanoseconds,e.nanoseconds):Mi(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ji=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Vi(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function qi(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bi(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zi(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ki=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Ri(),void 0===n?n=e.length-t:n>e.length-t&&Ri(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Hi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Ii(Ei.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(e){return e.length>0}))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Ki),Gi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Gi.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ii(Ei.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Ii(Ei.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ii(Ei.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ii(Ei.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Ki),Qi=function(){function e(e){this.fields=e,e.sort(Wi.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Fi(this.fields,e.fields,function(e,t){return e.isEqual(t)})},e}(),Xi=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Mi(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Xi.EMPTY_BYTE_STRING=new Xi("");var $i=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(e){if(Di(!!e),"string"==typeof e){var t=0,n=$i.exec(e);if(Di(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ji(e.seconds),nanos:Ji(e.nanos)}}function Ji(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Zi(e){return"string"==typeof e?Xi.fromBase64String(e):Xi.fromUint8Array(e)}function eo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function to(e){var t=e.mapValue.fields.__previous_value__;return eo(t)?to(t):t}function no(e){var t=Yi(e.mapValue.fields.__local_write_time__.timestampValue);return new Vi(t.seconds,t.nanos)}function ro(e){return null==e}function io(e){return 0===e&&1/e==-1/0}function oo(e){return"number"==typeof e&&Number.isInteger(e)&&!io(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ao=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Hi.fromString(t))},e.fromName=function(t){return new e(Hi.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Hi.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Hi.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Hi(t.slice()))},e}();function so(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?eo(e)?4:10:Ri()}function uo(e,t){var n=so(e);if(n!==so(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return no(e).isEqual(no(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Yi(e.timestampValue),r=Yi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zi(e.bytesValue).isEqual(Zi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ji(e.geoPointValue.latitude)===Ji(t.geoPointValue.latitude)&&Ji(e.geoPointValue.longitude)===Ji(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ji(e.integerValue)===Ji(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ji(e.doubleValue),r=Ji(t.doubleValue);return n===r?io(n)===io(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fi(e.arrayValue.values||[],t.arrayValue.values||[],uo);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(qi(n)!==qi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!uo(n[i],r[i])))return!1;return!0}(e,t);default:return Ri()}}function co(e,t){return void 0!==(e.values||[]).find(function(e){return uo(e,t)})}function lo(e,t){var n=so(e),r=so(t);if(n!==r)return Mi(n,r);switch(n){case 0:return 0;case 1:return Mi(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ji(e.integerValue||e.doubleValue),r=Ji(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return fo(e.timestampValue,t.timestampValue);case 4:return fo(no(e),no(t));case 5:return Mi(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Zi(e),r=Zi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Mi(n[i],r[i]);if(0!==o)return o}return Mi(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Mi(Ji(e.latitude),Ji(t.latitude));return 0!==n?n:Mi(Ji(e.longitude),Ji(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=lo(n[i],r[i]);if(o)return o}return Mi(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Mi(r[a],o[a]);if(0!==s)return s;var u=lo(n[r[a]],i[o[a]]);if(0!==u)return u}return Mi(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ri()}}function fo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mi(e,t);var n=Yi(e),r=Yi(t),i=Mi(n.seconds,r.seconds);return 0!==i?i:Mi(n.nanos,r.nanos)}function ho(e){return po(e)}function po(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Yi(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Zi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ao.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=po(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+po(e.fields[o])}return t+"}"}(e.mapValue):Ri();var t,n}function vo(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function go(e){return!!e&&"integerValue"in e}function mo(e){return!!e&&"arrayValue"in e}function yo(e){return!!e&&"nullValue"in e}function bo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wo(e){return!!e&&"mapValue"in e}function _o(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Bi(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=_o(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=_o(e.arrayValue.values[r]);return n}return Object.assign({},e)}var So=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!wo(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_o(t)},e.prototype.setAll=function(e){var t=this,n=Wi.emptyPath(),r={},i=[];e.forEach(function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=_o(e):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());wo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return uo(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];wo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Bi(t,function(t,n){return e[t]=n});for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(_o(this.value))},e}();function Eo(e){var t=[];return Bi(e.fields,function(e,n){var r=new Wi([e]);if(wo(n)){var i=Eo(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)}),new Qi(t)}var Io=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,ji.min(),So.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,So.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,So.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=So.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=So.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),To=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function ko(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new To(e,t,n,r,i,o,a)}function No(e){var t=Oi(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ho(e.value)}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),ro(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=jo(t.startAt)),t.endAt&&(n+="|ub:",n+=jo(t.endAt)),t.h=n}return t.h}function Ao(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Bo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!uo(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ko(e.startAt,t.startAt)&&Ko(e.endAt,t.endAt)}function Co(e){return ao.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var xo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return a(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Ro(e,n,r):"array-contains"===n?new Lo(e,r):"in"===n?new Mo(e,r):"not-in"===n?new Fo(e,r):"array-contains-any"===n?new Uo(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Do(e,n):new Oo(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(lo(t,this.value)):null!==t&&so(this.value)===so(t)&&this.m(lo(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ri()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Ro=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=ao.fromName(r.referenceValue),i}return a(t,e),t.prototype.matches=function(e){var t=ao.comparator(e.key,this.key);return this.m(t)},t}(xo),Do=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Po("in",n),r}return a(t,e),t.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},t}(xo),Oo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Po("not-in",n),r}return a(t,e),t.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},t}(xo);function Po(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return ao.fromName(e.referenceValue)})}var Lo=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return a(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return mo(t)&&co(t.arrayValue,this.value)},t}(xo),Mo=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return a(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&co(this.value.arrayValue,t)},t}(xo),Fo=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return a(t,e),t.prototype.matches=function(e){if(co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!co(this.value.arrayValue,t)},t}(xo),Uo=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return a(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!mo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return co(t.value.arrayValue,e)})},t}(xo),Vo=function(e,t){this.position=e,this.before=t};function jo(e){return(e.before?"b":"a")+":"+e.position.map(function(e){return ho(e)}).join(",")}var qo=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Bo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function zo(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ao.comparator(ao.fromName(a.referenceValue),n.key):lo(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ko(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!uo(e.position[n],t.position[n]))return!1;return!0}var Ho=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Go(e,t,n,r,i,o,a,s){return new Ho(e,t,n,r,i,o,a,s)}function Wo(e){return new Ho(e)}function Qo(e){return!ro(e.limit)&&"F"===e.limitType}function Xo(e){return!ro(e.limit)&&"L"===e.limitType}function $o(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Yo(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Jo(e){return null!==e.collectionGroup}function Zo(e){var t=Oi(e);if(null===t.p){t.p=[];var n=Yo(t),r=$o(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new qo(n)),t.p.push(new qo(Wi.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new qo(Wi.keyField(),u))}}}return t.p}function ea(e){var t=Oi(e);if(!t.T)if("F"===t.limitType)t.T=ko(t.path,t.collectionGroup,Zo(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Zo(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new qo(o.field,a))}var s=t.endAt?new Vo(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Vo(t.startAt.position,!t.startAt.before):null;t.T=ko(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function ta(e,t,n){return new Ho(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function na(e,t){return Ao(ea(e),ea(t))&&e.limitType===t.limitType}function ra(e){return No(ea(e))+"|lt:"+e.limitType}function ia(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(e){return(t=e).field.canonicalString()+" "+t.op+" "+ho(t.value);var t}).join(", ")+"]"),ro(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+jo(e.startAt)),e.endAt&&(t+=", endAt: "+jo(e.endAt)),"Target("+t+")"}(ea(e))+"; limitType="+e.limitType+")"}function oa(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ao.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!zo(e.startAt,Zo(e),t))&&(!e.endAt||!zo(e.endAt,Zo(e),t))}(e,t)}function aa(e){return function(t,n){for(var r=!1,i=0,o=Zo(e);i<o.length;i++){var a=o[i],s=sa(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function sa(e,t,n){var r=e.field.isKeyField()?ao.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?lo(r,i):Ri()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ri()}}function ua(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:io(t)?"-0":t}}function ca(e){return{integerValue:""+e}}function la(e,t){return oo(t)?ca(t):ua(e,t)}var fa=function(){this._=void 0};function ha(e,t,n){return e instanceof va?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ga?ma(e,t):e instanceof ya?ba(e,t):function(e,t){var n=pa(e,t),r=_a(n)+_a(e.A);return go(n)&&go(e.A)?ca(r):ua(e.R,r)}(e,t)}function da(e,t,n){return e instanceof ga?ma(e,t):e instanceof ya?ba(e,t):n}function pa(e,t){return e instanceof wa?go(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var va=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(fa),ga=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return a(t,e),t}(fa);function ma(e,t){for(var n=Sa(t),r=function(e){n.some(function(t){return uo(t,e)})||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ya=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return a(t,e),t}(fa);function ba(e,t){for(var n=Sa(t),r=function(e){n=n.filter(function(t){return!uo(t,e)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var wa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return a(t,e),t}(fa);function _a(e){return Ji(e.integerValue||e.doubleValue)}function Sa(e){return mo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ea=function(e,t){this.field=e,this.transform=t},Ia=function(e,t){this.version=e,this.transformResults=t},Ta=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ka(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Na=function(){};function Aa(e,t,n){e instanceof Oa?function(e,t,n){var r=e.value.clone(),i=Ma(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Pa?function(e,t,n){if(ka(e.precondition,t)){var r=Ma(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(La(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ca(e,t,n){e instanceof Oa?function(e,t,n){if(ka(e.precondition,t)){var r=e.value.clone(),i=Fa(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Da(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Pa?function(e,t,n){if(ka(e.precondition,t)){var r=Fa(e.fieldTransforms,n,t),i=t.data;i.setAll(La(e)),i.setAll(r),t.convertToFoundDocument(Da(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ka(e.precondition,t)&&t.convertToNoDocument(ji.min())}(e,t)}function xa(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=pa(o.transform,a||null);null!=s&&(null==n&&(n=So.empty()),n.set(o.field,s))}return n||null}function Ra(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fi(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ga&&t instanceof ga||e instanceof ya&&t instanceof ya?Fi(e.elements,t.elements,uo):e instanceof wa&&t instanceof wa?uo(e.A,t.A):e instanceof va&&t instanceof va}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Da(e){return e.isFoundDocument()?e.version:ji.min()}var Oa=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return a(t,e),t}(Na),Pa=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return a(t,e),t}(Na);function La(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Ma(e,t,n){var r=new Map;Di(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,da(a,s,n[i]))}return r}function Fa(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,ha(s,u,t))}return r}var Ua,Va,ja=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return a(t,e),t}(Na),qa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return a(t,e),t}(Na),Ba=function(e){this.count=e};function za(e){switch(e){case Ei.OK:return Ri();case Ei.CANCELLED:case Ei.UNKNOWN:case Ei.DEADLINE_EXCEEDED:case Ei.RESOURCE_EXHAUSTED:case Ei.INTERNAL:case Ei.UNAVAILABLE:case Ei.UNAUTHENTICATED:return!1;case Ei.INVALID_ARGUMENT:case Ei.NOT_FOUND:case Ei.ALREADY_EXISTS:case Ei.PERMISSION_DENIED:case Ei.FAILED_PRECONDITION:case Ei.ABORTED:case Ei.OUT_OF_RANGE:case Ei.UNIMPLEMENTED:case Ei.DATA_LOSS:return!0;default:return Ri()}}function Ka(e){if(void 0===e)return Ai("GRPC error has no .code"),Ei.UNKNOWN;switch(e){case Ua.OK:return Ei.OK;case Ua.CANCELLED:return Ei.CANCELLED;case Ua.UNKNOWN:return Ei.UNKNOWN;case Ua.DEADLINE_EXCEEDED:return Ei.DEADLINE_EXCEEDED;case Ua.RESOURCE_EXHAUSTED:return Ei.RESOURCE_EXHAUSTED;case Ua.INTERNAL:return Ei.INTERNAL;case Ua.UNAVAILABLE:return Ei.UNAVAILABLE;case Ua.UNAUTHENTICATED:return Ei.UNAUTHENTICATED;case Ua.INVALID_ARGUMENT:return Ei.INVALID_ARGUMENT;case Ua.NOT_FOUND:return Ei.NOT_FOUND;case Ua.ALREADY_EXISTS:return Ei.ALREADY_EXISTS;case Ua.PERMISSION_DENIED:return Ei.PERMISSION_DENIED;case Ua.FAILED_PRECONDITION:return Ei.FAILED_PRECONDITION;case Ua.ABORTED:return Ei.ABORTED;case Ua.OUT_OF_RANGE:return Ei.OUT_OF_RANGE;case Ua.UNIMPLEMENTED:return Ei.UNIMPLEMENTED;case Ua.DATA_LOSS:return Ei.DATA_LOSS;default:return Ri()}}(Va=Ua||(Ua={}))[Va.OK=0]="OK",Va[Va.CANCELLED=1]="CANCELLED",Va[Va.UNKNOWN=2]="UNKNOWN",Va[Va.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Va[Va.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Va[Va.NOT_FOUND=5]="NOT_FOUND",Va[Va.ALREADY_EXISTS=6]="ALREADY_EXISTS",Va[Va.PERMISSION_DENIED=7]="PERMISSION_DENIED",Va[Va.UNAUTHENTICATED=16]="UNAUTHENTICATED",Va[Va.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Va[Va.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Va[Va.ABORTED=10]="ABORTED",Va[Va.OUT_OF_RANGE=11]="OUT_OF_RANGE",Va[Va.UNIMPLEMENTED=12]="UNIMPLEMENTED",Va[Va.INTERNAL=13]="INTERNAL",Va[Va.UNAVAILABLE=14]="UNAVAILABLE",Va[Va.DATA_LOSS=15]="DATA_LOSS";var Ha=function(){function e(e,t){this.comparator=e,this.root=t||Wa.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Wa.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wa.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ga(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ga(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ga(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ga(this.root,e,this.comparator,!0)},e}(),Ga=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Wa=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ri();if(this.right.isRed())throw Ri();var e=this.left.check();if(e!==this.right.check())throw Ri();return e+(this.isRed()?0:1)},e}();Wa.EMPTY=null,Wa.RED=!0,Wa.BLACK=!1,Wa.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Ri()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Ri()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Ri()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Ri()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Ri()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Wa(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Qa=function(){function e(e){this.comparator=e,this.data=new Ha(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Xa(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Xa(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Xa=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),$a=new Ha(ao.comparator);function Ya(){return $a}var Ja=new Ha(ao.comparator);function Za(){return Ja}var es=new Ha(ao.comparator);function ts(){return es}var ns=new Qa(ao.comparator);function rs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=ns,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var is=new Qa(Mi);function os(){return is}var as=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,ss.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ji.min(),r,os(),Ya(),rs())},e}(),ss=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Xi.EMPTY_BYTE_STRING,n,rs(),rs(),rs())},e}(),us=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},cs=function(e,t){this.targetId=e,this.V=t},ls=function(e,t,n,r){void 0===n&&(n=Xi.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},fs=function(){function e(){this.S=0,this.D=ps(),this.C=Xi.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=rs(),t=rs(),n=rs();return this.D.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ri()}}),new ss(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=ps()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),hs=function(){function e(e){this.W=e,this.G=new Map,this.H=Ya(),this.J=ds(),this.Y=new Qa(Mi)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Ri()}})},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(e,r){n.st(r)&&t(r)})},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Co(i))if(0===n){var o=new ao(i.path);this.tt(t,o,Io.newNoDocument(o,ji.min()))}else Di(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach(function(r,i){var o=t.ot(i);if(o){if(r.current&&Co(o.target)){var a=new ao(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Io.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}});var r=rs();this.J.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))});var i=new as(e,n,this.Y,this.H,r);return this.H=Ya(),this.J=ds(),this.Y=new Qa(Mi),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new fs,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Qa(Mi),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Ni("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new fs),this.W.getRemoteKeysForTarget(e).forEach(function(n){t.tt(e,n,null)})},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function ds(){return new Ha(ao.comparator)}function ps(){return new Ha(ao.comparator)}var vs={asc:"ASCENDING",desc:"DESCENDING"},gs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ms=function(e,t){this.databaseId=e,this.I=t};function ys(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function bs(e,t){return e.I?t.toBase64():t.toUint8Array()}function ws(e,t){return ys(e,t.toTimestamp())}function _s(e){return Di(!!e),ji.fromTimestamp(function(e){var t=Yi(e);return new Vi(t.seconds,t.nanos)}(e))}function Ss(e,t){return function(e){return new Hi(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Es(e){var t=Hi.fromString(e);return Di(Ws(t)),t}function Is(e,t){return Ss(e.databaseId,t.path)}function Ts(e,t){var n=Es(t);if(n.get(1)!==e.databaseId.projectId)throw new Ii(Ei.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ii(Ei.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ao(Cs(n))}function ks(e,t){return Ss(e.databaseId,t)}function Ns(e){var t=Es(e);return 4===t.length?Hi.emptyPath():Cs(t)}function As(e){return new Hi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cs(e){return Di(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function xs(e,t,n){return{name:Is(e,t),fields:n.value.mapValue.fields}}function Rs(e,t,n){var r=Ts(e,t.name),i=_s(t.updateTime),o=new So({mapValue:{fields:t.fields}}),a=Io.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ds(e,t){var n;if(t instanceof Oa)n={update:xs(e,t.key,t.value)};else if(t instanceof ja)n={delete:Is(e,t.key)};else if(t instanceof Pa)n={update:xs(e,t.key,t.data),updateMask:Gs(t.fieldMask)};else{if(!(t instanceof qa))return Ri();n={verify:Is(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof va)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ga)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ya)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wa)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Ri()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ws(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ri()}(e,t.precondition)),n}function Os(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ta.updateTime(_s(e.updateTime)):void 0!==e.exists?Ta.exists(e.exists):Ta.none()}(t.currentDocument):Ta.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;if("setToServerValue"in t)Di("REQUEST_TIME"===t.setToServerValue),n=new va;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ga(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ya(i)}else"increment"in t?n=new wa(e,t.increment):Ri();var o=Wi.fromServerFormat(t.fieldPath);return new Ea(o,n)}(e,t)}):[];if(t.update){t.update.name;var i=Ts(e,t.update.name),o=new So({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Qi(t.map(function(e){return Wi.fromServerFormat(e)}))}(t.updateMask);return new Pa(i,o,a,n,r)}return new Oa(i,o,n,r)}if(t.delete){var s=Ts(e,t.delete);return new ja(s,n)}if(t.verify){var u=Ts(e,t.verify);return new qa(u,n)}return Ri()}function Ps(e,t){return{documents:[ks(e,t.path)]}}function Ls(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ks(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ks(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(bo(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NAN"}};if(yo(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bo(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NOT_NAN"}};if(yo(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(e.field),op:qs(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:Bs(e.field),direction:js(e.dir)}}(e)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||ro(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Us(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Us(t.endAt)),n}function Ms(e){var t=Ns(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Di(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Fs(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(e){return function(e){return new qo(zs(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var u=null;n.limit&&(u=function(e){var t;return ro(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Vs(n.startAt));var l=null;return n.endAt&&(l=Vs(n.endAt)),Go(t,i,s,a,u,"F",c,l)}function Fs(e){return e?void 0!==e.unaryFilter?[Hs(e)]:void 0!==e.fieldFilter?[Ks(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return Fs(e)}).reduce(function(e,t){return e.concat(t)}):Ri():[]}function Us(e){return{before:e.before,values:e.position}}function Vs(e){var t=!!e.before,n=e.values||[];return new Vo(n,t)}function js(e){return vs[e]}function qs(e){return gs[e]}function Bs(e){return{fieldPath:e.canonicalString()}}function zs(e){return Wi.fromServerFormat(e.fieldPath)}function Ks(e){return xo.create(zs(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ri()}}(e.fieldFilter.op),e.fieldFilter.value)}function Hs(e){switch(e.unaryFilter.op){case"IS_NAN":var t=zs(e.unaryFilter.field);return xo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=zs(e.unaryFilter.field);return xo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=zs(e.unaryFilter.field);return xo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=zs(e.unaryFilter.field);return xo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ri()}}function Gs(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function Ws(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Qs(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$s(t)),t=Xs(e.get(n),t);return $s(t)}function Xs(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function $s(e){return e+"\x01\x01"}function Ys(e){var t=e.length;if(Di(t>=2),2===t)return Di("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Hi.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Ri(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Ri()}o=a+2}return new Hi(r)}var Js=function(e,t){this.seconds=e,this.nanoseconds=t},Zs=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Zs.store="owner",Zs.key="owner";var eu=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};eu.store="mutationQueues",eu.keyPath="userId";var tu=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};tu.store="mutations",tu.keyPath="batchId",tu.userMutationsIndex="userMutationsIndex",tu.userMutationsKeyPath=["userId","batchId"];var nu=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Qs(t)]},e.key=function(e,t,n){return[e,Qs(t),n]},e}();nu.store="documentMutations",nu.PLACEHOLDER=new nu;var ru=function(e,t){this.path=e,this.readTime=t},iu=function(e,t){this.path=e,this.version=t},ou=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};ou.store="remoteDocuments",ou.readTimeIndex="readTimeIndex",ou.readTimeIndexPath="readTime",ou.collectionReadTimeIndex="collectionReadTimeIndex",ou.collectionReadTimeIndexPath=["parentPath","readTime"];var au=function(e){this.byteSize=e};au.store="remoteDocumentGlobal",au.key="remoteDocumentGlobalKey";var su=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};su.store="targets",su.keyPath="targetId",su.queryTargetsIndexName="queryTargetsIndex",su.queryTargetsKeyPath=["canonicalId","targetId"];var uu=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};uu.store="targetDocuments",uu.keyPath=["targetId","path"],uu.documentTargetsIndex="documentTargetsIndex",uu.documentTargetsKeyPath=["path","targetId"];var cu=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};cu.key="targetGlobalKey",cu.store="targetGlobal";var lu=function(e,t){this.collectionId=e,this.parent=t};lu.store="collectionParents",lu.keyPath=["collectionId","parent"];var fu=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};fu.store="clientMetadata",fu.keyPath="clientId";var hu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};hu.store="bundles",hu.keyPath="bundleId";var du=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};du.store="namedQueries",du.keyPath="name";var pu=h(h([],h(h([],h(h([],h(h([],[eu.store,tu.store,nu.store,ou.store,su.store,Zs.store,cu.store,uu.store]),[fu.store])),[au.store])),[lu.store])),[hu.store,du.store]),vu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gu=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},e}(),mu=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},yu=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Ri(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),bu=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new mu,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Su(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Nu(t.target.error);n.ft.reject(new Su(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Su(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Ni("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Iu(t)},e}(),wu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(w())&&Ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Ni("SimpleDb","Removing database:",e),Tu(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=w(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return u(this,void 0,void 0,function(){var t,n=this;return c(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ni("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Su(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Ii(Ei.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Su(e,n))},i.onupgradeneeded=function(e){Ni("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next(function(){Ni("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}})})},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return u(this,void 0,void 0,function(){var i,o,a,s,u;return c(this,function(l){switch(l.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,l,f;return c(this,function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=c.sent(),t=bu.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch(function(e){return t.abort(e),yu.reject(e)}).toPromise(),u={},a.catch(function(){}),[4,t.dt];case 3:return[2,(u.value=(c.sent(),a),u)];case 4:return l=c.sent(),f="FirebaseError"!==l.name&&o<3,Ni("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),s.close(),f?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},s=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),_u=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Tu(this.Pt.delete())},e}(),Su=function(e){function t(t,n){var r=this;return(r=e.call(this,Ei.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return a(t,e),t}(Ii);function Eu(e){return"IndexedDbTransactionError"===e.name}var Iu=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Ni("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ni("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Tu(n)},e.prototype.add=function(e){return Ni("SimpleDb","ADD",this.store.name,e,e),Tu(this.store.add(e))},e.prototype.get=function(e){var t=this;return Tu(this.store.get(e)).next(function(n){return void 0===n&&(n=null),Ni("SimpleDb","GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return Ni("SimpleDb","DELETE",this.store.name,e),Tu(this.store.delete(e))},e.prototype.count=function(){return Ni("SimpleDb","COUNT",this.store.name),Tu(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.kt=function(e,t){Ni("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(e,t,n){return n.delete()})},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new yu(function(n,r){t.onerror=function(e){var t=Nu(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.xt=function(e,t){var n=[];return new yu(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new _u(i),a=t(i.primaryKey,i.value,o);if(a instanceof yu){var s=a.catch(function(e){return o.done(),yu.reject(e)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return yu.waitFor(n)})},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Tu(e){return new yu(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Nu(e.target.error);n(t)}})}var ku=!1;function Nu(e){var t=wu._t(w());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ii("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ku||(ku=!0,setTimeout(function(){throw r},0)),r}}return e}var Au=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return a(t,e),t}(gu);function Cu(e,t){var n=Oi(e);return wu.It(n.Mt,t)}var xu=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Aa(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Ca(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Ca(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ji.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},rs())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Fi(this.mutations,e.mutations,function(e,t){return Ra(e,t)})&&Fi(this.baseMutations,e.baseMutations,function(e,t){return Ra(e,t)})},e}(),Ru=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Di(t.mutations.length===r.length);for(var i=ts(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Du=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ji.min()),void 0===o&&(o=ji.min()),void 0===a&&(a=Xi.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Ou=function(e){this.Lt=e};function Pu(e,t){if(t.document)return Rs(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ao.fromSegments(t.noDocument.path),r=Vu(t.noDocument.readTime),i=Io.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=ao.fromSegments(t.unknownDocument.path);return r=Vu(t.unknownDocument.version),Io.newUnknownDocument(o,r)}return Ri()}function Lu(e,t,n){var r=Mu(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Is(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ys(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new ou(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Uu(t.version);return a=t.hasCommittedMutations,new ou(null,new ru(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Uu(t.version);return new ou(new iu(c,l),null,null,!0,r,i)}return Ri()}function Mu(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Fu(e){var t=new Vi(e[0],e[1]);return ji.fromTimestamp(t)}function Uu(e){var t=e.toTimestamp();return new Js(t.seconds,t.nanoseconds)}function Vu(e){var t=new Vi(e.seconds,e.nanoseconds);return ji.fromTimestamp(t)}function ju(e,t){for(var n=(t.baseMutations||[]).map(function(t){return Os(e.Lt,t)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(t){return Os(e.Lt,t)}),s=Vi.fromMillis(t.localWriteTimeMs);return new xu(t.batchId,s,n,a)}function qu(e){var t,n,r=Vu(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Vu(e.lastLimboFreeSnapshotVersion):ji.min();return void 0!==e.query.documents?(Di(1===(n=e.query).documents.length),t=ea(Wo(Ns(n.documents[0])))):t=function(e){return ea(Ms(e))}(e.query),new Du(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Xi.fromBase64String(e.resumeToken))}function Bu(e,t){var n,r=Uu(t.snapshotVersion),i=Uu(t.lastLimboFreeSnapshotVersion);n=Co(t.target)?Ps(e.Lt,t.target):Ls(e.Lt,t.target);var o=t.resumeToken.toBase64();return new su(t.targetId,No(t.target),r,o,t.sequenceNumber,i,n)}function zu(e){var t=Ms({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ta(t,t.limit,"L"):t}var Ku=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Hu(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:Vu(t.createTime),version:t.version};var t})},e.prototype.saveBundleMetadata=function(e,t){return Hu(e).put({bundleId:(n=t).id,createTime:Uu(_s(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Gu(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:zu(t.bundledQuery),readTime:Vu(t.readTime)};var t})},e.prototype.saveNamedQuery=function(e,t){return Gu(e).put(function(e){return{name:e.name,readTime:Uu(_s(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Hu(e){return Cu(e,hu.store)}function Gu(e){return Cu(e,du.store)}var Wu=function(){function e(){this.Bt=new Qu}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),yu.resolve()},e.prototype.getCollectionParents=function(e,t){return yu.resolve(this.Bt.getEntries(t))},e}(),Qu=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qa(Hi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Qa(Hi.comparator)).toArray()},e}(),Xu=function(){function e(){this.qt=new Qu}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.qt.add(t)});var o={collectionId:r,parent:Qs(i)};return $u(e).put(o)}return yu.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ui(t),""],!1,!0);return $u(e).Nt(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ys(o.parent))}return n})},e}();function $u(e){return Cu(e,lu.store)}var Yu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ju=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Zu(e,t,n){var r=e.store(tu.store),i=e.store(nu.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},function(e,t,n){return s++,n.delete()});o.push(u.next(function(){Di(1===s)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=nu.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return yu.waitFor(o).next(function(){return c})}function ec(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ri();t=e.noDocument}return JSON.stringify(t).length}Ju.DEFAULT_COLLECTION_PERCENTILE=10,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ju.DEFAULT=new Ju(41943040,Ju.DEFAULT_COLLECTION_PERCENTILE,Ju.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ju.DISABLED=new Ju(-1,0,0);var tc=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Di(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rc(e).$t({index:tu.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=ic(e),a=rc(e);return a.add({}).next(function(s){Di("number"==typeof s);for(var u=new xu(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map(function(t){return Ds(e.Lt,t)}),i=n.mutations.map(function(t){return Ds(e.Lt,t)});return new tu(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new Qa(function(e,t){return Mi(e.canonicalString(),t.canonicalString())}),h=0,d=r;h<d.length;h++){var p=d[h],v=nu.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,nu.PLACEHOLDER))}return f.forEach(function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.Kt[s]=u.keys()}),yu.waitFor(l).next(function(){return u})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return rc(e).get(t).next(function(e){return e?(Di(e.userId===n.userId),ju(n.R,e)):null})},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?yu.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return rc(e).$t({index:tu.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(Di(t.batchId>=r),o=ju(n.R,t)),i.done()}).next(function(){return o})},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return rc(e).$t({index:tu.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rc(e).Nt(tu.userMutationsIndex,n).next(function(e){return e.map(function(e){return ju(t.R,e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=nu.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ic(e).$t({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Ys(u);if(s===n.userId&&t.path.isEqual(l))return rc(e).get(c).next(function(e){if(!e)throw Ri();Di(e.userId===n.userId),o.push(ju(n.R,e))});a.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Qa(Mi),i=[];return t.forEach(function(t){var o=nu.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=ic(e).$t({range:a},function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Ys(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),yu.waitFor(i).next(function(){return n.Wt(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=nu.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Qa(Mi);return ic(e).$t({range:a},function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Ys(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.Wt(e,s)})},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(rc(e).get(t).next(function(e){if(null===e)throw Ri();Di(e.userId===n.userId),r.push(ju(n.R,e))}))}),yu.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return Zu(e.Mt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.Gt(t.batchId)}),yu.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return yu.resolve();var r=IDBKeyRange.lowerBound(nu.prefixForUser(t.userId)),i=[];return ic(e).$t({range:r},function(e,n,r){if(e[0]===t.userId){var o=Ys(e[1]);i.push(o)}else r.done()}).next(function(){Di(0===i.length)})})},e.prototype.containsKey=function(e,t){return nc(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return oc(e).get(this.userId).next(function(e){return e||new eu(t.userId,-1,"")})},e}();function nc(e,t,n){var r=nu.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ic(e).$t({range:o,Ft:!0},function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()}).next(function(){return a})}function rc(e){return Cu(e,tu.store)}function ic(e){return Cu(e,nu.store)}function oc(e){return Cu(e,eu.store)}var ac=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),sc=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(n){var r=new ac(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(e){return ji.fromTimestamp(new Vi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(e){return e.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)})},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next(function(){return n.Xt(e).next(function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)})})},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return uc(e).delete(t.targetId)}).next(function(){return n.Xt(e)}).next(function(t){return Di(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return uc(e).$t(function(a,s){var u=qu(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))}).next(function(){return yu.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){return uc(e).$t(function(e,n){var r=qu(n);t(r)})},e.prototype.Xt=function(e){return cc(e).get(cu.key).next(function(e){return Di(null!==e),e})},e.prototype.Zt=function(e,t){return cc(e).put(cu.key,t)},e.prototype.te=function(e,t){return uc(e).put(Bu(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next(function(e){return e.targetCount})},e.prototype.getTargetData=function(e,t){var n=No(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return uc(e).$t({range:r,index:su.queryTargetsIndexName},function(e,n,r){var o=qu(n);Ao(t,o.target)&&(i=o,r.done())}).next(function(){return i})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=lc(e);return t.forEach(function(t){var a=Qs(t.path);i.push(o.put(new uu(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))}),yu.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=lc(e);return yu.forEach(t,function(t){var o=Qs(t.path);return yu.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=lc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=lc(e),i=rs();return r.$t({range:n,Ft:!0},function(e,t,n){var r=Ys(e[1]),o=new ao(r);i=i.add(o)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=Qs(t.path),r=IDBKeyRange.bound([n],[Ui(n)],!1,!0),i=0;return lc(e).$t({index:uu.documentTargetsIndex,Ft:!0,range:r},function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},e.prototype.lt=function(e,t){return uc(e).get(t).next(function(e){return e?qu(e):null})},e}();function uc(e){return Cu(e,su.store)}function cc(e){return Cu(e,cu.store)}function lc(e){return Cu(e,uu.store)}function fc(e){return u(this,void 0,void 0,function(){return c(this,function(t){if(e.code!==Ei.FAILED_PRECONDITION||e.message!==vu)throw e;return Ni("LocalStore","Unexpectedly lost primary lease"),[2]})})}function hc(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Mi(n,i);return 0===a?Mi(r,o):a}var dc=function(){function e(e){this.ne=e,this.buffer=new Qa(hc),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();hc(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),pc=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Ni("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return u(t,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Eu(t=n.sent())?(Ni("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,fc(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}})})})},e}(),vc=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return yu.resolve(Si.o);var r=new dc(t);return this.ae.forEachTarget(e,function(e){return r.re(e.sequenceNumber)}).next(function(){return n.ae.le(e,function(e){return r.re(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ni("LruGarbageCollector","Garbage collection skipped; disabled"),yu.resolve(Yu)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Ni("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Yu):n.fe(e,t)})},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ni("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return u=Date.now(),ki()<=M.DEBUG&&Ni("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),yu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})},e}(),gc=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new vc(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.de=function(e){var t=0;return this.le(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,function(e,n){return t(n)})},e.prototype.addReference=function(e,t,n){return mc(e,n)},e.prototype.removeReference=function(e,t,n){return mc(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return mc(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return oc(e).Ot(function(r){return nc(e,r,t).next(function(e){return e&&(n=!0),yu.resolve(!e)})}).next(function(){return n})}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,function(a,s){if(s<=t){var u=n._e(e,a).next(function(t){if(!t)return o++,r.getEntry(e,a).next(function(){return r.removeEntry(a),lc(e).delete([0,Qs(a.path)])})});i.push(u)}}).next(function(){return yu.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return o})},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return mc(e,t)},e.prototype.we=function(e,t){var n,r=lc(e),i=Si.o;return r.$t({index:uu.documentTargetsIndex},function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Si.o&&t(new ao(Ys(n)),i),i=s,n=a):i=Si.o}).next(function(){i!==Si.o&&t(new ao(Ys(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function mc(e,t){return lc(e).put(function(e,t){return new uu(0,Qs(e.path),t)}(t,e.currentSequenceNumber))}var yc=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Bi(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}})},e.prototype.isEmpty=function(){return zi(this.inner)},e}(),bc=function(){function e(){this.changes=new yc(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:ji.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Io.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?yu.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),wc=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Ec(e).put(Ic(t),n)},e.prototype.removeEntry=function(e,t){var n=Ec(e),r=Ic(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.me(e,r)})},e.prototype.getEntry=function(e,t){var n=this;return Ec(e).get(Ic(t)).next(function(e){return n.ye(t,e)})},e.prototype.ge=function(e,t){var n=this;return Ec(e).get(Ic(t)).next(function(e){return{document:n.ye(t,e),size:ec(e)}})},e.prototype.getEntries=function(e,t){var n=this,r=Ya();return this.pe(e,t,function(e,t){var i=n.ye(e,t);r=r.insert(e,i)}).next(function(){return r})},e.prototype.Ee=function(e,t){var n=this,r=Ya(),i=new Ha(ao.comparator);return this.pe(e,t,function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,ec(t))}).next(function(){return{documents:r,Te:i}})},e.prototype.pe=function(e,t,n){if(t.isEmpty())return yu.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Ec(e).$t({range:r},function(e,t,r){for(var a=ao.fromSegments(e);o&&ao.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Ya(),o=t.path.length+1,a={};if(n.isEqual(ji.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Mu(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=ou.collectionReadTimeIndex}return Ec(e).$t(a,function(e,n,a){if(e.length===o){var s=Pu(r.R,n);t.path.isPrefixOf(s.key.path)?oa(t,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},e.prototype.newChangeBuffer=function(e){return new _c(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return Sc(e).get(au.key).next(function(e){return Di(!!e),e})},e.prototype.me=function(e,t){return Sc(e).put(au.key,t)},e.prototype.ye=function(e,t){if(t){var n=Pu(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(ji.min()))return n}return Io.newInvalidDocument(e)},e}(),_c=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new yc(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return a(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Qa(function(e,t){return Mi(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Lu(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=ec(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Lu(t.Ie.R,Io.newNoDocument(o,ji.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))}),i.forEach(function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))}),n.push(this.Ie.updateMetadata(e,r)),yu.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next(function(e){return n.Ae.set(t,e.size),e.document})},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next(function(e){var t=e.documents;return e.Te.forEach(function(e,t){n.Ae.set(e,t)}),t})},t}(bc);function Sc(e){return Cu(e,au.store)}function Ec(e){return Cu(e,ou.store)}function Ic(e){return e.path.toArray()}var Tc=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Di(n<r&&n>=0&&r<=11);var o=new bu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Zs.store)}(e),function(e){e.createObjectStore(eu.store,{keyPath:eu.keyPath}),e.createObjectStore(tu.store,{keyPath:tu.keyPath,autoIncrement:!0}).createIndex(tu.userMutationsIndex,tu.userMutationsKeyPath,{unique:!0}),e.createObjectStore(nu.store)}(e),kc(e),function(e){e.createObjectStore(ou.store)}(e));var a=yu.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(uu.store),e.deleteObjectStore(su.store),e.deleteObjectStore(cu.store)}(e),kc(e)),a=a.next(function(){return function(e){var t=e.store(cu.store),n=new cu(0,0,ji.min().toTimestamp(),0);return t.put(cu.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(e,t){return t.store(tu.store).Nt().next(function(n){e.deleteObjectStore(tu.store),e.createObjectStore(tu.store,{keyPath:tu.keyPath,autoIncrement:!0}).createIndex(tu.userMutationsIndex,tu.userMutationsKeyPath,{unique:!0});var r=t.store(tu.store),i=n.map(function(e){return r.put(e)});return yu.waitFor(i)})}(e,o)})),a=a.next(function(){!function(e){e.createObjectStore(fu.store,{keyPath:fu.keyPath})}(e)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(e){e.createObjectStore(au.store)}(e),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(e,o)})),n<9&&r>=9&&(a=a.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(ou.store);t.createIndex(ou.readTimeIndex,ou.readTimeIndexPath,{unique:!1}),t.createIndex(ou.collectionReadTimeIndex,ou.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(e){e.createObjectStore(hu.store,{keyPath:hu.keyPath})}(e),function(e){e.createObjectStore(du.store,{keyPath:du.keyPath})}(e)})),a},e.prototype.be=function(e){var t=0;return e.store(ou.store).$t(function(e,n){t+=ec(n)}).next(function(){var n=new au(t);return e.store(au.store).put(au.key,n)})},e.prototype.Re=function(e){var t=this,n=e.store(eu.store),r=e.store(tu.store);return n.Nt().next(function(n){return yu.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(tu.userMutationsIndex,i).next(function(r){return yu.forEach(r,function(r){Di(r.userId===n.userId);var i=ju(t.R,r);return Zu(e,n.userId,i).next(function(){})})})})})},e.prototype.ve=function(e){var t=e.store(uu.store),n=e.store(ou.store);return e.store(cu.store).get(cu.key).next(function(e){var r=[];return n.$t(function(n,i){var o=new Hi(n),a=function(e){return[0,Qs(e)]}(o);r.push(t.get(a).next(function(n){return n?yu.resolve():function(n){return t.put(new uu(0,Qs(n),e.highestListenSequenceNumber))}(o)}))}).next(function(){return yu.waitFor(r)})})},e.prototype.Pe=function(e,t){e.createObjectStore(lu.store,{keyPath:lu.keyPath});var n=t.store(lu.store),r=new Qu,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Qs(i)})}};return t.store(ou.store).$t({Ft:!0},function(e,t){var n=new Hi(e);return i(n.popLast())}).next(function(){return t.store(nu.store).$t({Ft:!0},function(e,t){e[0];var n=e[1];e[2];var r=Ys(n);return i(r.popLast())})})},e.prototype.Ve=function(e){var t=this,n=e.store(su.store);return n.$t(function(e,r){var i=qu(r),o=Bu(t.R,i);return n.put(o)})},e}();function kc(e){e.createObjectStore(uu.store,{keyPath:uu.keyPath}).createIndex(uu.documentTargetsIndex,uu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(su.store,{keyPath:su.keyPath}).createIndex(su.queryTargetsIndexName,su.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(cu.store)}var Nc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ac=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Ii(Ei.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gc(this,i),this.Le=n+"main",this.R=new Ou(u),this.Be=new wu(this.Le,11,new Tc(this.R)),this.qe=new sc(this.referenceDelegate,this.R),this.Ut=new Xu,this.Ue=function(e,t){return new wc(e,t)}(this.R,this.Ut),this.Ke=new Ku,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ii(Ei.FAILED_PRECONDITION,Nc);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new Si(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},e.prototype.He=function(e){var t=this;return this.Me=function(n){return u(t,void 0,void 0,function(){return c(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(n){return u(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return u(t,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return xc(t).put(new fu(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(n){return e.isPrimary&&!n?e.Xe(t).next(function(){return!1}):!!n&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(Eu(t))return Ni("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ni("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},e.prototype.Je=function(e){var t=this;return Cc(e).get(Zs.key).next(function(e){return yu.resolve(t.tn(e))})},e.prototype.en=function(e){return xc(e).delete(this.clientId)},e.prototype.nn=function(){return u(this,void 0,void 0,function(){var e,t,n,r,i=this;return c(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=Cu(e,fu.store);return t.Nt().next(function(e){var n=i.rn(e,18e5),r=e.filter(function(e){return-1===n.indexOf(e)});return yu.forEach(r,function(e){return t.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?yu.resolve(!0):Cc(e).get(Zs.key).next(function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Ii(Ei.FAILED_PRECONDITION,Nc);return!1}}return!(!t.networkEnabled||!t.inForeground)||xc(e).Nt().next(function(e){return void 0===t.rn(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&Ni("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return u(this,void 0,void 0,function(){var e=this;return c(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Zs.store,fu.store],function(t){var n=new Au(t,Si.o);return e.Xe(n).next(function(){return e.en(n)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(e,t){var n=this;return e.filter(function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)})},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return xc(t).Nt().next(function(t){return e.rn(t,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return tc.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Ni("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,pu,function(o){return i=new Au(o,r.Ne?r.Ne.next():Si.o),"readwrite-primary"===t?r.Je(i).next(function(e){return!!e||r.Ye(i)}).next(function(t){if(!t)throw Ai("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable(function(){return r.Me(!1)}),new Ii(Ei.FAILED_PRECONDITION,vu);return n(i)}).next(function(e){return r.Ze(i).next(function(){return e})}):r.dn(i).next(function(){return n(i)})}).then(function(e){return i.raiseOnCommittedEvent(),e})},e.prototype.dn=function(e){var t=this;return Cc(e).get(Zs.key).next(function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ii(Ei.FAILED_PRECONDITION,Nc)})},e.prototype.Ze=function(e){var t=new Zs(this.clientId,this.allowTabSynchronization,Date.now());return Cc(e).put(Zs.key,t)},e.yt=function(){return wu.yt()},e.prototype.Xe=function(e){var t=this,n=Cc(e);return n.get(Zs.key).next(function(e){return t.tn(e)?(Ni("IndexedDbPersistence","Releasing primary lease."),n.delete(Zs.key)):yu.resolve()})},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Ai("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),!_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Ni("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Ai("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Ai("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Cc(e){return Cu(e,Zs.store)}function xc(e){return Cu(e,fu.store)}function Rc(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Dc=function(e,t){this.progress=e,this.wn=t},Oc=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.yn(e,t,r)})},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next(function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e})},e.prototype.gn=function(e,t){e.forEach(function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)})},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next(function(t){return n.En(e,t).next(function(){return t})})},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.gn(t,e)})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return ao.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Jo(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new ao(t)).next(function(e){var t=Za();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Za();return this.Ut.getCollectionParents(e,i).next(function(a){return yu.forEach(a,function(a){var s=function(e,t){return new Ho(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next(function(e){e.forEach(function(e,t){o=o.insert(e,t)})})}).next(function(){return o})})},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return i=t,o.Rn(e,i,r).next(function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Io.newInvalidDocument(c),r=r.insert(c,l)),Ca(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(e,n){oa(t,n)||(r=r.remove(e))}),r})},e.prototype.Rn=function(e,t,n){for(var r=rs(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Pa&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))}),c})},e}(),Pc=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=rs(),i=rs(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Lc=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ji.min())?this.Dn(e,t):this.Sn.pn(e,r).next(function(o){var a=i.Cn(t,o);return(Qo(t)||Xo(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(ki()<=M.DEBUG&&Ni("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ia(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next(function(e){return a.forEach(function(t){e=e.insert(t.key,t)}),e}))})},e.prototype.Cn=function(e,t){var n=new Qa(aa(e));return t.forEach(function(t,r){oa(e,r)&&(n=n.add(r))}),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return ki()<=M.DEBUG&&Ni("QueryEngine","Using full collection scan to execute query:",ia(t)),this.Sn.getDocumentsMatchingQuery(e,t,ji.min())},e}(),Mc=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Ha(Mi),this.Fn=new yc(function(e){return No(e)},Ao),this.$n=ji.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Oc(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.kn)})},e}();function Fc(e,t,n,r){return new Mc(e,t,n,r)}function Uc(e,t){return u(this,void 0,void 0,function(){var n,r,i,o;return c(this,function(a){switch(a.label){case 0:return n=Oi(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(e){var o;return n._n.getAllMutationBatches(e).next(function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Oc(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)}).next(function(t){for(var n=[],r=[],a=rs(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return i.pn(e,a).next(function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Vc(e,t){var n=Oi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=yu.resolve();return o.forEach(function(e){a=a.next(function(){return r.getEntry(t,e)}).next(function(t){var o=n.docVersions.get(e);Di(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),a.next(function(){return e._n.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}function jc(e){var t=Oi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function qc(e,t){var n=Oi(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach(function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)}));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Di(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}});var s=Ya();if(t.documentUpdates.forEach(function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Bc(e,o,t.documentUpdates,r,void 0).next(function(e){s=e})),!r.isEqual(ji.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next(function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)});a.push(u)}return yu.waitFor(a).next(function(){return o.apply(e)}).next(function(){return n.Mn.En(e,s)}).next(function(){return s})}).then(function(e){return n.kn=i,e})}function Bc(e,t,n,r,i){var o=rs();return n.forEach(function(e){return o=o.add(e)}),t.getEntries(e,o).next(function(e){var o=Ya();return n.forEach(function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ji.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Ni("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function zc(e,t){var n=Oi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)})}function Kc(e,t){var n=Oi(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.qe.getTargetData(e,t).next(function(i){return i?(r=i,yu.resolve(r)):n.qe.allocateTargetId(e).next(function(i){return r=new Du(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e})}function Hc(e,t,n){return u(this,void 0,void 0,function(){var r,i,o,a;return c(this,function(s){switch(s.label){case 0:r=Oi(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(e){return r.persistence.referenceDelegate.removeTarget(e,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Eu(a=s.sent()))throw a;return Ni("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function Gc(e,t,n){var r=Oi(e),i=ji.min(),o=rs();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=Oi(e),i=r.Fn.get(n);return void 0!==i?yu.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,ea(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next(function(e){o=e})}).next(function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:ji.min(),n?o:rs())}).next(function(e){return{documents:e,Bn:o}})})}function Wc(e,t){var n=Oi(e),r=Oi(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.lt(e,t).next(function(e){return e?e.target:null})})}function Qc(e){var t=Oi(e);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return function(e,t,n){var r=Oi(e),i=Ya(),o=Mu(n),a=Ec(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:ou.readTimeIndex,range:s},function(e,t){var n=Pu(r.R,t);i=i.insert(n.key,n),o=t.readTime}).next(function(){return{wn:i,readTime:Fu(o)}})}(t.On,e,t.$n)}).then(function(e){var n=e.wn,r=e.readTime;return t.$n=r,n})}function Xc(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){return[2,(t=Oi(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(e){return function(e){var t=Ec(e),n=ji.min();return t.$t({index:ou.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=Fu(t.readTime)),r.done()}).next(function(){return n})}(e)}).then(function(e){t.$n=e})]})})}function $c(e,t,n,r){return u(this,void 0,void 0,function(){var i,o,a,s,u,l,f,h,d,p;return c(this,function(c){switch(c.label){case 0:for(i=Oi(e),o=rs(),a=Ya(),s=ts(),u=0,l=n;u<l.length;u++)f=l[u],h=t.qn(f.metadata.name),f.document&&(o=o.add(h)),a=a.insert(h,t.Un(f)),s=s.insert(h,t.Kn(f.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,Kc(i,function(e){return ea(Wo(Hi.fromString("__bundle__/docs/"+e)))}(r))];case 1:return p=c.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return Bc(e,d,a,ji.min(),s).next(function(t){return d.apply(e),t}).next(function(t){return i.qe.removeMatchingKeysForTargetId(e,p.targetId).next(function(){return i.qe.addMatchingKeys(e,o,p.targetId)}).next(function(){return i.Mn.En(e,t)}).next(function(){return t})})})]}})})}function Yc(e,t,n){return void 0===n&&(n=rs()),u(this,void 0,void 0,function(){var r,i;return c(this,function(o){switch(o.label){case 0:return[4,Kc(e,ea(zu(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Oi(e)).persistence.runTransaction("Save named query","readwrite",function(e){var o=_s(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(Xi.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next(function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)}).next(function(){return i.qe.addMatchingKeys(e,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(e,t)})})]}})})}var Jc=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return yu.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:_s(n.createTime)}),yu.resolve()},e.prototype.getNamedQuery=function(e,t){return yu.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:zu(e.bundledQuery),readTime:_s(e.readTime)}}(t)),yu.resolve()},e}(),Zc=function(){function e(){this.Wn=new Qa(el.Gn),this.zn=new Qa(el.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new el(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.Yn(new el(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.Zn=function(e){var t=this,n=new ao(new Hi([])),r=new el(n,e),i=new el(n,e+1),o=[];return this.zn.forEachInRange([r,i],function(e){t.Yn(e),o.push(e.key)}),o},e.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new ao(new Hi([])),n=new el(t,e),r=new el(t,e+1),i=rs();return this.zn.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new el(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),el=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return ao.comparator(e.key,t.key)||Mi(e.ns,t.ns)},e.Hn=function(e,t){return Mi(e.ns,t.ns)||ao.comparator(e.key,t.key)},e}(),tl=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Qa(el.Gn)}return e.prototype.checkEmpty=function(e){return yu.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new xu(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new el(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return yu.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return yu.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return yu.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return yu.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return yu.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new el(t,0),i=new el(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(e){var t=n.os(e.ns);o.push(t)}),yu.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Qa(Mi);return t.forEach(function(e){var t=new el(e,0),i=new el(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],function(e){r=r.add(e.ns)})}),yu.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;ao.isDocumentKey(i)||(i=i.child(""));var o=new el(new ao(i),0),a=new Qa(Mi);return this.rs.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)},o),yu.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.os(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Di(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return yu.forEach(t.mutations,function(i){var o=new el(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.rs=r})},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new el(t,0),r=this.rs.firstAfterOrEqual(n);return yu.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,yu.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),nl=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Ha(ao.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return yu.resolve(n?n.document.clone():Io.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Ya();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Io.newInvalidDocument(e))}),yu.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Ya(),i=new ao(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||oa(t,c)&&(r=r.insert(c.key,c.clone()))}return yu.resolve(r)},e.prototype.fs=function(e,t){return yu.forEach(this.docs,function(e){return t(e)})},e.prototype.newChangeBuffer=function(e){return new rl(this)},e.prototype.getSize=function(e){return yu.resolve(this.size)},e}(),rl=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return a(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)}),yu.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(bc),il=function(){function e(e){this.persistence=e,this.ds=new yc(function(e){return No(e)},Ao),this.lastRemoteSnapshotVersion=ji.min(),this.highestTargetId=0,this.ws=0,this._s=new Zc,this.targetCount=0,this.ys=ac.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(e,n){return t(n)}),yu.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return yu.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return yu.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),yu.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),yu.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new ac(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,yu.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),yu.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,yu.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),yu.waitFor(o).next(function(){return i})},e.prototype.getTargetCount=function(e){return yu.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return yu.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),yu.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),yu.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),yu.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return yu.resolve(n)},e.prototype.containsKey=function(e,t){return yu.resolve(this._s.containsKey(t))},e}(),ol=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Si(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new il(this),this.Ut=new Wu,this.Ue=function(e){return new nl(e,function(e){return n.referenceDelegate.ps(e)})}(this.Ut),this.R=new Ou(t),this.Ke=new Jc(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new tl(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Ni("MemoryPersistence","Starting transaction:",e);var i=new al(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(e){return r.referenceDelegate.Ts(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})},e.prototype.Is=function(e,t){return yu.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),al=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return a(t,e),t}(gu),sl=function(){function e(e){this.persistence=e,this.As=new Zc,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ri()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),yu.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),yu.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),yu.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach(function(e){return n.vs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.vs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yu.forEach(this.vs,function(r){var i=ao.fromPath(r);return t.Ps(e,i).next(function(e){e||n.removeEntry(i)})}).next(function(){return t.Rs=null,n.apply(e)})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next(function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())})},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return yu.or([function(){return yu.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),ul=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function cl(e,t){return"firestore_clients_"+e+"_"+t}function ll(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function fl(e,t){return"firestore_targets_"+e+"_"+t}ul.UNAUTHENTICATED=new ul(null),ul.GOOGLE_CREDENTIALS=new ul("google-credentials-uid"),ul.FIRST_PARTY=new ul("first-party-uid"),ul.MOCK_USER=new ul("mock-user");var hl=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ii(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Ai("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),dl=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ii(i.error.code,i.error.message)),o?new e(t,i.state,r):(Ai("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),pl=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=os(),a=0;i&&a<r.activeTargetIds.length;++a)i=oo(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Ai("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),vl=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ai("SharedClientState","Failed to parse online state: "+t),null)},e}(),gl=function(){function e(){this.activeTargetIds=os()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),ml=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ha(Mi),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=cl(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new gl),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return u(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,l,f,h=this;return c(this,function(c){switch(c.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=c.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(cl(this.persistenceKey,r)))&&(o=pl.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,l=this.$s;u<l.length;u++)f=l[u],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(fl(this.persistenceKey,e));if(n){var r=dl.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(fl(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.Hs(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Ni("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Ni("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Ni("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ni("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return u(t,void 0,void 0,function(){var e,t,r,i,o,a;return c(this,function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Si.o;if(null!=e)try{var n=JSON.parse(e);Di("number"==typeof n),t=n}catch(e){Ai("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Si.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new hl(this.currentUser,e,t,n),i=ll(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=ll(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=fl(this.persistenceKey,e),i=new dl(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return pl.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return hl.Vs(new ul(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return dl.Vs(r,t)},e.prototype.js=function(e){return vl.Vs(e)},e.prototype.ii=function(e){return u(this,void 0,void 0,function(){return c(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Ni("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach(function(e){i.has(e)||a.push(e)}),i.forEach(function(e){o.has(e)||s.push(e)}),this.syncEngine.hi(a,s).then(function(){n.Fs=r})},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=os();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t},e}(),yl=function(){function e(){this.li=new gl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new gl,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),bl=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),wl=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Ni("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Ni("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),_l={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Sl=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),El=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return a(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise(function(i,o){var a=new _i;a.listenOnce(gi.COMPLETE,function(){try{switch(a.getLastErrorCode()){case vi.NO_ERROR:var t=a.getResponseJson();Ni("Connection","XHR received:",JSON.stringify(t)),i(t);break;case vi.TIMEOUT:Ni("Connection",'RPC "'+e+'" timed out'),o(new Ii(Ei.DEADLINE_EXCEEDED,"Request time out"));break;case vi.HTTP_ERROR:var n=a.getStatus();if(Ni("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ei).indexOf(t)>=0?t:Ei.UNKNOWN}(r.status);o(new Ii(s,r.message))}else o(new Ii(Ei.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ii(Ei.UNAVAILABLE,"Connection failed."));break;default:Ri()}}finally{Ni("Connection",'RPC "'+e+'" completed.')}});var s=JSON.stringify(r);a.send(t,"POST",s,n,15)})},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=di(),i=pi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new bi({})),this.ki(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())||"object"===typeof navigator&&"ReactNative"===navigator.product||w().indexOf("Electron/")>=0||function(){var e=w();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||w().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Ni("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Sl({Ei:function(e){c?Ni("Connection","Not sending because WebChannel is closed:",e):(u||(Ni("Connection","Opening WebChannel transport."),s.open(),u=!0),Ni("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),f=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return f(s,wi.EventType.OPEN,function(){c||Ni("Connection","WebChannel transport opened.")}),f(s,wi.EventType.CLOSE,function(){c||(c=!0,Ni("Connection","WebChannel transport closed"),l.Vi())}),f(s,wi.EventType.ERROR,function(e){c||(c=!0,Ci("Connection","WebChannel transport errored:",e),l.Vi(new Ii(Ei.UNAVAILABLE,"The operation could not be completed")))}),f(s,wi.EventType.MESSAGE,function(e){var t;if(!c){var n=e.data[0];Di(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ni("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Ua[e];if(void 0!==t)return Ka(t)}(o),u=i.message;void 0===a&&(a=Ei.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Ii(a,u)),s.close()}else Ni("Connection","WebChannel received:",n),l.Si(n)}}),f(i,mi.STAT_EVENT,function(e){e.stat===yi.PROXY?Ni("Connection","Detected buffering proxy"):e.stat===yi.NOPROXY&&Ni("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Ni("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then(function(e){return Ni("RestConnection","Received: ",e),e},function(t){throw Ci("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t})},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=_l[e];return this.Di+"/v1/"+t+":"+n},e}());function Il(){return"undefined"!=typeof window?window:null}function Tl(){return"undefined"!=typeof document?document:null}function kl(e){return new ms(e,!0)}var Nl=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Ni("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Al=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Nl(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return u(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Ei.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Ei.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(t){e.Yi===n&&e.lr(t)},function(n){t(function(){var t=new Ii(Ei.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)})})},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){n(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(e){n(function(){return t.dr(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return u(e,void 0,void 0,function(){return c(this,function(e){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(e){return Ni("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget(function(){return t.Yi===e?n():(Ni("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Cl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return a(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ri()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Di(void 0===t||"string"==typeof t),Xi.fromBase64String(t||"")):(Di(void 0===t||t instanceof Uint8Array),Xi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Ei.UNKNOWN:Ka(e.code);return new Ii(t,e.message||"")}(s);n=new ls(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Ts(e,r.document.name),o=_s(r.document.updateTime);var s=new So({mapValue:{fields:r.document.fields}}),u=(a=Io.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new us(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Ts(e,r.document),o=r.readTime?_s(r.readTime):ji.min(),s=Io.newNoDocument(i,o),a=r.removedTargetIds||[],n=new us([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Ts(e,r.document),o=r.removedTargetIds||[],n=new us([],o,i,null);else{if(!("filter"in t))return Ri();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Ba(r),o=l.targetId,n=new cs(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return ji.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ji.min():t.readTime?_s(t.readTime):ji.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=As(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Co(r)?{documents:Ps(e,r)}:{query:Ls(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=bs(e,t.resumeToken):t.snapshotVersion.compareTo(ji.min())>0&&(n.readTime=ys(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ri()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=As(this.R),t.removeTarget=e,this.cr(t)},t}(Al),xl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return a(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Di(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Di(void 0!==t),e.map(function(e){return function(e,t){var n=e.updateTime?_s(e.updateTime):_s(t);return n.isEqual(ji.min())&&(n=_s(t)),new Ia(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=_s(e.commitTime);return this.listener.Tr(n,t)}return Di(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=As(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return Ds(t.R,e)})};this.cr(n)},t}(Al),Rl=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return a(t,e),t.prototype.br=function(){if(this.Rr)throw new Ii(Ei.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===Ei.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Ii(Ei.UNKNOWN,e.toString())})},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===Ei.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Ii(Ei.UNKNOWN,e.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),Dl=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ai(t),this.Vr=!1):Ni("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Ol=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(e){n.enqueueAndForget(function(){return u(o,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return Bl(this)?(Ni("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return(t=Oi(e)).Or.add(4),[4,Ll(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Pl(t)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.Br=new Dl(n,r)};function Pl(e){return u(this,void 0,void 0,function(){var t,n;return c(this,function(r){switch(r.label){case 0:if(!Bl(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ll(e){return u(this,void 0,void 0,function(){var t,n;return c(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ml(e,t){var n=Oi(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),ql(n)?jl(n):rf(n).er()&&Ul(n,t))}function Fl(e,t){var n=Oi(e),r=rf(n);n.$r.delete(t),r.er()&&Vl(n,t),0===n.$r.size&&(r.er()?r.ir():Bl(n)&&n.Br.set("Unknown"))}function Ul(e,t){e.qr.U(t.targetId),rf(e).mr(t)}function Vl(e,t){e.qr.U(t),rf(e).yr(t)}function jl(e){e.qr=new hs({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),rf(e).start(),e.Br.Sr()}function ql(e){return Bl(e)&&!rf(e).tr()&&e.$r.size>0}function Bl(e){return 0===Oi(e).Or.size}function zl(e){e.qr=void 0}function Kl(e){return u(this,void 0,void 0,function(){return c(this,function(t){return e.$r.forEach(function(t,n){Ul(e,t)}),[2]})})}function Hl(e,t){return u(this,void 0,void 0,function(){return c(this,function(n){return zl(e),ql(e)?(e.Br.Nr(t),jl(e)):e.Br.set("Unknown"),[2]})})}function Gl(e,t,n){return u(this,void 0,void 0,function(){var r,i,o;return c(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof ls&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return u(this,void 0,void 0,function(){var n,r,i,o;return c(this,function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Ni("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Wl(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof us?e.qr.X(t):t instanceof cs?e.qr.rt(t):e.qr.et(t),n.isEqual(ji.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,jc(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(Xi.EMPTY_BYTE_STRING,n.snapshotVersion)),Vl(e,t);var r=new Du(n.target,t,1,n.sequenceNumber);Ul(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Ni("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Wl(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Wl(e,t,n){return u(this,void 0,void 0,function(){var r=this;return c(this,function(i){switch(i.label){case 0:if(!Eu(t))throw t;return e.Or.add(1),[4,Ll(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return jc(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return u(r,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return Ni("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Pl(e)];case 2:return t.sent(),[2]}})})}),[2]}})})}function Ql(e,t){return t().catch(function(n){return Wl(e,n,t)})}function Xl(e){return u(this,void 0,void 0,function(){var t,n,r,i,o;return c(this,function(a){switch(a.label){case 0:t=Oi(e),n=of(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Bl(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,zc(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=of(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Wl(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return $l(t)&&Yl(t),[2]}})})}function $l(e){return Bl(e)&&!of(e).tr()&&e.Fr.length>0}function Yl(e){of(e).start()}function Jl(e){return u(this,void 0,void 0,function(){return c(this,function(t){return of(e).Ar(),[2]})})}function Zl(e){return u(this,void 0,void 0,function(){var t,n,r,i;return c(this,function(o){for(t=of(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function ef(e,t,n){return u(this,void 0,void 0,function(){var r,i;return c(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Ru.from(r,t,n),[4,Ql(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Xl(e)];case 2:return o.sent(),[2]}})})}function tf(e,t){return u(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return t&&of(e).pr?[4,function(e,t){return u(this,void 0,void 0,function(){var n,r;return c(this,function(i){switch(i.label){case 0:return za(r=t.code)&&r!==Ei.ABORTED?(n=e.Fr.shift(),of(e).sr(),[4,Ql(e,function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)})]):[3,3];case 1:return i.sent(),[4,Xl(e)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return $l(e)&&Yl(e),[2]}})})}function nf(e,t){return u(this,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return n=Oi(e),t?(n.Or.delete(2),[4,Pl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Ll(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function rf(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Oi(e);return r.br(),new Cl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Kl.bind(null,e),Ri:Hl.bind(null,e),_r:Gl.bind(null,e)}),e.Mr.push(function(n){return u(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return n?(e.Ur.sr(),ql(e)?jl(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),zl(e),t.label=3;case 3:return[2]}})})})),e.Ur}function of(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Oi(e);return r.br(),new xl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Jl.bind(null,e),Ri:tf.bind(null,e),Ir:Zl.bind(null,e),Tr:ef.bind(null,e)}),e.Mr.push(function(n){return u(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Xl(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(Ni("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}})})})),e.Kr}var af=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new mu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ii(Ei.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function sf(e,t){if(Ai("AsyncQueue",t+": "+e),Eu(e))return new Ii(Ei.UNAVAILABLE,t+": "+e);throw e}var uf=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ao.comparator(t.key,n.key)}:function(e,t){return ao.comparator(e.key,t.key)},this.keyedMap=Za(),this.sortedSet=new Ha(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),cf=function(){function e(){this.Qr=new Ha(ao.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Ri():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,n){e.push(n)}),e},e}(),lf=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,uf.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&na(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),ff=function(){this.Wr=void 0,this.listeners=[]},hf=function(){this.queries=new yc(function(e){return ra(e)},na),this.onlineState="Unknown",this.Gr=new Set};function df(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return c(this,function(c){switch(c.label){case 0:if(n=Oi(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new ff),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=sf(s,"Initialization of query '"+ia(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&mf(n),[2]}})})}function pf(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a;return c(this,function(s){return n=Oi(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function vf(e,t){for(var n=Oi(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&mf(n)}function gf(e,t,n){var r=Oi(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function mf(e){e.Gr.forEach(function(e){e.next()})}var yf=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new lf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=lf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),bf=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),wf=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Ts(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Rs(this.R,e.document,!1):Io.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return _s(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=_f(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new wf(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||rs()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return u(this,void 0,void 0,function(){var e,t,n,r,i;return c(this,function(o){switch(o.label){case 0:return[4,$c(this.localStore,new wf(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Yc(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Dc(Object.assign({},this.progress),e))]}})})}}();function _f(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Sf=function(e){this.key=e},Ef=function(e){this.key=e},If=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=rs(),this.mutatedKeys=rs(),this.lo=aa(e),this.fo=new uf(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new cf,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Qo(this.query)&&i.size===this.query.limit?i.last():null,c=Xo(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),f=oa(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))}),Qo(this.query)||Xo(this.query))for(;a.size>this.query.limit;){var l=Qo(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ri()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)}),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new lf(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new cf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.uo=t.uo.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.uo=t.uo.delete(e)}),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=rs(),this.fo.forEach(function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))});var n=[];return t.forEach(function(t){e.ho.has(t)||n.push(new Ef(t))}),this.ho.forEach(function(e){t.has(e)||n.push(new Sf(e))}),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=rs();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return lf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Tf=function(e,t,n){this.query=e,this.targetId=t,this.view=n},kf=function(e){this.key=e,this.bo=!1},Nf=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new yc(function(e){return ra(e)},na),this.Vo=new Map,this.So=new Set,this.Do=new Ha(ao.comparator),this.Co=new Map,this.No=new Zc,this.xo={},this.ko=new Map,this.Fo=ac.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Af(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a,s;return c(this,function(u){switch(u.label){case 0:return n=rh(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Kc(n.localStore,ea(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Cf(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Ml(n.remoteStore,a),u.label=4;case 4:return[2,i]}})})}function Cf(e,t,n,r){return u(this,void 0,void 0,function(){var i,o,a,s,l,f;return c(this,function(h){switch(h.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return u(this,void 0,void 0,function(){var i,o,a;return c(this,function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Gc(e.localStore,t.query,!1).then(function(e){var n=e.documents;return t.view._o(n,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Bf(e,t.targetId,a.To),a.snapshot)]}})})}(e,t,n,r)},[4,Gc(e.localStore,t,!0)];case 1:return i=h.sent(),o=new If(t,i.Bn),a=o._o(i.documents),s=ss.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=o.applyChanges(a,e.isPrimaryClient,s),Bf(e,n,l.To),f=new Tf(t,n,o),[2,(e.Po.set(t,f),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),l.snapshot)]}})})}function xf(e,t){return u(this,void 0,void 0,function(){var n,r,i;return c(this,function(o){switch(o.label){case 0:return n=Oi(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(e){return!na(e,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Hc(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Fl(n.remoteStore,r.targetId),jf(n,r.targetId)}).catch(fc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return jf(n,r.targetId),[4,Hc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Rf(e,t,n){return u(this,void 0,void 0,function(){var r,i,o,a;return c(this,function(s){switch(s.label){case 0:r=ih(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Oi(e),i=Vi.now(),o=t.reduce(function(e,t){return e.add(t.key)},rs());return r.persistence.runTransaction("Locally write mutations","readwrite",function(e){return r.Mn.pn(e,o).next(function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=xa(c,n.get(c.key));null!=l&&a.push(new Pa(c.key,l,Eo(l.value.mapValue),Ta.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)})}).then(function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}})}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Ha(Mi)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Hf(r,i.changes)];case 3:return s.sent(),[4,Xl(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=sf(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Df(e,t){return u(this,void 0,void 0,function(){var n,r;return c(this,function(i){switch(i.label){case 0:n=Oi(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qc(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(e,t){var r=n.Co.get(t);r&&(Di(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Di(r.bo):e.removedDocuments.size>0&&(Di(r.bo),r.bo=!1))}),[4,Hf(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,fc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Of(e,t,n){var r=Oi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=Oi(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)}),r&&mf(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Pf(e,t,n){return u(this,void 0,void 0,function(){var r,i,o,a,s,u;return c(this,function(c){switch(c.label){case 0:return(r=Oi(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Ha(ao.comparator)).insert(o,Io.newNoDocument(o,ji.min())),s=rs().add(o),u=new as(ji.min(),new Map,new Qa(Mi),a,s),[4,Df(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Kf(r),[3,4];case 2:return[4,Hc(r.localStore,t,!1).then(function(){return jf(r,t,n)}).catch(fc)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Lf(e,t){return u(this,void 0,void 0,function(){var n,r,i;return c(this,function(o){switch(o.label){case 0:n=Oi(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Vc(n.localStore,t)];case 2:return i=o.sent(),Vf(n,r,null),Uf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Hf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,fc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Mf(e,t,n){return u(this,void 0,void 0,function(){var r,i;return c(this,function(o){switch(o.label){case 0:r=Oi(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Oi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n._n.lookupMutationBatch(e,t).next(function(t){return Di(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}(r.localStore,t)];case 2:return i=o.sent(),Vf(r,t,n),Uf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Hf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,fc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Ff(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a;return c(this,function(s){switch(s.label){case 0:Bl((n=Oi(e)).remoteStore)||Ni("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Oi(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t._n.getHighestUnacknowledgedBatchId(e)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=s.sent(),a=sf(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Uf(e,t){(e.ko.get(t)||[]).forEach(function(e){e.resolve()}),e.ko.delete(t)}function Vf(e,t,n){var r=Oi(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function jf(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(t){e.No.containsKey(t)||qf(e,t)})}function qf(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Fl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Kf(e))}function Bf(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Sf?(e.No.addReference(o.key,t),zf(e,o)):o instanceof Ef?(Ni("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||qf(e,o.key)):Ri()}}function zf(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Ni("SyncEngine","New document in limbo: "+n),e.So.add(r),Kf(e))}function Kf(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ao(Hi.fromString(t)),r=e.Fo.next();e.Co.set(r,new kf(n)),e.Do=e.Do.insert(n,r),Ml(e.remoteStore,new Du(ea(Wo(n.path)),r,2,Si.o))}}function Hf(e,t,n){return u(this,void 0,void 0,function(){var r,i,o,a;return c(this,function(s){switch(s.label){case 0:return r=Oi(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(e,s){a.push(r.Oo(s,t,n).then(function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Pc.Pn(s.targetId,e);o.push(t)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,f;return c(this,function(c){switch(c.label){case 0:n=Oi(e),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return yu.forEach(t,function(t){return yu.forEach(t.bn,function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)}).next(function(){return yu.forEach(t.vn,function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)})})})})];case 2:return c.sent(),[3,4];case 3:if(!Eu(r=c.sent()))throw r;return Ni("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.kn.get(s),l=u.snapshotVersion,f=u.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(s,f));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Gf(e,t){return u(this,void 0,void 0,function(){var n,r;return c(this,function(i){switch(i.label){case 0:return(n=Oi(e)).currentUser.isEqual(t)?[3,3]:(Ni("SyncEngine","User change. New user:",t.toKey()),[4,Uc(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e){e.ko.forEach(function(e){e.forEach(function(e){e.reject(new Ii(Ei.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Hf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Wf(e,t){var n=Oi(e),r=n.Co.get(t);if(r&&r.bo)return rs().add(r.key);var i=rs(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Qf(e,t){return u(this,void 0,void 0,function(){var n,r,i;return c(this,function(o){switch(o.label){case 0:return[4,Gc((n=Oi(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Bf(n,t.targetId,i.To),i)]}})})}function Xf(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){return[2,Qc((t=Oi(e)).localStore).then(function(e){return Hf(t,e)})]})})}function $f(e,t,n,r){return u(this,void 0,void 0,function(){var i,o;return c(this,function(a){switch(a.label){case 0:return[4,function(e,t){var n=Oi(e),r=Oi(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.jt(e,t).next(function(t){return t?n.Mn.pn(e,t):yu.resolve(null)})})}((i=Oi(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Xl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Vf(i,t,r||null),Uf(i,t),function(e,t){Oi(Oi(e)._n).Gt(t)}(i.localStore,t)):Ri(),a.label=4;case 4:return[4,Hf(i,o)];case 5:return a.sent(),[3,7];case 6:Ni("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function Yf(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l;return c(this,function(c){switch(c.label){case 0:return rh(n=Oi(e)),ih(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Jf(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,nf(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)s=a[o],Ml(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],l=Promise.resolve(),n.Vo.forEach(function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):l=l.then(function(){return jf(n,t),Hc(n.localStore,t,!0)}),Fl(n.remoteStore,t)}),[4,l]);case 4:return c.sent(),[4,Jf(n,u)];case 5:return c.sent(),function(e){var t=Oi(e);t.Co.forEach(function(e,n){Fl(t.remoteStore,n)}),t.No.ts(),t.Co=new Map,t.Do=new Ha(ao.comparator)}(n),n.$o=!1,[4,nf(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Jf(e,t,n){return u(this,void 0,void 0,function(){var n,r,i,o,a,s,u,l,f,h,d,p,v,g;return c(this,function(c){switch(c.label){case 0:n=Oi(e),r=[],i=[],o=0,a=t,c.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(l=n.Vo.get(s))&&0!==l.length?[4,Kc(n.localStore,ea(l[0]))]:[3,7]):[3,13];case 2:u=c.sent(),f=0,h=l,c.label=3;case 3:return f<h.length?(d=h[f],p=n.Po.get(d),[4,Qf(n,p)]):[3,6];case 4:(v=c.sent()).snapshot&&i.push(v.snapshot),c.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Wc(n.localStore,s)];case 8:return g=c.sent(),[4,Kc(n.localStore,g)];case 9:return u=c.sent(),[4,Cf(n,Zf(g),s,!1)];case 10:c.sent(),c.label=11;case 11:r.push(u),c.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Zf(e){return Go(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function eh(e){var t=Oi(e);return Oi(Oi(t.localStore).persistence).fn()}function th(e,t,n,r){return u(this,void 0,void 0,function(){var i,o,a;return c(this,function(s){switch(s.label){case 0:return(i=Oi(e)).$o?(Ni("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Qc(i.localStore)];case 3:return o=s.sent(),a=as.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Hf(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Hc(i.localStore,t,!0)];case 6:return s.sent(),jf(i,t,r),[3,8];case 7:Ri(),s.label=8;case 8:return[2]}})})}function nh(e,t,n){return u(this,void 0,void 0,function(){var r,i,o,a,s,u,l,f,h,d;return c(this,function(p){switch(p.label){case 0:if(!(r=rh(e)).$o)return[3,10];i=0,o=t,p.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(Ni("SyncEngine","Adding an already active target "+a),[3,5]):[4,Wc(r.localStore,a)]):[3,6];case 2:return s=p.sent(),[4,Kc(r.localStore,s)];case 3:return u=p.sent(),[4,Cf(r,Zf(s),u.targetId,!1)];case 4:p.sent(),Ml(r.remoteStore,u),p.label=5;case 5:return i++,[3,1];case 6:l=function(e){return c(this,function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Hc(r.localStore,e,!1).then(function(){Fl(r.remoteStore,e),jf(r,e)}).catch(fc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},f=0,h=n,p.label=7;case 7:return f<h.length?(d=h[f],[5,l(d)]):[3,10];case 8:p.sent(),p.label=9;case 9:return f++,[3,7];case 10:return[2]}})})}function rh(e){var t=Oi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Df.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pf.bind(null,t),t.vo._r=vf.bind(null,t.eventManager),t.vo.Mo=gf.bind(null,t.eventManager),t}function ih(e){var t=Oi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mf.bind(null,t),t}var oh=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return u(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.R=kl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Fc(this.persistence,new Lc,e.initialUser,this.R)},e.prototype.qo=function(e){return new ol(sl.bs,this.R)},e.prototype.Bo=function(e){return new yl},e.prototype.terminate=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},e}(),ah=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return a(t,e),t.prototype.initialize=function(t){return u(this,void 0,void 0,function(){var n=this;return c(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,Xc(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,ih(this.Qo.syncEngine)];case 4:return r.sent(),[4,Xl(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},t.prototype.Ko=function(e){return Fc(this.persistence,new Lc,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new pc(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Rc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ju.withCacheSize(this.cacheSizeBytes):Ju.DEFAULT;return new Ac(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Il(),Tl(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new yl},t}(oh),sh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return a(t,e),t.prototype.initialize=function(t){return u(this,void 0,void 0,function(){var n,r=this;return c(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof ml?(this.sharedClientState.syncEngine={ui:$f.bind(null,n),ai:th.bind(null,n),hi:nh.bind(null,n),fn:eh.bind(null,n),ci:Xf.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(e){return u(r,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,Yf(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},t.prototype.Bo=function(e){var t=Il();if(!ml.yt(t))throw new Ii(Ei.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Rc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ml(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(ah),uh=function(){function e(){}return e.prototype.initialize=function(e,t){return u(this,void 0,void 0,function(){var n=this;return c(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Of(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Gf.bind(null,this.syncEngine),[4,nf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(e){return new hf},e.prototype.createDatastore=function(e){var t,n=kl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new El(t));return function(e,t,n){return new Rl(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Of(a.syncEngine,e,0)},o=wl.yt()?new wl:new bl,new Ol(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Nf(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return t=Oi(e),Ni("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Ll(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();var ch=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),lh=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new mu,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))},function(e){return n.metadata.reject(e)})}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return u(this,void 0,void 0,function(){var e,t,n,r;return c(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new bf(JSON.parse(r),e.length+n)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},e.prototype.Jo=function(){return u(this,void 0,void 0,function(){var e,t;return c(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},e.prototype.Xo=function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return u(this,void 0,void 0,function(){var e,t;return c(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return u(this,void 0,void 0,function(){var t,n=this;return c(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ii(Ei.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return u(this,void 0,void 0,function(){var n,r,i,o,a,s;return c(this,function(u){switch(u.label){case 0:return n=Oi(e),r=As(n.R)+"/documents",i={documents:t.map(function(e){return Is(n.R,e)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(e){var t=function(e,t){return"found"in t?function(e,t){Di(!!t.found),t.found.name,t.found.updateTime;var n=Ts(e,t.found.name),r=_s(t.found.updateTime),i=new So({mapValue:{fields:t.found.fields}});return Io.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Di(!!t.missing),Di(!!t.readTime);var n=Ts(e,t.missing),r=_s(t.readTime);return Io.newNoDocument(n,r)}(e,t):Ri()}(n.R,e);a.set(t.key.toString(),t)}),s=[],[2,(t.forEach(function(e){var t=a.get(e.toString());Di(!!t),s.push(t)}),s)]}})})}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach(function(e){return n.recordVersion(e)}),t)]}})})},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new ja(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return u(this,void 0,void 0,function(){var e,t=this;return c(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(e,n){var r=ao.fromPath(n);t.mutations.push(new qa(r,t.precondition(r)))}),[4,function(e,t){return u(this,void 0,void 0,function(){var n,r,i;return c(this,function(o){switch(o.label){case 0:return n=Oi(e),r=As(n.R)+"/documents",i={writes:t.map(function(e){return Ds(n.R,e)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ri();t=ji.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ii(Ei.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ta.updateTime(t):Ta.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ji.min()))throw new Ii(Ei.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ta.updateTime(t)}return Ta.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),fh=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Nl(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji(function(){return u(e,void 0,void 0,function(){var e,t,n=this;return c(this,function(r){return e=new lh(this.datastore),(t=this.sc(e))&&t.then(function(t){n.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){n.deferred.resolve(t)}).catch(function(e){n.ic(e)})})}).catch(function(e){n.ic(e)}),[2]})})})},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!ro(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!za(t)}return!1},e}(),hh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=ul.UNAUTHENTICATED,this.clientId=Li.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(e){return u(r,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return Ni("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}})})})}return e.prototype.getConfiguration=function(){return u(this,void 0,void 0,function(){return c(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ii(Ei.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new mu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return u(e,void 0,void 0,function(){var e,n;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=sf(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}})})}),t.promise},e}();function dh(e,t){return u(this,void 0,void 0,function(){var n,r,i=this;return c(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Ni("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(e){return u(i,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Uc(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function ph(e,t){return u(this,void 0,void 0,function(){var n,r;return c(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,vh(e)];case 1:return n=i.sent(),Ni("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(e){return function(e,t){return u(this,void 0,void 0,function(){var n,r;return c(this,function(i){switch(i.label){case 0:return(n=Oi(e)).asyncQueue.verifyOperationInProgress(),Ni("RemoteStore","RemoteStore received new credentials"),r=Bl(n),n.Or.add(3),[4,Ll(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Pl(n)];case 3:return i.sent(),[2]}})})}(t.remoteStore,e)}),e.onlineComponents=t,[2]}})})}function vh(e){return u(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Ni("FirestoreClient","Using default OfflineComponentProvider"),[4,dh(e,new oh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function gh(e){return u(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Ni("FirestoreClient","Using default OnlineComponentProvider"),[4,ph(e,new uh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function mh(e){return vh(e).then(function(e){return e.persistence})}function yh(e){return vh(e).then(function(e){return e.localStore})}function bh(e){return gh(e).then(function(e){return e.remoteStore})}function wh(e){return gh(e).then(function(e){return e.syncEngine})}function _h(e){return u(this,void 0,void 0,function(){var t,n;return c(this,function(r){switch(r.label){case 0:return[4,gh(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Af.bind(null,t.syncEngine),n.onUnlisten=xf.bind(null,t.syncEngine),n)]}})})}function Sh(e,t,n){var r=this;void 0===n&&(n={});var i=new mu;return e.asyncQueue.enqueueAndForget(function(){return u(r,void 0,void 0,function(){var r;return c(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new ch({next:function(o){t.enqueueAndForget(function(){return pf(e,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Ii(Ei.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Ii(Ei.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new yf(Wo(n.path),o,{includeMetadataChanges:!0,so:!0});return df(e,a)},[4,_h(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function Eh(e,t,n){var r=this;void 0===n&&(n={});var i=new mu;return e.asyncQueue.enqueueAndForget(function(){return u(r,void 0,void 0,function(){var r;return c(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new ch({next:function(n){t.enqueueAndForget(function(){return pf(e,a)}),n.fromCache&&"server"===r.source?i.reject(new Ii(Ei.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new yf(n,o,{includeMetadataChanges:!0,so:!0});return df(e,a)},[4,_h(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var Ih=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Th=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),kh=new Map,Nh=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Ah=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(ul.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Ch=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),xh=function(){function e(e){var t=this;this.currentUser=ul.UNAUTHENTICATED,this.oc=new mu,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var n=function(e){Ni("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(e){return n(e)}),setTimeout(function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Ni("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.cc!==t?(Ni("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Di("string"==typeof n.accessToken),new Nh(n.accessToken,e.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return u(n,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Di(null===e||"string"==typeof e),new ul(e)},e}(),Rh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=ul.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Dh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Rh(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(ul.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Oh(e,t,n){if(!n)throw new Ii(Ei.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Ph(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ii(Ei.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Lh(e,t,n,r){if(!0===t&&!0===r)throw new Ii(Ei.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Mh(e){if(!ao.isDocumentKey(e))throw new Ii(Ei.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Fh(e){if(ao.isDocumentKey(e))throw new Ii(Ei.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Uh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Ri()}function Vh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ii(Ei.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Uh(e);throw new Ii(Ei.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function jh(e,t){if(t<=0)throw new Ii(Ei.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var qh=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ii(Ei.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ii(Ei.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Lh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Bh=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qh({}),this._settingsFrozen=!1,e instanceof Th?(this._databaseId=e,this._credentials=new Ah):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ii(Ei.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Th(e.options.projectId)}(e),this._credentials=new xh(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Ii(Ei.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Ii(Ei.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qh(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Ah;switch(e.type){case"gapi":var t=e.client;return Di(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Dh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ii(Ei.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=kh.get(this))&&(Ni("ComponentProvider","Removing Datastore"),kh.delete(this),e.terminate()),Promise.resolve();var e},e}(),zh=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Hh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Kh=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Hh=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Wo(r))||this)._path=r,i.type="collection",i}return a(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new zh(this.firestore,null,new ao(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Kh);function Gh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=C(e),Oh("collection","path",t),e instanceof Bh)return Fh(n=Hi.fromString.apply(Hi,h([t],r))),new Hh(e,null,n);if(!(e instanceof zh||e instanceof Hh))throw new Ii(Ei.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Fh(n=Hi.fromString.apply(Hi,h([e.path],r)).child(Hi.fromString(t))),new Hh(e.firestore,null,n)}function Wh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=C(e),1===arguments.length&&(t=Li.u()),Oh("doc","path",t),e instanceof Bh)return Mh(n=Hi.fromString.apply(Hi,h([t],r))),new zh(e,null,new ao(n));if(!(e instanceof zh||e instanceof Hh))throw new Ii(Ei.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Mh(n=e._path.child(Hi.fromString.apply(Hi,h([t],r)))),new zh(e.firestore,e instanceof Hh?e.converter:null,new ao(n))}function Qh(e,t){return e=C(e),t=C(t),(e instanceof zh||e instanceof Hh)&&(t instanceof zh||t instanceof Hh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Xh(e,t){return e=C(e),t=C(t),e instanceof Kh&&t instanceof Kh&&e.firestore===t.firestore&&na(e._query,t._query)&&e.converter===t.converter}var $h=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Nl(this,"async_queue_retry"),this.Ic=function(){var t=Tl();t&&Ni("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Tl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Tl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new mu;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},e.prototype.bc=function(){return u(this,void 0,void 0,function(){var e,t=this;return c(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Eu(e=n.sent()))throw e;return Ni("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),n.label=5;case 5:return[2]}})})},e.prototype.Rc=function(e){var t=this,n=this.dc.then(function(){return t.gc=!0,e().catch(function(e){throw t.yc=e,t.gc=!1,Ai("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.gc=!1,e})});return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=af.createAndSchedule(this,e,t,n,function(e){return r.vc(e)});return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Ri()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return u(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()})},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function Yh(e){return function(e){if("object"!=typeof e||null===e)return!1;for(var t=e,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new mu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var Jh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new $h,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return a(t,e),t.prototype._terminate=function(){return this._firestoreClient||ed(this),this._firestoreClient.terminate()},t}(Bh);function Zh(e){return e._firestoreClient||ed(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ed(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ih(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new hh(e._credentials,e._queue,r)}function td(e,t,n){var r=this,i=new mu;return e.asyncQueue.enqueue(function(){return u(r,void 0,void 0,function(){var r;return c(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,dh(e,n)];case 1:return o.sent(),[4,ph(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Ei.FAILED_PRECONDITION||e.code===Ei.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function nd(e){if(e._initialized||e._terminated)throw new Ii(Ei.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var rd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Ii(Ei.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wi(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),id=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Xi.fromBase64String(t))}catch(t){throw new Ii(Ei.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Xi.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),od=function(e){this._methodName=e},ad=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ii(Ei.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ii(Ei.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Mi(this._lat,e._lat)||Mi(this._long,e._long)},e}(),sd=/^__.*__$/,ud=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oa(e,this.data,t,this.fieldTransforms)},e}(),cd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function ld(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ri()}}var fd=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return Rd(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(ld(this.Nc)&&sd.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),hd=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||kl(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new fd({Nc:e,methodName:t,qc:n,path:Wi.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function dd(e){var t=e._freezeSettings(),n=kl(e._databaseId);return new hd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pd(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Nd("Data must be an object, but it was:",a,r);var s,u,c=Td(r,a);if(o.merge)s=new Qi(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Ad(t,h[f],n);if(!a.contains(d))throw new Ii(Ei.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Dd(l,d)||l.push(d)}s=new Qi(l),u=a.fieldTransforms.filter(function(e){return s.covers(e.field)})}else s=null,u=a.fieldTransforms;return new ud(new So(c),s,u)}var vd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(od);function gd(e,t,n){return new fd({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var md=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._toFieldTransform=function(e){return new Ea(e.path,new va)},t.prototype.isEqual=function(e){return e instanceof t},t}(od),yd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return a(t,e),t.prototype._toFieldTransform=function(e){var t=gd(this,e,!0),n=this.Kc.map(function(e){return Id(e,t)}),r=new ga(n);return new Ea(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(od),bd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return a(t,e),t.prototype._toFieldTransform=function(e){var t=gd(this,e,!0),n=this.Kc.map(function(e){return Id(e,t)}),r=new ya(n);return new Ea(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(od),wd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return a(t,e),t.prototype._toFieldTransform=function(e){var t=new wa(e.R,la(e.R,this.Qc));return new Ea(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(od);function _d(e,t,n,r){var i=e.Uc(1,t,n);Nd("Data must be an object, but it was:",i,r);var o=[],a=So.empty();Bi(r,function(e,r){var s=xd(t,e,n);r=C(r);var u=i.Oc(s);if(r instanceof vd)o.push(s);else{var c=Id(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new Qi(o);return new cd(a,s,i.fieldTransforms)}function Sd(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[Ad(t,r,n)],u=[i];if(o.length%2!=0)throw new Ii(Ei.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Ad(t,o[c])),u.push(o[c+1]);for(var l=[],f=So.empty(),h=s.length-1;h>=0;--h)if(!Dd(l,s[h])){var d=s[h],p=u[h];p=C(p);var v=a.Oc(d);if(p instanceof vd)l.push(d);else{var g=Id(p,v);null!=g&&(l.push(d),f.set(d,g))}}var m=new Qi(l);return new cd(f,m,a.fieldTransforms)}function Ed(e,t,n,r){return void 0===r&&(r=!1),Id(n,e.Uc(r?4:3,t))}function Id(e,t){if(kd(e=C(e)))return Nd("Unsupported field value:",t,e),Td(e,t);if(e instanceof od)return function(e,t){if(!ld(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Id(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=C(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return la(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Vi.fromDate(e);return{timestampValue:ys(t.R,n)}}if(e instanceof Vi)return n=new Vi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:ys(t.R,n)};if(e instanceof ad)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof id)return{bytesValue:bs(t.R,e._byteString)};if(e instanceof zh){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ss(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Uh(e))}(e,t)}function Td(e,t){var n={};return zi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bi(e,function(e,r){var i=Id(r,t.kc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function kd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vi||e instanceof ad||e instanceof id||e instanceof zh||e instanceof od)}function Nd(e,t,n){if(!kd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Uh(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Ad(e,t,n){if((t=C(t))instanceof rd)return t._internalPath;if("string"==typeof t)return xd(e,t);throw Rd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Cd=new RegExp("[~\\*/\\[\\]]");function xd(e,t,n){if(t.search(Cd)>=0)throw Rd("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(rd.bind.apply(rd,h([void 0],t.split(".")))))._internalPath}catch(Pp){throw Rd("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Rd(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Ii(Ei.INVALID_ARGUMENT,(s+=". ")+e+u)}function Dd(e,t){return e.some(function(e){return e.isEqual(t)})}var Od=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new zh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Pd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Ld("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Pd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Od);function Ld(e,t){return"string"==typeof t?xd(e,t):t instanceof rd?t._internalPath:t._delegate._internalPath}var Md=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Fd=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return a(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Ld("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Od),Ud=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Fd),Vd=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Md(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new Ud(n._firestore,n._userDataWriter,r.key,r,new Md(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ii(Ei.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new Ud(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Md(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new Ud(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Md(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:jd(t.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function jd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ri()}}function qd(e,t){return e instanceof Fd&&t instanceof Fd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Vd&&t instanceof Vd&&e._firestore===t._firestore&&Xh(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Bd(e){if(Xo(e)&&0===e.explicitOrderBy.length)throw new Ii(Ei.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zd=function(){};function Kd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}var Hd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return a(t,e),t.prototype._apply=function(e){var t=dd(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ii(Ei.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Jd(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(Yd(r,e,f))}s={arrayValue:{values:u}}}else s=Yd(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Jd(a,o),s=Ed(n,"where",a,"in"===o||"not-in"===o);var h=xo.create(i,o,s);return function(e,t){if(t.g()){var n=Yo(e);if(null!==n&&!n.isEqual(t.field))throw new Ii(Ei.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=$o(e);null!==r&&Zd(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ii(Ei.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Ii(Ei.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Kh(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ho(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(zd),Gd=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return a(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ii(Ei.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ii(Ei.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qo(t,n);return function(e,t){if(null===$o(e)){var n=Yo(e);null!==n&&Zd(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Kh(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ho(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(zd),Wd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return a(t,e),t.prototype._apply=function(e){return new Kh(e.firestore,e.converter,ta(e._query,this.Hc,this.Jc))},t}(zd),Qd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return a(t,e),t.prototype._apply=function(e){var t=$d(e,this.type,this.Yc,this.Xc);return new Kh(e.firestore,e.converter,function(e,t){return new Ho(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(zd),Xd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return a(t,e),t.prototype._apply=function(e){var t=$d(e,this.type,this.Yc,this.Xc);return new Kh(e.firestore,e.converter,function(e,t){return new Ho(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(zd);function $d(e,t,n,r){if(n[0]=C(n[0]),n[0]instanceof Od)return function(e,t,n,r,i){if(!r)throw new Ii(Ei.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Zo(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(vo(t,r.key));else{var c=r.data.field(u.field);if(eo(c))throw new Ii(Ei.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ii(Ei.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Vo(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=dd(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Ii(Ei.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Ii(Ei.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Jo(e)&&-1!==c.indexOf("/"))throw new Ii(Ei.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Hi.fromString(c));if(!ao.isDocumentKey(l))throw new Ii(Ei.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new ao(l);s.push(vo(t,f))}else{var h=Ed(n,r,c);s.push(h)}}return new Vo(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Yd(e,t,n){if("string"==typeof(n=C(n))){if(""===n)throw new Ii(Ei.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jo(t)&&-1!==n.indexOf("/"))throw new Ii(Ei.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Hi.fromString(n));if(!ao.isDocumentKey(r))throw new Ii(Ei.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return vo(e,new ao(r))}if(n instanceof zh)return vo(e,n._key);throw new Ii(Ei.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Uh(n)+".")}function Jd(e,t){if(!Array.isArray(e)||0===e.length)throw new Ii(Ei.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Ii(Ei.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Zd(e,t,n){if(!n.isEqual(t))throw new Ii(Ei.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ep=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ji(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ri()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Bi(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertGeoPoint=function(e){return new ad(Ji(e.latitude),Ji(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=to(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(no(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Yi(e);return new Vi(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Hi.fromString(e);Di(Ws(n));var r=new Th(n.get(1),n.get(3)),i=new ao(n.popFirst(5));return r.isEqual(t)||Ai("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function tp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var np=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return a(t,e),t.prototype.convertBytes=function(e){return new id(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zh(this.firestore,null,t)},t}(ep),rp=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dd(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=ip(e,this._firestore),i=tp(r.converter,t,n),o=pd(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ta.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=ip(e,this._firestore);return o="string"==typeof(t=C(t))||t instanceof rd?Sd(this._dataReader,"WriteBatch.update",a._key,t,n,r):_d(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Ta.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=ip(e,this._firestore);return this._mutations=this._mutations.concat(new ja(t._key,Ta.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ii(Ei.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function ip(e,t){if((e=C(e)).firestore!==t)throw new Ii(Ei.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var op=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return a(t,e),t.prototype.convertBytes=function(e){return new id(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zh(this.firestore,null,t)},t}(ep);function ap(e,t,n){e=Vh(e,zh);var r=Vh(e.firestore,Jh),i=tp(e.converter,t,n);return cp(r,[pd(dd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ta.none())])}function sp(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Vh(e,zh);var o=Vh(e.firestore,Jh),a=dd(o);return cp(o,[("string"==typeof(t=C(t))||t instanceof rd?Sd(a,"updateDoc",e._key,t,n,r):_d(a,"updateDoc",e._key,t)).toMutation(e._key,Ta.exists(!0))])}function up(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=C(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Yh(i[s])||(a=i[s],s++);var l,f,h,d={includeMetadataChanges:a.includeMetadataChanges};if(Yh(i[s])){var p=i[s];i[s]=null===(t=p.next)||void 0===t?void 0:t.bind(p),i[s+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),i[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(e instanceof zh)f=Vh(e.firestore,Jh),h=Wo(e._key.path),l={next:function(t){i[s]&&i[s](lp(f,e,t))},error:i[s+1],complete:i[s+2]};else{var v=Vh(e,Kh);f=Vh(v.firestore,Jh),h=v._query;var g=new op(f);l={next:function(e){i[s]&&i[s](new Vd(f,g,v,e))},error:i[s+1],complete:i[s+2]},Bd(e._query)}return function(e,t,n,r){var i=this,o=new ch(r),a=new yf(t,o,n);return e.asyncQueue.enqueueAndForget(function(){return u(i,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return t=df,[4,_h(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),e.asyncQueue.enqueueAndForget(function(){return u(i,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return t=pf,[4,_h(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}})})})}}(Zh(f),h,d,l)}function cp(e,t){return function(e,t){var n=this,r=new mu;return e.asyncQueue.enqueueAndForget(function(){return u(n,void 0,void 0,function(){var n;return c(this,function(i){switch(i.label){case 0:return n=Rf,[4,wh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(Zh(e),t)}function lp(e,t,n){var r=n.docs.get(t._key),i=new op(e);return new Fd(e,i,t._key,r,new Md(n.hasPendingWrites,n.fromCache),t.converter)}var fp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return a(t,e),t.prototype.get=function(t){var n=this,r=ip(t,this._firestore),i=new op(this._firestore);return e.prototype.get.call(this,t).then(function(e){return new Fd(n._firestore,i,r._key,e._document,new Md(!1,!1),r.converter)})},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=dd(e)}return e.prototype.get=function(e){var t=this,n=ip(e,this._firestore),r=new np(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return Ri();var i=e[0];if(i.isFoundDocument())return new Od(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Od(t._firestore,r,n._key,null,n.converter);throw Ri()})},e.prototype.set=function(e,t,n){var r=ip(e,this._firestore),i=tp(r.converter,t,n),o=pd(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=ip(e,this._firestore);return o="string"==typeof(t=C(t))||t instanceof rd?Sd(this._dataReader,"Transaction.update",a._key,t,n,r):_d(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=ip(e,this._firestore);return this._transaction.delete(t._key),this},e}());function hp(){if("undefined"==typeof Uint8Array)throw new Ii(Ei.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function dp(){if("undefined"==typeof atob)throw new Ii(Ei.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var pp=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return dp(),new e(id.fromBase64String(t))},e.fromUint8Array=function(t){return hp(),new e(id.fromUint8Array(t))},e.prototype.toBase64=function(){return dp(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return hp(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),vp=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){nd(e=Vh(e,Jh));var n=Zh(e),r=e._freezeSettings(),i=new uh;return td(n,i,new ah(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){nd(e=Vh(e,Jh));var t=Zh(e),n=e._freezeSettings(),r=new uh;return td(t,r,new sh(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Ii(Ei.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new mu;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return u(t,void 0,void 0,function(){var t;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return wu.yt()?(t=e+"main",[4,wu.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(Rc(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise}(e._delegate)},e}(),gp=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Th||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ci("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=Vh(e,Bh))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Ci("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,s;if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=ul.MOCK_USER;else{a=b(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ii(Ei.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new ul(u)}e._credentials=new Ch(new Nh(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return u(t,void 0,void 0,function(){var t,n;return c(this,function(r){switch(r.label){case 0:return[4,mh(e)];case 1:return t=r.sent(),[4,bh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Oi(e);return t.Or.delete(0),Pl(t)}(n))]}})})})}(Zh(Vh(this._delegate,Jh)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return u(t,void 0,void 0,function(){var t,n;return c(this,function(r){switch(r.label){case 0:return[4,mh(e)];case 1:return t=r.sent(),[4,bh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return(t=Oi(e)).Or.add(0),[4,Ll(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}})})}(n))]}})})})}(Zh(Vh(this._delegate,Jh)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Lh("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new mu;return e.asyncQueue.enqueueAndForget(function(){return u(t,void 0,void 0,function(){var t;return c(this,function(r){switch(r.label){case 0:return t=Ff,[4,wh(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Zh(Vh(this._delegate,Jh)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new ch(t);return e.asyncQueue.enqueueAndForget(function(){return u(n,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return t=function(e,t){Oi(e).Gr.add(t),t.next()},[4,_h(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),e.asyncQueue.enqueueAndForget(function(){return u(n,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return t=function(e,t){Oi(e).Gr.delete(t)},[4,_h(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})})}}(Zh(e=Vh(e,Jh)),Yh(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Ii(Ei.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new xp(this,Gh(this._delegate,e))}catch(e){throw Sp(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new _p(this,Wh(this._delegate,e))}catch(e){throw Sp(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Np(this,function(e,t){if(e=Vh(e,Bh),Oh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ii(Ei.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Kh(e,null,function(e){return new Ho(Hi.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Sp(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new mu;return e.asyncQueue.enqueueAndForget(function(){return u(n,void 0,void 0,function(){var n;return c(this,function(i){switch(i.label){case 0:return[4,function(e){return gh(e).then(function(e){return e.datastore})}(e)];case 1:return n=i.sent(),new fh(e.asyncQueue,n,t,r).run(),[2]}})})}),r.promise}(Zh(e),function(n){return t(new fp(e,n))})}(this._delegate,function(n){return e(new yp(t,n))})},e.prototype.batch=function(){var e=this;return Zh(this._delegate),new bp(new rp(this._delegate,function(t){return cp(e._delegate,t)}))},e.prototype.loadBundle=function(e){throw new Ii(Ei.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Ii(Ei.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),mp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return a(t,e),t.prototype.convertBytes=function(e){return new pp(new id(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return _p.eu(t,this.firestore,null)},t}(ep);var yp=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mp(e)}return e.prototype.get=function(e){var t=this,n=Rp(e);return this._delegate.get(n).then(function(e){return new Tp(t._firestore,new Fd(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})},e.prototype.set=function(e,t,n){var r=Rp(e);return n?(Ph("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Rp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,h([a,t,n],i)),this},e.prototype.delete=function(e){var t=Rp(e);return this._delegate.delete(t),this},e}(),bp=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Rp(e);return n?(Ph("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Rp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,h([a,t,n],i)),this},e.prototype.delete=function(e){var t=Rp(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),wp=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Ud(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new kp(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new mp(t),n),i.set(n,o)),o},e}();wp.su=new WeakMap;var _p=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mp(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Ii(Ei.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new zh(n._delegate,r,new ao(t)))},e.eu=function(t,n,r){return new e(n,new zh(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new xp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new xp(this.firestore,Gh(this._delegate,e))}catch(e){throw Sp(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=C(e))instanceof zh&&Qh(this._delegate,e)},e.prototype.set=function(e,t){t=Ph("DocumentReference.set",t);try{return t?ap(this._delegate,e,t):ap(this._delegate,e)}catch(e){throw Sp(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?sp(this._delegate,e):sp.apply(void 0,h([this._delegate,e,t],n))}catch(e){throw Sp(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return cp(Vh((e=this._delegate).firestore,Jh),[new ja(e._key,Ta.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ep(t),i=Ip(t,function(t){return new Tp(e.firestore,new Fd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return up(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Vh(e,zh);var t=Vh(e.firestore,Jh),n=Zh(t),r=new op(t);return function(e,t){var n=this,r=new mu;return e.asyncQueue.enqueueAndForget(function(){return u(n,void 0,void 0,function(){var n;return c(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return u(this,void 0,void 0,function(){var r,i;return c(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Oi(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.Mn.mn(e,t)})}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ii(Ei.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=sf(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,yh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(n,e._key).then(function(n){return new Fd(t,r,e._key,n,new Md(null!==n&&n.hasLocalMutations,!0),e.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Vh(e,zh);var t=Vh(e.firestore,Jh);return Sh(Zh(t),e._key,{source:"server"}).then(function(n){return lp(t,e,n)})}(this._delegate):function(e){e=Vh(e,zh);var t=Vh(e.firestore,Jh);return Sh(Zh(t),e._key).then(function(n){return lp(t,e,n)})}(this._delegate)).then(function(e){return new Tp(t.firestore,new Fd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(wp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Sp(e,t,n){return e.message=e.message.replace(t,n),e}function Ep(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Yh(r))return r}return{}}function Ip(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Yh(e[0])?e[0]:Yh(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Tp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new _p(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return qd(this._delegate,e._delegate)},e}(),kp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Tp),Np=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mp(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Kd(this._delegate,function(e,t,n){var r=t,i=Ld("where",e);return new Hd(i,r,n)}(t,n,r)))}catch(t){throw Sp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Kd(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Ld("orderBy",e);return new Gd(r,n)}(t,n)))}catch(t){throw Sp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Kd(this._delegate,function(e){return jh("limit",e),new Wd("limit",e,"F")}(t)))}catch(t){throw Sp(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Kd(this._delegate,function(e){return jh("limitToLast",e),new Wd("limitToLast",e,"L")}(t)))}catch(t){throw Sp(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Kd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Qd("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Sp(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Kd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Qd("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Sp(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Kd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xd("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Sp(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Kd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xd("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Sp(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Xh(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Vh(e,Kh);var t=Vh(e.firestore,Jh),n=Zh(t),r=new op(t);return function(e,t){var n=this,r=new mu;return e.asyncQueue.enqueueAndForget(function(){return u(n,void 0,void 0,function(){var n;return c(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return u(this,void 0,void 0,function(){var r,i,o,a,s;return c(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Gc(e,t,!0)];case 1:return s=u.sent(),r=new If(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=sf(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,yh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(n,e._query).then(function(n){return new Vd(t,r,e,n)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Vh(e,Kh);var t=Vh(e.firestore,Jh),n=Zh(t),r=new op(t);return Eh(n,e._query,{source:"server"}).then(function(n){return new Vd(t,r,e,n)})}(this._delegate):function(e){e=Vh(e,Kh);var t=Vh(e.firestore,Jh),n=Zh(t),r=new op(t);return Bd(e._query),Eh(n,e._query).then(function(n){return new Vd(t,r,e,n)})}(this._delegate)).then(function(e){return new Cp(t.firestore,new Vd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ep(t),i=Ip(t,function(t){return new Cp(e.firestore,new Vd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return up(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(wp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Ap=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new kp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Cp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Np(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new kp(e._firestore,t)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new Ap(t._firestore,e)})},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new kp(n._firestore,r))})},e.prototype.isEqual=function(e){return qd(this._delegate,e._delegate)},e}(),xp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return a(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new _p(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new _p(this.firestore,void 0===e?Wh(this._delegate):Wh(this._delegate,e))}catch(e){throw Sp(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Vh(e.firestore,Jh),r=Wh(e),i=tp(e.converter,t);return cp(n,[pd(dd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ta.exists(!1))]).then(function(){return r})}(this._delegate,e).then(function(e){return new _p(t.firestore,e)})},t.prototype.isEqual=function(e){return Qh(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(wp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Np);function Rp(e){return Vh(e,zh)}var Dp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(rd.bind.apply(rd,h([void 0],e)))}return e.documentId=function(){return new e(Wi.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=C(e))instanceof rd&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Op=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new md("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new vd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new yd("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new bd("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new wd("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var Pp,Lp={Firestore:gp,GeoPoint:ad,Timestamp:Vi,Blob:pp,Transaction:yp,WriteBatch:bp,DocumentReference:_p,DocumentSnapshot:Tp,Query:Np,QueryDocumentSnapshot:kp,QuerySnapshot:Cp,CollectionReference:xp,FieldPath:Dp,FieldValue:Op,setLogLevel:function(e){var t;t=e,Ti.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e){e.INTERNAL.registerComponent(new x("firestore",function(e){return function(e,t){return new gp(e,new Jh(e,t),new vp)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Lp)))})(Pp=oe),Pp.registerVersion("@firebase/firestore","2.4.1");var Mp="firebasestorage.googleapis.com",Fp="storageBucket",Up=function(e){function t(n,r){var i=e.call(this,Vp(n),"Firebase Storage: "+r+" ("+Vp(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return a(t,e),t.prototype._codeEquals=function(e){return Vp(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(S);function Vp(e){return"storage/"+e}function jp(){return new Up("unknown","An unknown error occurred, please check the error payload for server response.")}function qp(){return new Up("canceled","User canceled the upload/download.")}function Bp(){return new Up("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function zp(e){return new Up("invalid-argument",e)}function Kp(){return new Up("app-deleted","The Firebase app was deleted.")}function Hp(e){return new Up("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gp(e,t){return new Up("invalid-format","String does not match format '"+e+"': "+t)}function Wp(e){throw new Up("internal-error","Internal error: "+e)}var Qp={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Xp=function(e,t){this.data=e,this.contentType=t||null};function $p(e,t){switch(e){case Qp.RAW:return new Xp(Yp(t));case Qp.BASE64:case Qp.BASE64URL:return new Xp(Jp(e,t));case Qp.DATA_URL:return new Xp(function(e){var t=new Zp(e);return t.base64?Jp(Qp.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(Pp){throw Gp(Qp.DATA_URL,"Malformed data URL.")}return Yp(t)}(t.rest)}(t),new Zp(t).contentType)}throw jp()}function Yp(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Jp(e,t){switch(e){case Qp.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Gp(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Qp.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Gp(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(Pp){throw Gp(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Zp=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Gp(Qp.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var ev,tv={STATE_CHANGED:"state_changed"},nv={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function rv(e){switch(e){case"running":case"pausing":case"canceling":return nv.RUNNING;case"paused":return nv.PAUSED;case"success":return nv.SUCCESS;case"canceled":return nv.CANCELED;default:return nv.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ev||(ev={}));var iv=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ev.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=ev.ABORT,t()}),e.xhr_.addEventListener("error",function(){e.errorCode_=ev.NETWORK_ERROR,t()}),e.xhr_.addEventListener("load",function(){t()})})}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Wp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Wp("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Wp("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Pp){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Wp("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var ov=function(){function e(){}return e.prototype.createConnection=function(){return new iv},e}(),av=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(Pp){return new e(t,"")}if(""===r.path)return r;throw new Up("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Mp?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Up("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),sv=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function uv(e){return"string"===typeof e||e instanceof String}function cv(e){return lv()&&e instanceof Blob}function lv(){return"undefined"!==typeof Blob}function fv(e,t,n,r){if(r<t)throw zp("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw zp("Invalid value for '"+e+"'. Expected "+n+" or less.")}function hv(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function dv(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var pv=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(e,t){f.resolve_=e,f.reject_=t,f.start_()})}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(Pp){o(Pp)}else null!==a?((r=jp()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Kp():qp()):o(r=new Up("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new vv(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout(function(){i=null,e(f,s())},t)}function f(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(e||s()||o?c.call.apply(c,h([null,e],n)):(r<64&&(r*=2),1===a?(a=2,t=0):t=1e3*(r+Math.random()),l(t)))}var d=!1;function p(e){d||(d=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout(function(){o=!0,p(!0)},n),p}(function(t,n){if(n)t(!1,new vv(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===ev.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new vv(a,r))}else{var s=r.getErrorCode()===ev.ABORT;t(!1,new vv(!1,null,s))}})}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}},t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),vv=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function gv(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function mv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=gv();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(lv())return new Blob(e);throw new Up("unsupported-environment","This browser doesn't seem to support creating Blobs")}var yv=function(){function e(e,t){var n=0,r="";cv(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(cv(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(lv()){var r=t.map(function(t){return t instanceof e?t.data_:t});return new e(mv.apply(null,r))}var i=t.map(function(e){return uv(e)?$p(Qp.RAW,e).data:e.data_}),o=0;i.forEach(function(e){o+=e.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function bv(e){var t;try{t=JSON.parse(e)}catch(Pp){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function wv(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function _v(e,t){return t}var Sv=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||_v},Ev=null;function Iv(){if(Ev)return Ev;var e=[];e.push(new Sv("bucket")),e.push(new Sv("generation")),e.push(new Sv("metageneration")),e.push(new Sv("name","fullPath",!0));var t=new Sv("name");t.xform=function(e,t){return function(e){return!uv(e)||e.length<2?e:wv(e)}(t)},e.push(t);var n=new Sv("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Sv("timeCreated")),e.push(new Sv("updated")),e.push(new Sv("md5Hash",null,!0)),e.push(new Sv("cacheControl",null,!0)),e.push(new Sv("contentDisposition",null,!0)),e.push(new Sv("contentEncoding",null,!0)),e.push(new Sv("contentLanguage",null,!0)),e.push(new Sv("contentType",null,!0)),e.push(new Sv("metadata","customMetadata",!0)),Ev=e}function Tv(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new av(n,r);return t._makeStorageReference(i)}})}(r,e),r}function kv(e,t,n){var r=bv(t);return null===r?null:Tv(e,r,n)}function Nv(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Av="prefixes",Cv="items";function xv(e,t,n){var r=bv(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Av])for(var i=0,o=n[Av];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new av(t,a));r.prefixes.push(s)}if(n[Cv])for(var u=0,c=n[Cv];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new av(t,l.name)),r.items.push(s)}return r}(e,t,r)}var Rv=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Dv(e){if(!e)throw jp()}function Ov(e,t){return function(n,r){var i=kv(e,r,t);return Dv(null!==i),i}}function Pv(e,t){return function(n,r){var i=kv(e,r,t);return Dv(null!==i),function(e,t,n){var r=bv(t);if(null===r)return null;if(!uv(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(t){var r=e.bucket,i=e.fullPath;return hv("/b/"+o(r)+"/o/"+o(i),n)+dv({alt:"media",token:t})})[0]}(i,r,e.host)}}function Lv(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Up("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Up("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Up("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Up("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Mv(e){var t=Lv(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Up("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Fv(e,t,n){var r=hv(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Rv(r,"GET",Ov(e,n),i);return o.errorHandler=Mv(t),o}function Uv(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=hv(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new Rv(a,"GET",function(e,t){return function(n,r){var i=xv(e,t,r);return Dv(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=Lv(t),u}function Vv(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var jv=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function qv(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Pp){Dv(!1)}return Dv(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Bv=262144;function zv(e,t,n,r,i,o,a,s){var u=new jv(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Up("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(f,h);if(null===p)throw Bp();var v=t.maxUploadRetryTime,g=new Rv(n,"POST",function(e,n){var i,a=qv(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Ov(t,o)(e,n):null,new jv(s,c,"final"===a,i)},v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=Lv(e),g}var Kv=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function Hv(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}var Gv=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Iv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise(function(e,t){r._resolve=e,r._reject=t,r._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})},e.prototype._createResumable=function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Vv(t,r,i),s={name:a.fullPath},u=hv(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Nv(a,n),f=e.maxUploadRetryTime,h=new Rv(u,"POST",function(e){var t;qv(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Pp){Dv(!1)}return Dv(uv(t)),t},f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=Lv(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken(function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Rv(n,"POST",function(e){var t=qv(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Pp){Dv(!1)}n||Dv(!1);var i=Number(n);return Dv(!isNaN(i)),new jv(i,r.size(),"final"===t)},i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Lv(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},e.prototype._continueUpload=function(){var e=this,t=Bv*this._chunkMultiplier,n=new jv(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var a;try{a=zv(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(Pp){return e._error=Pp,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then(function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},e.prototype._increaseMultiplier=function(){Bv*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(t,n){var r=Fv(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._transition("success")},e._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Vv(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Nv(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=yv.getBlob(c,r,l);if(null===f)throw Bp();var h={name:u.fullPath},d=hv(o,e.host),p=e.maxUploadRetryTime,v=new Rv(d,"POST",Ov(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=Lv(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=qp(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=rv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Kv(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(t){e._notifyObserver(t)})},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(rv(this._state)){case nv.SUCCESS:Hv(this._resolve.bind(null,this.snapshot))();break;case nv.CANCELED:case nv.ERROR:Hv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(rv(this._state)){case nv.RUNNING:case nv.PAUSED:e.next&&Hv(e.next.bind(e,this.snapshot))();break;case nv.SUCCESS:e.complete&&Hv(e.complete.bind(e))();break;default:e.error&&Hv(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Wv=function(){function e(e,t){this._service=e,this._location=t instanceof av?t:av.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new av(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return wv(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new av(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Hp(e)},e}();function Qv(e){var t={prefixes:[],items:[]};return Xv(e,t).then(function(){return t})}function Xv(e,t,n){return u(this,void 0,void 0,function(){var r,i,o;return c(this,function(a){switch(a.label){case 0:return[4,$v(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Xv(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function $v(e,t){return u(this,void 0,void 0,function(){var n,r;return c(this,function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&fv("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Uv(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function Yv(e,t){return u(this,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=hv(t.fullServerUrl(),e.host),o=Nv(n,r),a=e.maxOperationRetryTime,s=new Rv(i,"PATCH",Ov(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Mv(t),s}(e.storage,e._location,t,Iv()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function Jv(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=hv(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Rv(r,"GET",Pv(e,n),i);return o.errorHandler=Mv(t),o}(e.storage,e._location,Iv()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(e){if(null===e)throw new Up("no-download-url","The given file does not have any download URLs.");return e})]}})})}function Zv(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=hv(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new Rv(n,"DELETE",function(e,t){},r);return i.successCodes=[200,204],i.errorHandler=Mv(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function eg(e,t){var n=function(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new av(e._location.bucket,n);return new Wv(e.storage,r)}function tg(e){return/^[A-Za-z]+:\/\//.test(e)}function ng(e,t){if(e instanceof og){var n=e;if(null==n._bucket)throw new Up("no-default-bucket","No default bucket found. Did you set the '"+Fp+"' property when initializing the app?");var r=new Wv(n,n._bucket);return null!=t?ng(r,t):r}return void 0!==t?eg(e,t):e}function rg(e,t){if(t&&tg(t)){if(e instanceof og)return new Wv(e,t);throw zp("To use ref(service, url), the first argument must be a Storage instance.")}return ng(e,t)}function ig(e,t){var n=null===t||void 0===t?void 0:t[Fp];return null==n?null:av.makeFromBucketSpec(n,e)}var og=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Mp,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?av.makeFromBucketSpec(i,this._host):ig(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=av.makeFromBucketSpec(this._url,e):this._bucket=ig(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){fv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){fv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return u(this,void 0,void 0,function(){var e,t;return c(this,function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return u(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Wv(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new sv(Kp());var i=function(e,t,n,r,i,o){var a=dv(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new pv(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},e.prototype.makeRequestWithTokens=function(e){return u(this,void 0,void 0,function(){var t,n,r;return c(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}})})},e}();function ag(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Gv(e,new yv(t),n)}(e=C(e),t,n)}function sg(e){return function(e){return u(this,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Fv(e.storage,e._location,Iv()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}(e=C(e))}function ug(e,t){return rg(e=C(e),t)}function cg(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:b(i,e.app.options.projectId))}(e,t,n,r)}var lg=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),fg=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new lg(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then(function(t){if(e)return e(new lg(t,n,n._ref))},t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new lg(e,i,i._ref))}:{next:t.next?function(e){return t.next(new lg(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),hg=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new dg(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(t){return new dg(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),dg=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return eg(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new fg(ag(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Qp.RAW),this._throwIfRoot("putString");var r=$p(t,e),i=s({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new fg(new Gv(this._delegate,new yv(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return Qv(e=C(e))}(this._delegate).then(function(t){return new hg(t,e.storage)})},e.prototype.list=function(e){var t=this;return function(e,t){return $v(e=C(e),t)}(this._delegate,e||void 0).then(function(e){return new hg(e,t.storage)})},e.prototype.getMetadata=function(){return sg(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return Yv(e=C(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return Jv(e=C(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return Zv(e=C(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Hp(e)},e}(),pg=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(tg(e))throw zp("ref() expected a child path but got a URL, use refFromURL instead.");return new dg(ug(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!tg(e))throw zp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{av.makeFromUrl(e,this._delegate.host)}catch(Pp){throw zp("refFromUrl() expected a valid full URL but got an invalid one.")}return new dg(ug(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),cg(this._delegate,e,t,n)},e}();function vg(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new pg(r,new og(r,i,o,new ov,n,oe.SDK_VERSION))}!function(e){var t={TaskState:nv,TaskEvent:tv,StringFormat:Qp,Storage:og,Reference:dg};e.INTERNAL.registerComponent(new x("storage",vg,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(oe);var gg=n(579);const mg={apiKey:"AIzaSyBnDuRn5UuXkqTvIqL0eKSaqe7U6DIiqZk",authDomain:"ycdi-fae5f.firebaseapp.com",projectId:"ycdi-fae5f",storageBucket:"ycdi-fae5f.appspot.com",messagingSenderId:"1018262683569",appId:"1:1018262683569:web:f1d17114fedb62418e4790"};oe.apps.length||oe.initializeApp(mg);const yg=oe.firestore();oe.storage();const bg=function(){const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0),[o,a]=(0,r.useState)(""),[s,u]=(0,r.useState)(""),[c,l]=(0,r.useState)(""),[f,h]=(0,r.useState)(""),[d,p]=(0,r.useState)(""),[v,g]=(0,r.useState)(""),[m,y]=(0,r.useState)([]);(0,r.useEffect)(()=>{oe.auth().onAuthStateChanged(e=>{if(e){t(e);yg.collection("users").doc(e.uid).get().then(e=>{if(e.exists){const t=e.data();l(t.name||""),p(t.split||""),g(t.goal||"")}})}else t(null)})},[]);const b=()=>{oe.auth().signOut()};return e?(0,gg.jsx)("div",{className:"container",children:(0,gg.jsxs)("div",{className:"frosted-glass",children:[(0,gg.jsxs)("h1",{children:["Happy to have you back, ",c||e.displayName||e.email," \ud83d\udc4b"]}),(0,gg.jsx)("h2",{children:d?"You're doing: ".concat(d," Split"):"No split set yet."}),(0,gg.jsx)("h3",{children:v?"Weekly Goal: ".concat(v):"No weekly goal set yet."}),(0,gg.jsxs)("div",{children:[(0,gg.jsx)("h3",{children:"Progress Photos"}),0===m.length&&(0,gg.jsx)("p",{children:"No photos yet."})]}),(0,gg.jsx)("button",{onClick:b,children:"Log Out"})]})}):(0,gg.jsx)("div",{className:"container",children:(0,gg.jsxs)("div",{className:"frosted-glass",children:[(0,gg.jsx)("h1",{children:n?"Log In":"Create Account"}),(0,gg.jsxs)("form",{onSubmit:n?e=>{e.preventDefault(),h(""),oe.auth().signInWithEmailAndPassword(o,s).catch(e=>h(e.message))}:e=>{e.preventDefault(),h(""),oe.auth().createUserWithEmailAndPassword(o,s).then(e=>(e.user.updateProfile({displayName:c}),yg.collection("users").doc(e.user.uid).set({name:c,split:"",goal:"",photos:[]}))).catch(e=>h(e.message))},children:[!n&&(0,gg.jsx)("input",{type:"text",placeholder:"Name",value:c,onChange:e=>l(e.target.value),required:!0}),(0,gg.jsx)("input",{type:"email",placeholder:"Email",value:o,onChange:e=>a(e.target.value),required:!0}),(0,gg.jsx)("input",{type:"password",placeholder:"Password",value:s,onChange:e=>u(e.target.value),required:!0}),(0,gg.jsx)("button",{type:"submit",children:n?"Log In":"Sign Up"})]}),f&&(0,gg.jsx)("p",{className:"error",children:f}),(0,gg.jsx)("p",{className:"toggle",onClick:()=>i(!n),children:n?"Don\u2019t have an account? Create one":"Already have an account? Log in"})]})})};i.render((0,gg.jsx)(r.StrictMode,{children:(0,gg.jsx)(bg,{})}),document.getElementById("root"))})();
//# sourceMappingURL=main.28d493c8.js.map